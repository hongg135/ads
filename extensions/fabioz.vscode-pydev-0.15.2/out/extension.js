"use strict";var tk=Object.create;var _a=Object.defineProperty;var rk=Object.getOwnPropertyDescriptor;var nk=Object.getOwnPropertyNames;var ik=Object.getPrototypeOf,sk=Object.prototype.hasOwnProperty;var ok=(t,e,r)=>e in t?_a(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var L=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),ak=(t,e)=>{for(var r in e)_a(t,r,{get:e[r],enumerable:!0})},pE=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of nk(e))!sk.call(t,i)&&i!==r&&_a(t,i,{get:()=>e[i],enumerable:!(n=rk(e,i))||n.enumerable});return t};var gt=(t,e,r)=>(r=t!=null?tk(ik(t)):{},pE(e||!t||!t.__esModule?_a(r,"default",{value:t,enumerable:!0}):r,t)),uk=t=>pE(_a({},"__esModule",{value:!0}),t);var hh=(t,e,r)=>(ok(t,typeof e!="symbol"?e+"":e,r),r);var wa=L((BV,mE)=>{var ck="2.0.0",lk=Number.MAX_SAFE_INTEGER||9007199254740991,fk=16,dk=256-6,hk=["major","premajor","minor","preminor","patch","prepatch","prerelease"];mE.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:fk,MAX_SAFE_BUILD_LENGTH:dk,MAX_SAFE_INTEGER:lk,RELEASE_TYPES:hk,SEMVER_SPEC_VERSION:ck,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var Ea=L((HV,gE)=>{var pk=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};gE.exports=pk});var Vs=L((Pn,vE)=>{var{MAX_SAFE_COMPONENT_LENGTH:ph,MAX_SAFE_BUILD_LENGTH:mk,MAX_LENGTH:gk}=wa(),vk=Ea();Pn=vE.exports={};var yk=Pn.re=[],_k=Pn.safeRe=[],he=Pn.src=[],pe=Pn.t={},wk=0,mh="[a-zA-Z0-9-]",Ek=[["\\s",1],["\\d",gk],[mh,mk]],bk=t=>{for(let[e,r]of Ek)t=t.split(`${e}*`).join(`${e}{0,${r}}`).split(`${e}+`).join(`${e}{1,${r}}`);return t},xe=(t,e,r)=>{let n=bk(e),i=wk++;vk(t,i,e),pe[t]=i,he[i]=e,yk[i]=new RegExp(e,r?"g":void 0),_k[i]=new RegExp(n,r?"g":void 0)};xe("NUMERICIDENTIFIER","0|[1-9]\\d*");xe("NUMERICIDENTIFIERLOOSE","\\d+");xe("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${mh}*`);xe("MAINVERSION",`(${he[pe.NUMERICIDENTIFIER]})\\.(${he[pe.NUMERICIDENTIFIER]})\\.(${he[pe.NUMERICIDENTIFIER]})`);xe("MAINVERSIONLOOSE",`(${he[pe.NUMERICIDENTIFIERLOOSE]})\\.(${he[pe.NUMERICIDENTIFIERLOOSE]})\\.(${he[pe.NUMERICIDENTIFIERLOOSE]})`);xe("PRERELEASEIDENTIFIER",`(?:${he[pe.NUMERICIDENTIFIER]}|${he[pe.NONNUMERICIDENTIFIER]})`);xe("PRERELEASEIDENTIFIERLOOSE",`(?:${he[pe.NUMERICIDENTIFIERLOOSE]}|${he[pe.NONNUMERICIDENTIFIER]})`);xe("PRERELEASE",`(?:-(${he[pe.PRERELEASEIDENTIFIER]}(?:\\.${he[pe.PRERELEASEIDENTIFIER]})*))`);xe("PRERELEASELOOSE",`(?:-?(${he[pe.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${he[pe.PRERELEASEIDENTIFIERLOOSE]})*))`);xe("BUILDIDENTIFIER",`${mh}+`);xe("BUILD",`(?:\\+(${he[pe.BUILDIDENTIFIER]}(?:\\.${he[pe.BUILDIDENTIFIER]})*))`);xe("FULLPLAIN",`v?${he[pe.MAINVERSION]}${he[pe.PRERELEASE]}?${he[pe.BUILD]}?`);xe("FULL",`^${he[pe.FULLPLAIN]}$`);xe("LOOSEPLAIN",`[v=\\s]*${he[pe.MAINVERSIONLOOSE]}${he[pe.PRERELEASELOOSE]}?${he[pe.BUILD]}?`);xe("LOOSE",`^${he[pe.LOOSEPLAIN]}$`);xe("GTLT","((?:<|>)?=?)");xe("XRANGEIDENTIFIERLOOSE",`${he[pe.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);xe("XRANGEIDENTIFIER",`${he[pe.NUMERICIDENTIFIER]}|x|X|\\*`);xe("XRANGEPLAIN",`[v=\\s]*(${he[pe.XRANGEIDENTIFIER]})(?:\\.(${he[pe.XRANGEIDENTIFIER]})(?:\\.(${he[pe.XRANGEIDENTIFIER]})(?:${he[pe.PRERELEASE]})?${he[pe.BUILD]}?)?)?`);xe("XRANGEPLAINLOOSE",`[v=\\s]*(${he[pe.XRANGEIDENTIFIERLOOSE]})(?:\\.(${he[pe.XRANGEIDENTIFIERLOOSE]})(?:\\.(${he[pe.XRANGEIDENTIFIERLOOSE]})(?:${he[pe.PRERELEASELOOSE]})?${he[pe.BUILD]}?)?)?`);xe("XRANGE",`^${he[pe.GTLT]}\\s*${he[pe.XRANGEPLAIN]}$`);xe("XRANGELOOSE",`^${he[pe.GTLT]}\\s*${he[pe.XRANGEPLAINLOOSE]}$`);xe("COERCEPLAIN",`(^|[^\\d])(\\d{1,${ph}})(?:\\.(\\d{1,${ph}}))?(?:\\.(\\d{1,${ph}}))?`);xe("COERCE",`${he[pe.COERCEPLAIN]}(?:$|[^\\d])`);xe("COERCEFULL",he[pe.COERCEPLAIN]+`(?:${he[pe.PRERELEASE]})?(?:${he[pe.BUILD]})?(?:$|[^\\d])`);xe("COERCERTL",he[pe.COERCE],!0);xe("COERCERTLFULL",he[pe.COERCEFULL],!0);xe("LONETILDE","(?:~>?)");xe("TILDETRIM",`(\\s*)${he[pe.LONETILDE]}\\s+`,!0);Pn.tildeTrimReplace="$1~";xe("TILDE",`^${he[pe.LONETILDE]}${he[pe.XRANGEPLAIN]}$`);xe("TILDELOOSE",`^${he[pe.LONETILDE]}${he[pe.XRANGEPLAINLOOSE]}$`);xe("LONECARET","(?:\\^)");xe("CARETTRIM",`(\\s*)${he[pe.LONECARET]}\\s+`,!0);Pn.caretTrimReplace="$1^";xe("CARET",`^${he[pe.LONECARET]}${he[pe.XRANGEPLAIN]}$`);xe("CARETLOOSE",`^${he[pe.LONECARET]}${he[pe.XRANGEPLAINLOOSE]}$`);xe("COMPARATORLOOSE",`^${he[pe.GTLT]}\\s*(${he[pe.LOOSEPLAIN]})$|^$`);xe("COMPARATOR",`^${he[pe.GTLT]}\\s*(${he[pe.FULLPLAIN]})$|^$`);xe("COMPARATORTRIM",`(\\s*)${he[pe.GTLT]}\\s*(${he[pe.LOOSEPLAIN]}|${he[pe.XRANGEPLAIN]})`,!0);Pn.comparatorTrimReplace="$1$2$3";xe("HYPHENRANGE",`^\\s*(${he[pe.XRANGEPLAIN]})\\s+-\\s+(${he[pe.XRANGEPLAIN]})\\s*$`);xe("HYPHENRANGELOOSE",`^\\s*(${he[pe.XRANGEPLAINLOOSE]})\\s+-\\s+(${he[pe.XRANGEPLAINLOOSE]})\\s*$`);xe("STAR","(<|>)?=?\\s*\\*");xe("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");xe("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Ic=L((WV,yE)=>{var Ck=Object.freeze({loose:!0}),Sk=Object.freeze({}),Tk=t=>t?typeof t!="object"?Ck:t:Sk;yE.exports=Tk});var gh=L(($V,EE)=>{var _E=/^[0-9]+$/,wE=(t,e)=>{let r=_E.test(t),n=_E.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},Rk=(t,e)=>wE(e,t);EE.exports={compareIdentifiers:wE,rcompareIdentifiers:Rk}});var rr=L((zV,TE)=>{var Nc=Ea(),{MAX_LENGTH:bE,MAX_SAFE_INTEGER:Fc}=wa(),{safeRe:CE,t:SE}=Vs(),Dk=Ic(),{compareIdentifiers:Ks}=gh(),Or=class{constructor(e,r){if(r=Dk(r),e instanceof Or){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>bE)throw new TypeError(`version is longer than ${bE} characters`);Nc("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?CE[SE.LOOSE]:CE[SE.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Fc||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Fc||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Fc||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<Fc)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Nc("SemVer.compare",this.version,this.options,e),!(e instanceof Or)){if(typeof e=="string"&&e===this.version)return 0;e=new Or(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Or||(e=new Or(e,this.options)),Ks(this.major,e.major)||Ks(this.minor,e.minor)||Ks(this.patch,e.patch)}comparePre(e){if(e instanceof Or||(e=new Or(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=e.prerelease[r];if(Nc("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Ks(n,i)}while(++r)}compareBuild(e){e instanceof Or||(e=new Or(e,this.options));let r=0;do{let n=this.build[r],i=e.build[r];if(Nc("build compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Ks(n,i)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),Ks(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};TE.exports=Or});var Zi=L((GV,DE)=>{var RE=rr(),Ok=(t,e,r=!1)=>{if(t instanceof RE)return t;try{return new RE(t,e)}catch(n){if(!r)return null;throw n}};DE.exports=Ok});var xE=L((VV,OE)=>{var xk=Zi(),Pk=(t,e)=>{let r=xk(t,e);return r?r.version:null};OE.exports=Pk});var IE=L((KV,PE)=>{var Ik=Zi(),Nk=(t,e)=>{let r=Ik(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};PE.exports=Nk});var LE=L((XV,FE)=>{var NE=rr(),Fk=(t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new NE(t instanceof NE?t.version:t,r).inc(e,n,i).version}catch{return null}};FE.exports=Fk});var qE=L((YV,AE)=>{var kE=Zi(),Lk=(t,e)=>{let r=kE(t,null,!0),n=kE(e,null,!0),i=r.compare(n);if(i===0)return null;let s=i>0,o=s?r:n,u=s?n:r,a=!!o.prerelease.length;if(!!u.prerelease.length&&!a)return!u.patch&&!u.minor?"major":o.patch?"patch":o.minor?"minor":"major";let f=a?"pre":"";return r.major!==n.major?f+"major":r.minor!==n.minor?f+"minor":r.patch!==n.patch?f+"patch":"prerelease"};AE.exports=Lk});var jE=L((JV,ME)=>{var kk=rr(),Ak=(t,e)=>new kk(t,e).major;ME.exports=Ak});var BE=L((ZV,UE)=>{var qk=rr(),Mk=(t,e)=>new qk(t,e).minor;UE.exports=Mk});var WE=L((QV,HE)=>{var jk=rr(),Uk=(t,e)=>new jk(t,e).patch;HE.exports=Uk});var zE=L((e5,$E)=>{var Bk=Zi(),Hk=(t,e)=>{let r=Bk(t,e);return r&&r.prerelease.length?r.prerelease:null};$E.exports=Hk});var Ar=L((t5,VE)=>{var GE=rr(),Wk=(t,e,r)=>new GE(t,r).compare(new GE(e,r));VE.exports=Wk});var XE=L((r5,KE)=>{var $k=Ar(),zk=(t,e,r)=>$k(e,t,r);KE.exports=zk});var JE=L((n5,YE)=>{var Gk=Ar(),Vk=(t,e)=>Gk(t,e,!0);YE.exports=Vk});var Lc=L((i5,QE)=>{var ZE=rr(),Kk=(t,e,r)=>{let n=new ZE(t,r),i=new ZE(e,r);return n.compare(i)||n.compareBuild(i)};QE.exports=Kk});var tb=L((s5,eb)=>{var Xk=Lc(),Yk=(t,e)=>t.sort((r,n)=>Xk(r,n,e));eb.exports=Yk});var nb=L((o5,rb)=>{var Jk=Lc(),Zk=(t,e)=>t.sort((r,n)=>Jk(n,r,e));rb.exports=Zk});var ba=L((a5,ib)=>{var Qk=Ar(),eA=(t,e,r)=>Qk(t,e,r)>0;ib.exports=eA});var kc=L((u5,sb)=>{var tA=Ar(),rA=(t,e,r)=>tA(t,e,r)<0;sb.exports=rA});var vh=L((c5,ob)=>{var nA=Ar(),iA=(t,e,r)=>nA(t,e,r)===0;ob.exports=iA});var yh=L((l5,ab)=>{var sA=Ar(),oA=(t,e,r)=>sA(t,e,r)!==0;ab.exports=oA});var Ac=L((f5,ub)=>{var aA=Ar(),uA=(t,e,r)=>aA(t,e,r)>=0;ub.exports=uA});var qc=L((d5,cb)=>{var cA=Ar(),lA=(t,e,r)=>cA(t,e,r)<=0;cb.exports=lA});var _h=L((h5,lb)=>{var fA=vh(),dA=yh(),hA=ba(),pA=Ac(),mA=kc(),gA=qc(),vA=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return fA(t,r,n);case"!=":return dA(t,r,n);case">":return hA(t,r,n);case">=":return pA(t,r,n);case"<":return mA(t,r,n);case"<=":return gA(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};lb.exports=vA});var db=L((p5,fb)=>{var yA=rr(),_A=Zi(),{safeRe:Mc,t:jc}=Vs(),wA=(t,e)=>{if(t instanceof yA)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(e.includePrerelease?Mc[jc.COERCEFULL]:Mc[jc.COERCE]);else{let a=e.includePrerelease?Mc[jc.COERCERTLFULL]:Mc[jc.COERCERTL],c;for(;(c=a.exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||c.index+c[0].length!==r.index+r[0].length)&&(r=c),a.lastIndex=c.index+c[1].length+c[2].length;a.lastIndex=-1}if(r===null)return null;let n=r[2],i=r[3]||"0",s=r[4]||"0",o=e.includePrerelease&&r[5]?`-${r[5]}`:"",u=e.includePrerelease&&r[6]?`+${r[6]}`:"";return _A(`${n}.${i}.${s}${o}${u}`,e)};fb.exports=wA});var pb=L((m5,hb)=>{var wh=class{constructor(){this.max=1e3,this.map=new Map}get(e){let r=this.map.get(e);if(r!==void 0)return this.map.delete(e),this.map.set(e,r),r}delete(e){return this.map.delete(e)}set(e,r){if(!this.delete(e)&&r!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(e,r)}return this}};hb.exports=wh});var qr=L((g5,yb)=>{var Qi=class{constructor(e,r){if(r=bA(r),e instanceof Qi)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new Qi(e.raw,r);if(e instanceof Eh)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!gb(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&xA(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&DA)|(this.options.loose&&OA))+":"+e,i=mb.get(n);if(i)return i;let s=this.options.loose,o=s?_r[fr.HYPHENRANGELOOSE]:_r[fr.HYPHENRANGE];e=e.replace(o,jA(this.options.includePrerelease)),vt("hyphen replace",e),e=e.replace(_r[fr.COMPARATORTRIM],SA),vt("comparator trim",e),e=e.replace(_r[fr.TILDETRIM],TA),vt("tilde trim",e),e=e.replace(_r[fr.CARETTRIM],RA),vt("caret trim",e);let u=e.split(" ").map(d=>PA(d,this.options)).join(" ").split(/\s+/).map(d=>MA(d,this.options));s&&(u=u.filter(d=>(vt("loose invalid filter",d,this.options),!!d.match(_r[fr.COMPARATORLOOSE])))),vt("range list",u);let a=new Map,c=u.map(d=>new Eh(d,this.options));for(let d of c){if(gb(d))return[d];a.set(d.value,d)}a.size>1&&a.has("")&&a.delete("");let f=[...a.values()];return mb.set(n,f),f}intersects(e,r){if(!(e instanceof Qi))throw new TypeError("a Range is required");return this.set.some(n=>vb(n,r)&&e.set.some(i=>vb(i,r)&&n.every(s=>i.every(o=>s.intersects(o,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new CA(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(UA(this.set[r],e,this.options))return!0;return!1}};yb.exports=Qi;var EA=pb(),mb=new EA,bA=Ic(),Eh=Ca(),vt=Ea(),CA=rr(),{safeRe:_r,t:fr,comparatorTrimReplace:SA,tildeTrimReplace:TA,caretTrimReplace:RA}=Vs(),{FLAG_INCLUDE_PRERELEASE:DA,FLAG_LOOSE:OA}=wa(),gb=t=>t.value==="<0.0.0-0",xA=t=>t.value==="",vb=(t,e)=>{let r=!0,n=t.slice(),i=n.pop();for(;r&&n.length;)r=n.every(s=>i.intersects(s,e)),i=n.pop();return r},PA=(t,e)=>(vt("comp",t,e),t=FA(t,e),vt("caret",t),t=IA(t,e),vt("tildes",t),t=kA(t,e),vt("xrange",t),t=qA(t,e),vt("stars",t),t),dr=t=>!t||t.toLowerCase()==="x"||t==="*",IA=(t,e)=>t.trim().split(/\s+/).map(r=>NA(r,e)).join(" "),NA=(t,e)=>{let r=e.loose?_r[fr.TILDELOOSE]:_r[fr.TILDE];return t.replace(r,(n,i,s,o,u)=>{vt("tilde",t,n,i,s,o,u);let a;return dr(i)?a="":dr(s)?a=`>=${i}.0.0 <${+i+1}.0.0-0`:dr(o)?a=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:u?(vt("replaceTilde pr",u),a=`>=${i}.${s}.${o}-${u} <${i}.${+s+1}.0-0`):a=`>=${i}.${s}.${o} <${i}.${+s+1}.0-0`,vt("tilde return",a),a})},FA=(t,e)=>t.trim().split(/\s+/).map(r=>LA(r,e)).join(" "),LA=(t,e)=>{vt("caret",t,e);let r=e.loose?_r[fr.CARETLOOSE]:_r[fr.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(i,s,o,u,a)=>{vt("caret",t,i,s,o,u,a);let c;return dr(s)?c="":dr(o)?c=`>=${s}.0.0${n} <${+s+1}.0.0-0`:dr(u)?s==="0"?c=`>=${s}.${o}.0${n} <${s}.${+o+1}.0-0`:c=`>=${s}.${o}.0${n} <${+s+1}.0.0-0`:a?(vt("replaceCaret pr",a),s==="0"?o==="0"?c=`>=${s}.${o}.${u}-${a} <${s}.${o}.${+u+1}-0`:c=`>=${s}.${o}.${u}-${a} <${s}.${+o+1}.0-0`:c=`>=${s}.${o}.${u}-${a} <${+s+1}.0.0-0`):(vt("no pr"),s==="0"?o==="0"?c=`>=${s}.${o}.${u}${n} <${s}.${o}.${+u+1}-0`:c=`>=${s}.${o}.${u}${n} <${s}.${+o+1}.0-0`:c=`>=${s}.${o}.${u} <${+s+1}.0.0-0`),vt("caret return",c),c})},kA=(t,e)=>(vt("replaceXRanges",t,e),t.split(/\s+/).map(r=>AA(r,e)).join(" ")),AA=(t,e)=>{t=t.trim();let r=e.loose?_r[fr.XRANGELOOSE]:_r[fr.XRANGE];return t.replace(r,(n,i,s,o,u,a)=>{vt("xRange",t,n,i,s,o,u,a);let c=dr(s),f=c||dr(o),d=f||dr(u),m=d;return i==="="&&m&&(i=""),a=e.includePrerelease?"-0":"",c?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&m?(f&&(o=0),u=0,i===">"?(i=">=",f?(s=+s+1,o=0,u=0):(o=+o+1,u=0)):i==="<="&&(i="<",f?s=+s+1:o=+o+1),i==="<"&&(a="-0"),n=`${i+s}.${o}.${u}${a}`):f?n=`>=${s}.0.0${a} <${+s+1}.0.0-0`:d&&(n=`>=${s}.${o}.0${a} <${s}.${+o+1}.0-0`),vt("xRange return",n),n})},qA=(t,e)=>(vt("replaceStars",t,e),t.trim().replace(_r[fr.STAR],"")),MA=(t,e)=>(vt("replaceGTE0",t,e),t.trim().replace(_r[e.includePrerelease?fr.GTE0PRE:fr.GTE0],"")),jA=t=>(e,r,n,i,s,o,u,a,c,f,d,m)=>(dr(n)?r="":dr(i)?r=`>=${n}.0.0${t?"-0":""}`:dr(s)?r=`>=${n}.${i}.0${t?"-0":""}`:o?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,dr(c)?a="":dr(f)?a=`<${+c+1}.0.0-0`:dr(d)?a=`<${c}.${+f+1}.0-0`:m?a=`<=${c}.${f}.${d}-${m}`:t?a=`<${c}.${f}.${+d+1}-0`:a=`<=${a}`,`${r} ${a}`.trim()),UA=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(vt(t[n].semver),t[n].semver!==Eh.ANY&&t[n].semver.prerelease.length>0){let i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var Ca=L((v5,Sb)=>{var Sa=Symbol("SemVer ANY"),Xs=class{static get ANY(){return Sa}constructor(e,r){if(r=_b(r),e instanceof Xs){if(e.loose===!!r.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),Ch("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===Sa?this.value="":this.value=this.operator+this.semver.version,Ch("comp",this)}parse(e){let r=this.options.loose?wb[Eb.COMPARATORLOOSE]:wb[Eb.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new bb(n[2],this.options.loose):this.semver=Sa}toString(){return this.value}test(e){if(Ch("Comparator.test",e,this.options.loose),this.semver===Sa||e===Sa)return!0;if(typeof e=="string")try{e=new bb(e,this.options)}catch{return!1}return bh(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof Xs))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new Cb(e.value,r).test(this.value):e.operator===""?e.value===""?!0:new Cb(this.value,r).test(e.semver):(r=_b(r),r.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||bh(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||bh(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};Sb.exports=Xs;var _b=Ic(),{safeRe:wb,t:Eb}=Vs(),bh=_h(),Ch=Ea(),bb=rr(),Cb=qr()});var Ta=L((y5,Tb)=>{var BA=qr(),HA=(t,e,r)=>{try{e=new BA(e,r)}catch{return!1}return e.test(t)};Tb.exports=HA});var Db=L((_5,Rb)=>{var WA=qr(),$A=(t,e)=>new WA(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));Rb.exports=$A});var xb=L((w5,Ob)=>{var zA=rr(),GA=qr(),VA=(t,e,r)=>{let n=null,i=null,s=null;try{s=new GA(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new zA(n,r))}),n};Ob.exports=VA});var Ib=L((E5,Pb)=>{var KA=rr(),XA=qr(),YA=(t,e,r)=>{let n=null,i=null,s=null;try{s=new XA(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new KA(n,r))}),n};Pb.exports=YA});var Lb=L((b5,Fb)=>{var Sh=rr(),JA=qr(),Nb=ba(),ZA=(t,e)=>{t=new JA(t,e);let r=new Sh("0.0.0");if(t.test(r)||(r=new Sh("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let i=t.set[n],s=null;i.forEach(o=>{let u=new Sh(o.semver.version);switch(o.operator){case">":u.prerelease.length===0?u.patch++:u.prerelease.push(0),u.raw=u.format();case"":case">=":(!s||Nb(u,s))&&(s=u);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||Nb(r,s))&&(r=s)}return r&&t.test(r)?r:null};Fb.exports=ZA});var Ab=L((C5,kb)=>{var QA=qr(),eq=(t,e)=>{try{return new QA(t,e).range||"*"}catch{return null}};kb.exports=eq});var Uc=L((S5,Ub)=>{var tq=rr(),jb=Ca(),{ANY:rq}=jb,nq=qr(),iq=Ta(),qb=ba(),Mb=kc(),sq=qc(),oq=Ac(),aq=(t,e,r,n)=>{t=new tq(t,n),e=new nq(e,n);let i,s,o,u,a;switch(r){case">":i=qb,s=sq,o=Mb,u=">",a=">=";break;case"<":i=Mb,s=oq,o=qb,u="<",a="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(iq(t,e,n))return!1;for(let c=0;c<e.set.length;++c){let f=e.set[c],d=null,m=null;if(f.forEach(h=>{h.semver===rq&&(h=new jb(">=0.0.0")),d=d||h,m=m||h,i(h.semver,d.semver,n)?d=h:o(h.semver,m.semver,n)&&(m=h)}),d.operator===u||d.operator===a||(!m.operator||m.operator===u)&&s(t,m.semver))return!1;if(m.operator===a&&o(t,m.semver))return!1}return!0};Ub.exports=aq});var Hb=L((T5,Bb)=>{var uq=Uc(),cq=(t,e,r)=>uq(t,e,">",r);Bb.exports=cq});var $b=L((R5,Wb)=>{var lq=Uc(),fq=(t,e,r)=>lq(t,e,"<",r);Wb.exports=fq});var Vb=L((D5,Gb)=>{var zb=qr(),dq=(t,e,r)=>(t=new zb(t,r),e=new zb(e,r),t.intersects(e,r));Gb.exports=dq});var Xb=L((O5,Kb)=>{var hq=Ta(),pq=Ar();Kb.exports=(t,e,r)=>{let n=[],i=null,s=null,o=t.sort((f,d)=>pq(f,d,r));for(let f of o)hq(f,e,r)?(s=f,i||(i=f)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);let u=[];for(let[f,d]of n)f===d?u.push(f):!d&&f===o[0]?u.push("*"):d?f===o[0]?u.push(`<=${d}`):u.push(`${f} - ${d}`):u.push(`>=${f}`);let a=u.join(" || "),c=typeof e.raw=="string"?e.raw:String(e);return a.length<c.length?a:e}});var t0=L((x5,e0)=>{var Yb=qr(),Rh=Ca(),{ANY:Th}=Rh,Ra=Ta(),Dh=Ar(),mq=(t,e,r={})=>{if(t===e)return!0;t=new Yb(t,r),e=new Yb(e,r);let n=!1;e:for(let i of t.set){for(let s of e.set){let o=vq(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},gq=[new Rh(">=0.0.0-0")],Jb=[new Rh(">=0.0.0")],vq=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Th){if(e.length===1&&e[0].semver===Th)return!0;r.includePrerelease?t=gq:t=Jb}if(e.length===1&&e[0].semver===Th){if(r.includePrerelease)return!0;e=Jb}let n=new Set,i,s;for(let h of t)h.operator===">"||h.operator===">="?i=Zb(i,h,r):h.operator==="<"||h.operator==="<="?s=Qb(s,h,r):n.add(h.semver);if(n.size>1)return null;let o;if(i&&s){if(o=Dh(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(let h of n){if(i&&!Ra(h,String(i),r)||s&&!Ra(h,String(s),r))return null;for(let y of e)if(!Ra(h,String(y),r))return!1;return!0}let u,a,c,f,d=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,m=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;d&&d.prerelease.length===1&&s.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let h of e){if(f=f||h.operator===">"||h.operator===">=",c=c||h.operator==="<"||h.operator==="<=",i){if(m&&h.semver.prerelease&&h.semver.prerelease.length&&h.semver.major===m.major&&h.semver.minor===m.minor&&h.semver.patch===m.patch&&(m=!1),h.operator===">"||h.operator===">="){if(u=Zb(i,h,r),u===h&&u!==i)return!1}else if(i.operator===">="&&!Ra(i.semver,String(h),r))return!1}if(s){if(d&&h.semver.prerelease&&h.semver.prerelease.length&&h.semver.major===d.major&&h.semver.minor===d.minor&&h.semver.patch===d.patch&&(d=!1),h.operator==="<"||h.operator==="<="){if(a=Qb(s,h,r),a===h&&a!==s)return!1}else if(s.operator==="<="&&!Ra(s.semver,String(h),r))return!1}if(!h.operator&&(s||i)&&o!==0)return!1}return!(i&&c&&!s&&o!==0||s&&f&&!i&&o!==0||m||d)},Zb=(t,e,r)=>{if(!t)return e;let n=Dh(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},Qb=(t,e,r)=>{if(!t)return e;let n=Dh(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};e0.exports=mq});var s0=L((P5,i0)=>{var Oh=Vs(),r0=wa(),yq=rr(),n0=gh(),_q=Zi(),wq=xE(),Eq=IE(),bq=LE(),Cq=qE(),Sq=jE(),Tq=BE(),Rq=WE(),Dq=zE(),Oq=Ar(),xq=XE(),Pq=JE(),Iq=Lc(),Nq=tb(),Fq=nb(),Lq=ba(),kq=kc(),Aq=vh(),qq=yh(),Mq=Ac(),jq=qc(),Uq=_h(),Bq=db(),Hq=Ca(),Wq=qr(),$q=Ta(),zq=Db(),Gq=xb(),Vq=Ib(),Kq=Lb(),Xq=Ab(),Yq=Uc(),Jq=Hb(),Zq=$b(),Qq=Vb(),eM=Xb(),tM=t0();i0.exports={parse:_q,valid:wq,clean:Eq,inc:bq,diff:Cq,major:Sq,minor:Tq,patch:Rq,prerelease:Dq,compare:Oq,rcompare:xq,compareLoose:Pq,compareBuild:Iq,sort:Nq,rsort:Fq,gt:Lq,lt:kq,eq:Aq,neq:qq,gte:Mq,lte:jq,cmp:Uq,coerce:Bq,Comparator:Hq,Range:Wq,satisfies:$q,toComparators:zq,maxSatisfying:Gq,minSatisfying:Vq,minVersion:Kq,validRange:Xq,outside:Yq,gtr:Jq,ltr:Zq,intersects:Qq,simplifyRange:eM,subset:tM,SemVer:yq,re:Oh.re,src:Oh.src,tokens:Oh.t,SEMVER_SPEC_VERSION:r0.SEMVER_SPEC_VERSION,RELEASE_TYPES:r0.RELEASE_TYPES,compareIdentifiers:n0.compareIdentifiers,rcompareIdentifiers:n0.rcompareIdentifiers}});var ci=L(Ot=>{"use strict";Object.defineProperty(Ot,"__esModule",{value:!0});Ot.asPromise=Ot.thenable=Ot.typedArray=Ot.stringArray=Ot.array=Ot.func=Ot.error=Ot.number=Ot.string=Ot.boolean=void 0;function rM(t){return t===!0||t===!1}Ot.boolean=rM;function o0(t){return typeof t=="string"||t instanceof String}Ot.string=o0;function nM(t){return typeof t=="number"||t instanceof Number}Ot.number=nM;function iM(t){return t instanceof Error}Ot.error=iM;function a0(t){return typeof t=="function"}Ot.func=a0;function u0(t){return Array.isArray(t)}Ot.array=u0;function sM(t){return u0(t)&&t.every(e=>o0(e))}Ot.stringArray=sM;function oM(t,e){return Array.isArray(t)&&t.every(e)}Ot.typedArray=oM;function c0(t){return t&&a0(t.then)}Ot.thenable=c0;function aM(t){return t instanceof Promise?t:c0(t)?new Promise((e,r)=>{t.then(n=>e(n),n=>r(n))}):Promise.resolve(t)}Ot.asPromise=aM});var In=L(Ih=>{"use strict";Object.defineProperty(Ih,"__esModule",{value:!0});var xh;function Ph(){if(xh===void 0)throw new Error("No runtime abstraction layer installed");return xh}(function(t){function e(r){if(r===void 0)throw new Error("No runtime abstraction layer provided");xh=r}t.install=e})(Ph||(Ph={}));Ih.default=Ph});var Nh=L(Da=>{"use strict";Object.defineProperty(Da,"__esModule",{value:!0});Da.Disposable=void 0;var uM;(function(t){function e(r){return{dispose:r}}t.create=e})(uM=Da.Disposable||(Da.Disposable={}))});var l0=L(Bc=>{"use strict";Object.defineProperty(Bc,"__esModule",{value:!0});Bc.AbstractMessageBuffer=void 0;var cM=13,lM=10,fM=`\r
`,Fh=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let r=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(r),this._totalLength+=r.byteLength}tryReadHeaders(){if(this._chunks.length===0)return;let e=0,r=0,n=0,i=0;e:for(;r<this._chunks.length;){let a=this._chunks[r];n=0;t:for(;n<a.length;){switch(a[n]){case cM:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case lM:switch(e){case 1:e=2;break;case 3:e=4,n++;break e;default:e=0}break;default:e=0}n++}i+=a.byteLength,r++}if(e!==4)return;let s=this._read(i+n),o=new Map,u=this.toString(s,"ascii").split(fM);if(u.length<2)return o;for(let a=0;a<u.length-2;a++){let c=u[a],f=c.indexOf(":");if(f===-1)throw new Error("Message header must separate key and value using :");let d=c.substr(0,f),m=c.substr(f+1).trim();o.set(d,m)}return o}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(s)}if(this._chunks[0].byteLength>e){let s=this._chunks[0],o=this.asNative(s,e);return this._chunks[0]=s.slice(e),this._totalLength-=e,o}let r=this.allocNative(e),n=0,i=0;for(;e>0;){let s=this._chunks[i];if(s.byteLength>e){let o=s.slice(0,e);r.set(o,n),n+=e,this._chunks[i]=s.slice(e),this._totalLength-=e,e-=e}else r.set(s,n),n+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,e-=s.byteLength}return r}};Bc.AbstractMessageBuffer=Fh});var h0=L(qh=>{"use strict";Object.defineProperty(qh,"__esModule",{value:!0});var dM=In(),f0=require("util"),es=Nh(),hM=l0(),Ys=class extends hM.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return Ys.emptyBuffer}fromString(e,r){return Buffer.from(e,r)}toString(e,r){return e instanceof Buffer?e.toString(r):new f0.TextDecoder(r).decode(e)}asNative(e,r){return r===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,r):Buffer.from(e,0,r)}allocNative(e){return Buffer.allocUnsafe(e)}};Ys.emptyBuffer=Buffer.allocUnsafe(0);var Lh=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),es.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),es.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),es.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),es.Disposable.create(()=>this.stream.off("data",e))}},kh=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),es.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),es.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),es.Disposable.create(()=>this.stream.off("end",e))}write(e,r){return new Promise((n,i)=>{let s=o=>{o==null?n():i(o)};typeof e=="string"?this.stream.write(e,r,s):this.stream.write(e,s)})}end(){this.stream.end()}},d0=Object.freeze({messageBuffer:Object.freeze({create:t=>new Ys(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(r){return Promise.reject(r)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new f0.TextDecoder(e.charset).decode(t)))}catch(r){return Promise.reject(r)}}})}),stream:Object.freeze({asReadableStream:t=>new Lh(t),asWritableStream:t=>new kh(t)}),console,timer:Object.freeze({setTimeout(t,e,...r){return setTimeout(t,e,...r)},clearTimeout(t){clearTimeout(t)},setImmediate(t,...e){return setImmediate(t,...e)},clearImmediate(t){clearImmediate(t)}})});function Ah(){return d0}(function(t){function e(){dM.default.install(d0)}t.install=e})(Ah||(Ah={}));qh.default=Ah});var Js=L(nr=>{"use strict";Object.defineProperty(nr,"__esModule",{value:!0});nr.stringArray=nr.array=nr.func=nr.error=nr.number=nr.string=nr.boolean=void 0;function pM(t){return t===!0||t===!1}nr.boolean=pM;function p0(t){return typeof t=="string"||t instanceof String}nr.string=p0;function mM(t){return typeof t=="number"||t instanceof Number}nr.number=mM;function gM(t){return t instanceof Error}nr.error=gM;function vM(t){return typeof t=="function"}nr.func=vM;function m0(t){return Array.isArray(t)}nr.array=m0;function yM(t){return m0(t)&&t.every(e=>p0(e))}nr.stringArray=yM});var op=L(ge=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0});ge.isResponseMessage=ge.isNotificationMessage=ge.isRequestMessage=ge.NotificationType9=ge.NotificationType8=ge.NotificationType7=ge.NotificationType6=ge.NotificationType5=ge.NotificationType4=ge.NotificationType3=ge.NotificationType2=ge.NotificationType1=ge.NotificationType0=ge.NotificationType=ge.RequestType9=ge.RequestType8=ge.RequestType7=ge.RequestType6=ge.RequestType5=ge.RequestType4=ge.RequestType3=ge.RequestType2=ge.RequestType1=ge.RequestType=ge.RequestType0=ge.AbstractMessageSignature=ge.ParameterStructures=ge.ResponseError=ge.ErrorCodes=void 0;var ts=Js(),g0;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=t.jsonrpcReservedErrorRangeStart,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=t.jsonrpcReservedErrorRangeEnd})(g0=ge.ErrorCodes||(ge.ErrorCodes={}));var Oa=class extends Error{constructor(e,r,n){super(r),this.code=ts.number(e)?e:g0.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,Oa.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}};ge.ResponseError=Oa;var Ht=class{constructor(e){this.kind=e}static is(e){return e===Ht.auto||e===Ht.byName||e===Ht.byPosition}toString(){return this.kind}};ge.ParameterStructures=Ht;Ht.auto=new Ht("auto");Ht.byPosition=new Ht("byPosition");Ht.byName=new Ht("byName");var yt=class{constructor(e,r){this.method=e,this.numberOfParams=r}get parameterStructures(){return Ht.auto}};ge.AbstractMessageSignature=yt;var Mh=class extends yt{constructor(e){super(e,0)}};ge.RequestType0=Mh;var jh=class extends yt{constructor(e,r=Ht.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};ge.RequestType=jh;var Uh=class extends yt{constructor(e,r=Ht.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};ge.RequestType1=Uh;var Bh=class extends yt{constructor(e){super(e,2)}};ge.RequestType2=Bh;var Hh=class extends yt{constructor(e){super(e,3)}};ge.RequestType3=Hh;var Wh=class extends yt{constructor(e){super(e,4)}};ge.RequestType4=Wh;var $h=class extends yt{constructor(e){super(e,5)}};ge.RequestType5=$h;var zh=class extends yt{constructor(e){super(e,6)}};ge.RequestType6=zh;var Gh=class extends yt{constructor(e){super(e,7)}};ge.RequestType7=Gh;var Vh=class extends yt{constructor(e){super(e,8)}};ge.RequestType8=Vh;var Kh=class extends yt{constructor(e){super(e,9)}};ge.RequestType9=Kh;var Xh=class extends yt{constructor(e,r=Ht.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};ge.NotificationType=Xh;var Yh=class extends yt{constructor(e){super(e,0)}};ge.NotificationType0=Yh;var Jh=class extends yt{constructor(e,r=Ht.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};ge.NotificationType1=Jh;var Zh=class extends yt{constructor(e){super(e,2)}};ge.NotificationType2=Zh;var Qh=class extends yt{constructor(e){super(e,3)}};ge.NotificationType3=Qh;var ep=class extends yt{constructor(e){super(e,4)}};ge.NotificationType4=ep;var tp=class extends yt{constructor(e){super(e,5)}};ge.NotificationType5=tp;var rp=class extends yt{constructor(e){super(e,6)}};ge.NotificationType6=rp;var np=class extends yt{constructor(e){super(e,7)}};ge.NotificationType7=np;var ip=class extends yt{constructor(e){super(e,8)}};ge.NotificationType8=ip;var sp=class extends yt{constructor(e){super(e,9)}};ge.NotificationType9=sp;function _M(t){let e=t;return e&&ts.string(e.method)&&(ts.string(e.id)||ts.number(e.id))}ge.isRequestMessage=_M;function wM(t){let e=t;return e&&ts.string(e.method)&&t.id===void 0}ge.isNotificationMessage=wM;function EM(t){let e=t;return e&&(e.result!==void 0||!!e.error)&&(ts.string(e.id)||ts.number(e.id)||e.id===null)}ge.isResponseMessage=EM});var Qs=L(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});rs.Emitter=rs.Event=void 0;var bM=In(),CM;(function(t){let e={dispose(){}};t.None=function(){return e}})(CM=rs.Event||(rs.Event={}));var ap=class{add(e,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,r)})}remove(e,r=null){if(!this._callbacks)return;let n=!1;for(let i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===e)if(this._contexts[i]===r){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let r=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let s=0,o=n.length;s<o;s++)try{r.push(n[s].apply(i[s],e))}catch(u){bM.default().console.error(u)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},Zs=class{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,r,n)=>{this._callbacks||(this._callbacks=new ap),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,r);let i={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,r),i.dispose=Zs._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};rs.Emitter=Zs;Zs._noop=function(){}});var fp=L(ns=>{"use strict";Object.defineProperty(ns,"__esModule",{value:!0});ns.CancellationTokenSource=ns.CancellationToken=void 0;var v0=In(),SM=Js(),up=Qs(),cp;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:up.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:up.Event.None});function e(r){let n=r;return n&&(n===t.None||n===t.Cancelled||SM.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}t.is=e})(cp=ns.CancellationToken||(ns.CancellationToken={}));var TM=Object.freeze(function(t,e){let r=v0.default().timer.setTimeout(t.bind(e),0);return{dispose(){v0.default().timer.clearTimeout(r)}}}),Hc=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?TM:(this._emitter||(this._emitter=new up.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},lp=class{get token(){return this._token||(this._token=new Hc),this._token}cancel(){this._token?this._token.cancel():this._token=cp.Cancelled}dispose(){this._token?this._token instanceof Hc&&this._token.dispose():this._token=cp.None}};ns.CancellationTokenSource=lp});var y0=L(Nn=>{"use strict";Object.defineProperty(Nn,"__esModule",{value:!0});Nn.ReadableStreamMessageReader=Nn.AbstractMessageReader=Nn.MessageReader=void 0;var Wc=In(),eo=Js(),dp=Qs(),RM;(function(t){function e(r){let n=r;return n&&eo.func(n.listen)&&eo.func(n.dispose)&&eo.func(n.onError)&&eo.func(n.onClose)&&eo.func(n.onPartialMessage)}t.is=e})(RM=Nn.MessageReader||(Nn.MessageReader={}));var $c=class{constructor(){this.errorEmitter=new dp.Emitter,this.closeEmitter=new dp.Emitter,this.partialMessageEmitter=new dp.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${eo.string(e.message)?e.message:"unknown"}`)}};Nn.AbstractMessageReader=$c;var hp;(function(t){function e(r){var n;let i,s,o,u=new Map,a,c=new Map;if(r===void 0||typeof r=="string")i=r??"utf-8";else{if(i=(n=r.charset)!==null&&n!==void 0?n:"utf-8",r.contentDecoder!==void 0&&(o=r.contentDecoder,u.set(o.name,o)),r.contentDecoders!==void 0)for(let f of r.contentDecoders)u.set(f.name,f);if(r.contentTypeDecoder!==void 0&&(a=r.contentTypeDecoder,c.set(a.name,a)),r.contentTypeDecoders!==void 0)for(let f of r.contentTypeDecoders)c.set(f.name,f)}return a===void 0&&(a=Wc.default().applicationJson.decoder,c.set(a.name,a)),{charset:i,contentDecoder:o,contentDecoders:u,contentTypeDecoder:a,contentTypeDecoders:c}}t.fromOptions=e})(hp||(hp={}));var pp=class extends $c{constructor(e,r){super(),this.readable=e,this.options=hp.fromOptions(r),this.buffer=Wc.default().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let r=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),r}onData(e){for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let i=this.buffer.tryReadHeaders();if(!i)return;let s=i.get("Content-Length");if(!s)throw new Error("Header must provide a Content-Length property.");let o=parseInt(s);if(isNaN(o))throw new Error("Content-Length value must be a number.");this.nextMessageLength=o}let r=this.buffer.tryReadBody(this.nextMessageLength);if(r===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1;let n;this.options.contentDecoder!==void 0?n=this.options.contentDecoder.decode(r):n=Promise.resolve(r),n.then(i=>{this.options.contentTypeDecoder.decode(i,this.options).then(s=>{this.callback(s)},s=>{this.fireError(s)})},i=>{this.fireError(i)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(Wc.default().timer.clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=Wc.default().timer.setTimeout((e,r)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:r}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};Nn.ReadableStreamMessageReader=pp});var _0=L(zc=>{"use strict";Object.defineProperty(zc,"__esModule",{value:!0});zc.Semaphore=void 0;var DM=In(),mp=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((r,n)=>{this._waiting.push({thunk:e,resolve:r,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||DM.default().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let r=e.thunk();r instanceof Promise?r.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(r),this.runNext())}catch(r){this._active--,e.reject(r),this.runNext()}}};zc.Semaphore=mp});var C0=L(Fn=>{"use strict";Object.defineProperty(Fn,"__esModule",{value:!0});Fn.WriteableStreamMessageWriter=Fn.AbstractMessageWriter=Fn.MessageWriter=void 0;var w0=In(),xa=Js(),OM=_0(),E0=Qs(),xM="Content-Length: ",b0=`\r
`,PM;(function(t){function e(r){let n=r;return n&&xa.func(n.dispose)&&xa.func(n.onClose)&&xa.func(n.onError)&&xa.func(n.write)}t.is=e})(PM=Fn.MessageWriter||(Fn.MessageWriter={}));var Gc=class{constructor(){this.errorEmitter=new E0.Emitter,this.closeEmitter=new E0.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,r,n){this.errorEmitter.fire([this.asError(e),r,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${xa.string(e.message)?e.message:"unknown"}`)}};Fn.AbstractMessageWriter=Gc;var gp;(function(t){function e(r){var n,i;return r===void 0||typeof r=="string"?{charset:r??"utf-8",contentTypeEncoder:w0.default().applicationJson.encoder}:{charset:(n=r.charset)!==null&&n!==void 0?n:"utf-8",contentEncoder:r.contentEncoder,contentTypeEncoder:(i=r.contentTypeEncoder)!==null&&i!==void 0?i:w0.default().applicationJson.encoder}}t.fromOptions=e})(gp||(gp={}));var vp=class extends Gc{constructor(e,r){super(),this.writable=e,this.options=gp.fromOptions(r),this.errorCount=0,this.writeSemaphore=new OM.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(xM,n.byteLength.toString(),b0),i.push(b0),this.doWrite(e,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(e,r,n){try{return await this.writable.write(r.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,r){this.errorCount++,this.fireError(e,r,this.errorCount)}end(){this.writable.end()}};Fn.WriteableStreamMessageWriter=vp});var S0=L(Ln=>{"use strict";Object.defineProperty(Ln,"__esModule",{value:!0});Ln.LRUCache=Ln.LinkedMap=Ln.Touch=void 0;var hr;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(hr=Ln.Touch||(Ln.Touch={}));var Vc=class{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)===null||e===void 0?void 0:e.value}get last(){var e;return(e=this._tail)===null||e===void 0?void 0:e.value}has(e){return this._map.has(e)}get(e,r=hr.None){let n=this._map.get(e);if(n)return r!==hr.None&&this.touch(n,r),n.value}set(e,r,n=hr.None){let i=this._map.get(e);if(i)i.value=r,n!==hr.None&&this.touch(i,n);else{switch(i={key:e,value:r,next:void 0,previous:void 0},n){case hr.None:this.addItemLast(i);break;case hr.First:this.addItemFirst(i);break;case hr.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let r=this._map.get(e);if(r)return this._map.delete(e),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,r){let n=this._state,i=this._head;for(;i;){if(r?e.bind(r)(i.value,i.key,this):e(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:n.key,done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}values(){let e=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:n.value,done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}entries(){let e=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:[n.key,n.value],done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>e;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let r=e.next,n=e.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}e.next=void 0,e.previous=void 0,this._state++}touch(e,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==hr.First&&r!==hr.Last)){if(r===hr.First){if(e===this._head)return;let n=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(r===hr.Last){if(e===this._tail)return;let n=e.next,i=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((r,n)=>{e.push([n,r])}),e}fromJSON(e){this.clear();for(let[r,n]of e)this.set(r,n)}};Ln.LinkedMap=Vc;var yp=class extends Vc{constructor(e,r=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,r=hr.AsNew){return super.get(e,r)}peek(e){return super.get(e,hr.None)}set(e,r){return super.set(e,r,hr.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Ln.LRUCache=yp});var x0=L(De=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});De.createMessageConnection=De.ConnectionOptions=De.CancellationStrategy=De.CancellationSenderStrategy=De.CancellationReceiverStrategy=De.ConnectionStrategy=De.ConnectionError=De.ConnectionErrors=De.LogTraceNotification=De.SetTraceNotification=De.TraceFormat=De.Trace=De.NullLogger=De.ProgressType=void 0;var T0=In(),Wt=Js(),Te=op(),R0=S0(),Pa=Qs(),_p=fp(),Ia;(function(t){t.type=new Te.NotificationType("$/cancelRequest")})(Ia||(Ia={}));var Xc;(function(t){t.type=new Te.NotificationType("$/progress")})(Xc||(Xc={}));var wp=class{constructor(){}};De.ProgressType=wp;var Ep;(function(t){function e(r){return Wt.func(r)}t.is=e})(Ep||(Ep={}));De.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var Nt;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Verbose=2]="Verbose"})(Nt=De.Trace||(De.Trace={}));(function(t){function e(n){if(!Wt.string(n))return t.Off;switch(n=n.toLowerCase(),n){case"off":return t.Off;case"messages":return t.Messages;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function r(n){switch(n){case t.Off:return"off";case t.Messages:return"messages";case t.Verbose:return"verbose";default:return"off"}}t.toString=r})(Nt=De.Trace||(De.Trace={}));var Jr;(function(t){t.Text="text",t.JSON="json"})(Jr=De.TraceFormat||(De.TraceFormat={}));(function(t){function e(r){return r=r.toLowerCase(),r==="json"?t.JSON:t.Text}t.fromString=e})(Jr=De.TraceFormat||(De.TraceFormat={}));var D0;(function(t){t.type=new Te.NotificationType("$/setTrace")})(D0=De.SetTraceNotification||(De.SetTraceNotification={}));var bp;(function(t){t.type=new Te.NotificationType("$/logTrace")})(bp=De.LogTraceNotification||(De.LogTraceNotification={}));var Kc;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(Kc=De.ConnectionErrors||(De.ConnectionErrors={}));var li=class extends Error{constructor(e,r){super(r),this.code=e,Object.setPrototypeOf(this,li.prototype)}};De.ConnectionError=li;var O0;(function(t){function e(r){let n=r;return n&&Wt.func(n.cancelUndispatched)}t.is=e})(O0=De.ConnectionStrategy||(De.ConnectionStrategy={}));var Cp;(function(t){t.Message=Object.freeze({createCancellationTokenSource(r){return new _p.CancellationTokenSource}});function e(r){let n=r;return n&&Wt.func(n.createCancellationTokenSource)}t.is=e})(Cp=De.CancellationReceiverStrategy||(De.CancellationReceiverStrategy={}));var Sp;(function(t){t.Message=Object.freeze({sendCancellation(r,n){r.sendNotification(Ia.type,{id:n})},cleanup(r){}});function e(r){let n=r;return n&&Wt.func(n.sendCancellation)&&Wt.func(n.cleanup)}t.is=e})(Sp=De.CancellationSenderStrategy||(De.CancellationSenderStrategy={}));var Tp;(function(t){t.Message=Object.freeze({receiver:Cp.Message,sender:Sp.Message});function e(r){let n=r;return n&&Cp.is(n.receiver)&&Sp.is(n.sender)}t.is=e})(Tp=De.CancellationStrategy||(De.CancellationStrategy={}));var IM;(function(t){function e(r){let n=r;return n&&(Tp.is(n.cancellationStrategy)||O0.is(n.connectionStrategy))}t.is=e})(IM=De.ConnectionOptions||(De.ConnectionOptions={}));var Zr;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(Zr||(Zr={}));function NM(t,e,r,n){let i=r!==void 0?r:De.NullLogger,s=0,o=0,u=0,a="2.0",c,f=Object.create(null),d,m=Object.create(null),h=new Map,y,_=new R0.LinkedMap,S=Object.create(null),D=Object.create(null),w=Nt.Off,T=Jr.Text,P,M=Zr.New,U=new Pa.Emitter,$=new Pa.Emitter,k=new Pa.Emitter,K=new Pa.Emitter,ie=new Pa.Emitter,ne=n&&n.cancellationStrategy?n.cancellationStrategy:Tp.Message;function G(E){if(E===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+E.toString()}function te(E){return E===null?"res-unknown-"+(++u).toString():"res-"+E.toString()}function se(){return"not-"+(++o).toString()}function le(E,C){Te.isRequestMessage(C)?E.set(G(C.id),C):Te.isResponseMessage(C)?E.set(te(C.id),C):E.set(se(),C)}function q(E){}function z(){return M===Zr.Listening}function Y(){return M===Zr.Closed}function J(){return M===Zr.Disposed}function oe(){(M===Zr.New||M===Zr.Listening)&&(M=Zr.Closed,$.fire(void 0))}function ue(E){U.fire([E,void 0,void 0])}function we(E){U.fire(E)}t.onClose(oe),t.onError(ue),e.onClose(oe),e.onError(we);function _e(){y||_.size===0||(y=T0.default().timer.setImmediate(()=>{y=void 0,Re()}))}function Re(){if(_.size===0)return;let E=_.shift();try{Te.isRequestMessage(E)?F(E):Te.isNotificationMessage(E)?Q(E):Te.isResponseMessage(E)?I(E):V(E)}finally{_e()}}let Ue=E=>{try{if(Te.isNotificationMessage(E)&&E.method===Ia.type.method){let C=G(E.params.id),b=_.get(C);if(Te.isRequestMessage(b)){let O=n?.connectionStrategy,N=O&&O.cancelUndispatched?O.cancelUndispatched(b,q):void 0;if(N&&(N.error!==void 0||N.result!==void 0)){_.delete(C),N.id=b.id,Fe(N,E.method,Date.now()),e.write(N);return}}}le(_,E)}finally{_e()}};function F(E){if(J())return;function C(W,ee,ce){let Ee={jsonrpc:a,id:E.id};W instanceof Te.ResponseError?Ee.error=W.toJson():Ee.result=W===void 0?null:W,Fe(Ee,ee,ce),e.write(Ee)}function b(W,ee,ce){let Ee={jsonrpc:a,id:E.id,error:W.toJson()};Fe(Ee,ee,ce),e.write(Ee)}function O(W,ee,ce){W===void 0&&(W=null);let Ee={jsonrpc:a,id:E.id,result:W};Fe(Ee,ee,ce),e.write(Ee)}Je(E);let N=f[E.method],p,g;N&&(p=N.type,g=N.handler);let A=Date.now();if(g||c){let W=String(E.id),ee=ne.receiver.createCancellationTokenSource(W);D[W]=ee;try{let ce;if(g)if(E.params===void 0){if(p!==void 0&&p.numberOfParams!==0){b(new Te.ResponseError(Te.ErrorCodes.InvalidParams,`Request ${E.method} defines ${p.numberOfParams} params but recevied none.`),E.method,A);return}ce=g(ee.token)}else if(Array.isArray(E.params)){if(p!==void 0&&p.parameterStructures===Te.ParameterStructures.byName){b(new Te.ResponseError(Te.ErrorCodes.InvalidParams,`Request ${E.method} defines parameters by name but received parameters by position`),E.method,A);return}ce=g(...E.params,ee.token)}else{if(p!==void 0&&p.parameterStructures===Te.ParameterStructures.byPosition){b(new Te.ResponseError(Te.ErrorCodes.InvalidParams,`Request ${E.method} defines parameters by position but received parameters by name`),E.method,A);return}ce=g(E.params,ee.token)}else c&&(ce=c(E.method,E.params,ee.token));let Ee=ce;ce?Ee.then?Ee.then(Oe=>{delete D[W],C(Oe,E.method,A)},Oe=>{delete D[W],Oe instanceof Te.ResponseError?b(Oe,E.method,A):Oe&&Wt.string(Oe.message)?b(new Te.ResponseError(Te.ErrorCodes.InternalError,`Request ${E.method} failed with message: ${Oe.message}`),E.method,A):b(new Te.ResponseError(Te.ErrorCodes.InternalError,`Request ${E.method} failed unexpectedly without providing any details.`),E.method,A)}):(delete D[W],C(ce,E.method,A)):(delete D[W],O(ce,E.method,A))}catch(ce){delete D[W],ce instanceof Te.ResponseError?C(ce,E.method,A):ce&&Wt.string(ce.message)?b(new Te.ResponseError(Te.ErrorCodes.InternalError,`Request ${E.method} failed with message: ${ce.message}`),E.method,A):b(new Te.ResponseError(Te.ErrorCodes.InternalError,`Request ${E.method} failed unexpectedly without providing any details.`),E.method,A)}}else b(new Te.ResponseError(Te.ErrorCodes.MethodNotFound,`Unhandled method ${E.method}`),E.method,A)}function I(E){if(!J())if(E.id===null)E.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(E.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let C=String(E.id),b=S[C];if(Rt(E,b),b){delete S[C];try{if(E.error){let O=E.error;b.reject(new Te.ResponseError(O.code,O.message,O.data))}else if(E.result!==void 0)b.resolve(E.result);else throw new Error("Should never happen.")}catch(O){O.message?i.error(`Response handler '${b.method}' failed with message: ${O.message}`):i.error(`Response handler '${b.method}' failed unexpectedly.`)}}}}function Q(E){if(J())return;let C,b;if(E.method===Ia.type.method)b=O=>{let N=O.id,p=D[String(N)];p&&p.cancel()};else{let O=m[E.method];O&&(b=O.handler,C=O.type)}if(b||d)try{rt(E),b?E.params===void 0?(C!==void 0&&C.numberOfParams!==0&&C.parameterStructures!==Te.ParameterStructures.byName&&i.error(`Notification ${E.method} defines ${C.numberOfParams} params but recevied none.`),b()):Array.isArray(E.params)?(C!==void 0&&(C.parameterStructures===Te.ParameterStructures.byName&&i.error(`Notification ${E.method} defines parameters by name but received parameters by position`),C.numberOfParams!==E.params.length&&i.error(`Notification ${E.method} defines ${C.numberOfParams} params but received ${E.params.length} argumennts`)),b(...E.params)):(C!==void 0&&C.parameterStructures===Te.ParameterStructures.byPosition&&i.error(`Notification ${E.method} defines parameters by position but received parameters by name`),b(E.params)):d&&d(E.method,E.params)}catch(O){O.message?i.error(`Notification handler '${E.method}' failed with message: ${O.message}`):i.error(`Notification handler '${E.method}' failed unexpectedly.`)}else k.fire(E)}function V(E){if(!E){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(E,null,4)}`);let C=E;if(Wt.string(C.id)||Wt.number(C.id)){let b=String(C.id),O=S[b];O&&O.reject(new Error("The received response has neither a result nor an error property."))}}function Se(E){if(!(w===Nt.Off||!P))if(T===Jr.Text){let C;w===Nt.Verbose&&E.params&&(C=`Params: ${JSON.stringify(E.params,null,4)}

`),P.log(`Sending request '${E.method} - (${E.id})'.`,C)}else Ce("send-request",E)}function ke(E){if(!(w===Nt.Off||!P))if(T===Jr.Text){let C;w===Nt.Verbose&&(E.params?C=`Params: ${JSON.stringify(E.params,null,4)}

`:C=`No parameters provided.

`),P.log(`Sending notification '${E.method}'.`,C)}else Ce("send-notification",E)}function Fe(E,C,b){if(!(w===Nt.Off||!P))if(T===Jr.Text){let O;w===Nt.Verbose&&(E.error&&E.error.data?O=`Error data: ${JSON.stringify(E.error.data,null,4)}

`:E.result?O=`Result: ${JSON.stringify(E.result,null,4)}

`:E.error===void 0&&(O=`No result returned.

`)),P.log(`Sending response '${C} - (${E.id})'. Processing request took ${Date.now()-b}ms`,O)}else Ce("send-response",E)}function Je(E){if(!(w===Nt.Off||!P))if(T===Jr.Text){let C;w===Nt.Verbose&&E.params&&(C=`Params: ${JSON.stringify(E.params,null,4)}

`),P.log(`Received request '${E.method} - (${E.id})'.`,C)}else Ce("receive-request",E)}function rt(E){if(!(w===Nt.Off||!P||E.method===bp.type.method))if(T===Jr.Text){let C;w===Nt.Verbose&&(E.params?C=`Params: ${JSON.stringify(E.params,null,4)}

`:C=`No parameters provided.

`),P.log(`Received notification '${E.method}'.`,C)}else Ce("receive-notification",E)}function Rt(E,C){if(!(w===Nt.Off||!P))if(T===Jr.Text){let b;if(w===Nt.Verbose&&(E.error&&E.error.data?b=`Error data: ${JSON.stringify(E.error.data,null,4)}

`:E.result?b=`Result: ${JSON.stringify(E.result,null,4)}

`:E.error===void 0&&(b=`No result returned.

`)),C){let O=E.error?` Request failed: ${E.error.message} (${E.error.code}).`:"";P.log(`Received response '${C.method} - (${E.id})' in ${Date.now()-C.timerStart}ms.${O}`,b)}else P.log(`Received response ${E.id} without active response promise.`,b)}else Ce("receive-response",E)}function Ce(E,C){if(!P||w===Nt.Off)return;let b={isLSPMessage:!0,type:E,message:C,timestamp:Date.now()};P.log(b)}function Ze(){if(Y())throw new li(Kc.Closed,"Connection is closed.");if(J())throw new li(Kc.Disposed,"Connection is disposed.")}function Dt(){if(z())throw new li(Kc.AlreadyListening,"Connection is already listening")}function Qe(){if(!z())throw new Error("Call listen() first.")}function nt(E){return E===void 0?null:E}function Z(E){if(E!==null)return E}function X(E){return E!=null&&!Array.isArray(E)&&typeof E=="object"}function j(E,C){switch(E){case Te.ParameterStructures.auto:return X(C)?Z(C):[nt(C)];case Te.ParameterStructures.byName:if(!X(C))throw new Error("Recevied parameters by name but param is not an object literal.");return Z(C);case Te.ParameterStructures.byPosition:return[nt(C)];default:throw new Error(`Unknown parameter structure ${E.toString()}`)}}function v(E,C){let b,O=E.numberOfParams;switch(O){case 0:b=void 0;break;case 1:b=j(E.parameterStructures,C[0]);break;default:b=[];for(let N=0;N<C.length&&N<O;N++)b.push(nt(C[N]));if(C.length<O)for(let N=C.length;N<O;N++)b.push(null);break}return b}let R={sendNotification:(E,...C)=>{Ze();let b,O;if(Wt.string(E)){b=E;let p=C[0],g=0,A=Te.ParameterStructures.auto;Te.ParameterStructures.is(p)&&(g=1,A=p);let W=C.length,ee=W-g;switch(ee){case 0:O=void 0;break;case 1:O=j(A,C[g]);break;default:if(A===Te.ParameterStructures.byName)throw new Error(`Recevied ${ee} parameters for 'by Name' notification parameter structure.`);O=C.slice(g,W).map(ce=>nt(ce));break}}else{let p=C;b=E.method,O=v(E,p)}let N={jsonrpc:a,method:b,params:O};ke(N),e.write(N)},onNotification:(E,C)=>{Ze();let b;return Wt.func(E)?d=E:C&&(Wt.string(E)?(b=E,m[E]={type:void 0,handler:C}):(b=E.method,m[E.method]={type:E,handler:C})),{dispose:()=>{b!==void 0?delete m[b]:d=void 0}}},onProgress:(E,C,b)=>{if(h.has(C))throw new Error(`Progress handler for token ${C} already registered`);return h.set(C,b),{dispose:()=>{h.delete(C)}}},sendProgress:(E,C,b)=>{R.sendNotification(Xc.type,{token:C,value:b})},onUnhandledProgress:K.event,sendRequest:(E,...C)=>{Ze(),Qe();let b,O,N;if(Wt.string(E)){b=E;let W=C[0],ee=C[C.length-1],ce=0,Ee=Te.ParameterStructures.auto;Te.ParameterStructures.is(W)&&(ce=1,Ee=W);let Oe=C.length;_p.CancellationToken.is(ee)&&(Oe=Oe-1,N=ee);let pt=Oe-ce;switch(pt){case 0:O=void 0;break;case 1:O=j(Ee,C[ce]);break;default:if(Ee===Te.ParameterStructures.byName)throw new Error(`Recevied ${pt} parameters for 'by Name' request parameter structure.`);O=C.slice(ce,Oe).map(mt=>nt(mt));break}}else{let W=C;b=E.method,O=v(E,W);let ee=E.numberOfParams;N=_p.CancellationToken.is(W[ee])?W[ee]:void 0}let p=s++,g;return N&&(g=N.onCancellationRequested(()=>{ne.sender.sendCancellation(R,p)})),new Promise((W,ee)=>{let ce={jsonrpc:a,id:p,method:b,params:O},Ee=mt=>{W(mt),ne.sender.cleanup(p),g?.dispose()},Oe=mt=>{ee(mt),ne.sender.cleanup(p),g?.dispose()},pt={method:b,timerStart:Date.now(),resolve:Ee,reject:Oe};Se(ce);try{e.write(ce)}catch(mt){pt.reject(new Te.ResponseError(Te.ErrorCodes.MessageWriteError,mt.message?mt.message:"Unknown reason")),pt=null}pt&&(S[String(p)]=pt)})},onRequest:(E,C)=>{Ze();let b=null;return Ep.is(E)?(b=void 0,c=E):Wt.string(E)?(b=null,C!==void 0&&(b=E,f[E]={handler:C,type:void 0})):C!==void 0&&(b=E.method,f[E.method]={type:E,handler:C}),{dispose:()=>{b!==null&&(b!==void 0?delete f[b]:c=void 0)}}},trace:(E,C,b)=>{let O=!1,N=Jr.Text;b!==void 0&&(Wt.boolean(b)?O=b:(O=b.sendNotification||!1,N=b.traceFormat||Jr.Text)),w=E,T=N,w===Nt.Off?P=void 0:P=C,O&&!Y()&&!J()&&R.sendNotification(D0.type,{value:Nt.toString(E)})},onError:U.event,onClose:$.event,onUnhandledNotification:k.event,onDispose:ie.event,end:()=>{e.end()},dispose:()=>{if(J())return;M=Zr.Disposed,ie.fire(void 0);let E=new Error("Connection got disposed.");Object.keys(S).forEach(C=>{S[C].reject(E)}),S=Object.create(null),D=Object.create(null),_=new R0.LinkedMap,Wt.func(e.dispose)&&e.dispose(),Wt.func(t.dispose)&&t.dispose()},listen:()=>{Ze(),Dt(),M=Zr.Listening,t.listen(Ue)},inspect:()=>{T0.default().console.log("inspect")}};return R.onNotification(bp.type,E=>{w===Nt.Off||!P||P.log(E.message,w===Nt.Verbose?E.verbose:void 0)}),R.onNotification(Xc.type,E=>{let C=h.get(E.token);C?C(E.value):K.fire(E)}),R}De.createMessageConnection=NM});var Op=L(ae=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});ae.CancellationSenderStrategy=ae.CancellationReceiverStrategy=ae.ConnectionError=ae.ConnectionErrors=ae.LogTraceNotification=ae.SetTraceNotification=ae.TraceFormat=ae.Trace=ae.ProgressType=ae.createMessageConnection=ae.NullLogger=ae.ConnectionOptions=ae.ConnectionStrategy=ae.WriteableStreamMessageWriter=ae.AbstractMessageWriter=ae.MessageWriter=ae.ReadableStreamMessageReader=ae.AbstractMessageReader=ae.MessageReader=ae.CancellationToken=ae.CancellationTokenSource=ae.Emitter=ae.Event=ae.Disposable=ae.ParameterStructures=ae.NotificationType9=ae.NotificationType8=ae.NotificationType7=ae.NotificationType6=ae.NotificationType5=ae.NotificationType4=ae.NotificationType3=ae.NotificationType2=ae.NotificationType1=ae.NotificationType0=ae.NotificationType=ae.ErrorCodes=ae.ResponseError=ae.RequestType9=ae.RequestType8=ae.RequestType7=ae.RequestType6=ae.RequestType5=ae.RequestType4=ae.RequestType3=ae.RequestType2=ae.RequestType1=ae.RequestType0=ae.RequestType=ae.RAL=void 0;ae.CancellationStrategy=void 0;var _t=op();Object.defineProperty(ae,"RequestType",{enumerable:!0,get:function(){return _t.RequestType}});Object.defineProperty(ae,"RequestType0",{enumerable:!0,get:function(){return _t.RequestType0}});Object.defineProperty(ae,"RequestType1",{enumerable:!0,get:function(){return _t.RequestType1}});Object.defineProperty(ae,"RequestType2",{enumerable:!0,get:function(){return _t.RequestType2}});Object.defineProperty(ae,"RequestType3",{enumerable:!0,get:function(){return _t.RequestType3}});Object.defineProperty(ae,"RequestType4",{enumerable:!0,get:function(){return _t.RequestType4}});Object.defineProperty(ae,"RequestType5",{enumerable:!0,get:function(){return _t.RequestType5}});Object.defineProperty(ae,"RequestType6",{enumerable:!0,get:function(){return _t.RequestType6}});Object.defineProperty(ae,"RequestType7",{enumerable:!0,get:function(){return _t.RequestType7}});Object.defineProperty(ae,"RequestType8",{enumerable:!0,get:function(){return _t.RequestType8}});Object.defineProperty(ae,"RequestType9",{enumerable:!0,get:function(){return _t.RequestType9}});Object.defineProperty(ae,"ResponseError",{enumerable:!0,get:function(){return _t.ResponseError}});Object.defineProperty(ae,"ErrorCodes",{enumerable:!0,get:function(){return _t.ErrorCodes}});Object.defineProperty(ae,"NotificationType",{enumerable:!0,get:function(){return _t.NotificationType}});Object.defineProperty(ae,"NotificationType0",{enumerable:!0,get:function(){return _t.NotificationType0}});Object.defineProperty(ae,"NotificationType1",{enumerable:!0,get:function(){return _t.NotificationType1}});Object.defineProperty(ae,"NotificationType2",{enumerable:!0,get:function(){return _t.NotificationType2}});Object.defineProperty(ae,"NotificationType3",{enumerable:!0,get:function(){return _t.NotificationType3}});Object.defineProperty(ae,"NotificationType4",{enumerable:!0,get:function(){return _t.NotificationType4}});Object.defineProperty(ae,"NotificationType5",{enumerable:!0,get:function(){return _t.NotificationType5}});Object.defineProperty(ae,"NotificationType6",{enumerable:!0,get:function(){return _t.NotificationType6}});Object.defineProperty(ae,"NotificationType7",{enumerable:!0,get:function(){return _t.NotificationType7}});Object.defineProperty(ae,"NotificationType8",{enumerable:!0,get:function(){return _t.NotificationType8}});Object.defineProperty(ae,"NotificationType9",{enumerable:!0,get:function(){return _t.NotificationType9}});Object.defineProperty(ae,"ParameterStructures",{enumerable:!0,get:function(){return _t.ParameterStructures}});var FM=Nh();Object.defineProperty(ae,"Disposable",{enumerable:!0,get:function(){return FM.Disposable}});var P0=Qs();Object.defineProperty(ae,"Event",{enumerable:!0,get:function(){return P0.Event}});Object.defineProperty(ae,"Emitter",{enumerable:!0,get:function(){return P0.Emitter}});var I0=fp();Object.defineProperty(ae,"CancellationTokenSource",{enumerable:!0,get:function(){return I0.CancellationTokenSource}});Object.defineProperty(ae,"CancellationToken",{enumerable:!0,get:function(){return I0.CancellationToken}});var Rp=y0();Object.defineProperty(ae,"MessageReader",{enumerable:!0,get:function(){return Rp.MessageReader}});Object.defineProperty(ae,"AbstractMessageReader",{enumerable:!0,get:function(){return Rp.AbstractMessageReader}});Object.defineProperty(ae,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return Rp.ReadableStreamMessageReader}});var Dp=C0();Object.defineProperty(ae,"MessageWriter",{enumerable:!0,get:function(){return Dp.MessageWriter}});Object.defineProperty(ae,"AbstractMessageWriter",{enumerable:!0,get:function(){return Dp.AbstractMessageWriter}});Object.defineProperty(ae,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return Dp.WriteableStreamMessageWriter}});var wr=x0();Object.defineProperty(ae,"ConnectionStrategy",{enumerable:!0,get:function(){return wr.ConnectionStrategy}});Object.defineProperty(ae,"ConnectionOptions",{enumerable:!0,get:function(){return wr.ConnectionOptions}});Object.defineProperty(ae,"NullLogger",{enumerable:!0,get:function(){return wr.NullLogger}});Object.defineProperty(ae,"createMessageConnection",{enumerable:!0,get:function(){return wr.createMessageConnection}});Object.defineProperty(ae,"ProgressType",{enumerable:!0,get:function(){return wr.ProgressType}});Object.defineProperty(ae,"Trace",{enumerable:!0,get:function(){return wr.Trace}});Object.defineProperty(ae,"TraceFormat",{enumerable:!0,get:function(){return wr.TraceFormat}});Object.defineProperty(ae,"SetTraceNotification",{enumerable:!0,get:function(){return wr.SetTraceNotification}});Object.defineProperty(ae,"LogTraceNotification",{enumerable:!0,get:function(){return wr.LogTraceNotification}});Object.defineProperty(ae,"ConnectionErrors",{enumerable:!0,get:function(){return wr.ConnectionErrors}});Object.defineProperty(ae,"ConnectionError",{enumerable:!0,get:function(){return wr.ConnectionError}});Object.defineProperty(ae,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return wr.CancellationReceiverStrategy}});Object.defineProperty(ae,"CancellationSenderStrategy",{enumerable:!0,get:function(){return wr.CancellationSenderStrategy}});Object.defineProperty(ae,"CancellationStrategy",{enumerable:!0,get:function(){return wr.CancellationStrategy}});var LM=In();ae.RAL=LM.default});var ro=L(Ke=>{"use strict";var kM=Ke&&Ke.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),AM=Ke&&Ke.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&kM(e,t,r)};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.createMessageConnection=Ke.createServerSocketTransport=Ke.createClientSocketTransport=Ke.createServerPipeTransport=Ke.createClientPipeTransport=Ke.generateRandomPipeName=Ke.StreamMessageWriter=Ke.StreamMessageReader=Ke.SocketMessageWriter=Ke.SocketMessageReader=Ke.IPCMessageWriter=Ke.IPCMessageReader=void 0;var to=h0();to.default.install();var dn=Op(),N0=require("path"),qM=require("os"),MM=require("crypto"),Zc=require("net");AM(Op(),Ke);var xp=class extends dn.AbstractMessageReader{constructor(e){super(),this.process=e;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),dn.Disposable.create(()=>this.process.off("message",e))}};Ke.IPCMessageReader=xp;var Pp=class extends dn.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,r=>{r?(this.errorCount++,this.handleError(r,e)):this.errorCount=0}),Promise.resolve()}catch(r){return this.handleError(r,e),Promise.reject(r)}}handleError(e,r){this.errorCount++,this.fireError(e,r,this.errorCount)}end(){}};Ke.IPCMessageWriter=Pp;var is=class extends dn.ReadableStreamMessageReader{constructor(e,r="utf-8"){super(to.default().stream.asReadableStream(e),r)}};Ke.SocketMessageReader=is;var ss=class extends dn.WriteableStreamMessageWriter{constructor(e,r){super(to.default().stream.asWritableStream(e),r),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};Ke.SocketMessageWriter=ss;var Yc=class extends dn.ReadableStreamMessageReader{constructor(e,r){super(to.default().stream.asReadableStream(e),r)}};Ke.StreamMessageReader=Yc;var Jc=class extends dn.WriteableStreamMessageWriter{constructor(e,r){super(to.default().stream.asWritableStream(e),r)}};Ke.StreamMessageWriter=Jc;var F0=process.env.XDG_RUNTIME_DIR,jM=new Map([["linux",107],["darwin",103]]);function UM(){let t=MM.randomBytes(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;F0?e=N0.join(F0,`vscode-ipc-${t}.sock`):e=N0.join(qM.tmpdir(),`vscode-${t}.sock`);let r=jM.get(process.platform);return r!==void 0&&e.length>=r&&to.default().console.warn(`WARNING: IPC handle "${e}" is longer than ${r} characters.`),e}Ke.generateRandomPipeName=UM;function BM(t,e="utf-8"){let r,n=new Promise((i,s)=>{r=i});return new Promise((i,s)=>{let o=Zc.createServer(u=>{o.close(),r([new is(u,e),new ss(u,e)])});o.on("error",s),o.listen(t,()=>{o.removeListener("error",s),i({onConnected:()=>n})})})}Ke.createClientPipeTransport=BM;function HM(t,e="utf-8"){let r=Zc.createConnection(t);return[new is(r,e),new ss(r,e)]}Ke.createServerPipeTransport=HM;function WM(t,e="utf-8"){let r,n=new Promise((i,s)=>{r=i});return new Promise((i,s)=>{let o=Zc.createServer(u=>{o.close(),r([new is(u,e),new ss(u,e)])});o.on("error",s),o.listen(t,"127.0.0.1",()=>{o.removeListener("error",s),i({onConnected:()=>n})})})}Ke.createClientSocketTransport=WM;function $M(t,e="utf-8"){let r=Zc.createConnection(t,"127.0.0.1");return[new is(r,e),new ss(r,e)]}Ke.createServerSocketTransport=$M;function zM(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}function GM(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}function VM(t,e,r,n){r||(r=dn.NullLogger);let i=zM(t)?new Yc(t):t,s=GM(e)?new Jc(e):e;return dn.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),dn.createMessageConnection(i,s,r,n)}Ke.createMessageConnection=VM});var Ip=L((V5,L0)=>{"use strict";L0.exports=ro()});var A0=L((k0,Qc)=>{(function(t){if(typeof Qc=="object"&&typeof Qc.exports=="object"){var e=t(require,k0);e!==void 0&&(Qc.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionKind=e.DocumentSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=void 0;var r;(function(b){b.MIN_VALUE=-2147483648,b.MAX_VALUE=2147483647})(r=e.integer||(e.integer={}));var n;(function(b){b.MIN_VALUE=0,b.MAX_VALUE=2147483647})(n=e.uinteger||(e.uinteger={}));var i;(function(b){function O(p,g){return p===Number.MAX_VALUE&&(p=n.MAX_VALUE),g===Number.MAX_VALUE&&(g=n.MAX_VALUE),{line:p,character:g}}b.create=O;function N(p){var g=p;return C.objectLiteral(g)&&C.uinteger(g.line)&&C.uinteger(g.character)}b.is=N})(i=e.Position||(e.Position={}));var s;(function(b){function O(p,g,A,W){if(C.uinteger(p)&&C.uinteger(g)&&C.uinteger(A)&&C.uinteger(W))return{start:i.create(p,g),end:i.create(A,W)};if(i.is(p)&&i.is(g))return{start:p,end:g};throw new Error("Range#create called with invalid arguments["+p+", "+g+", "+A+", "+W+"]")}b.create=O;function N(p){var g=p;return C.objectLiteral(g)&&i.is(g.start)&&i.is(g.end)}b.is=N})(s=e.Range||(e.Range={}));var o;(function(b){function O(p,g){return{uri:p,range:g}}b.create=O;function N(p){var g=p;return C.defined(g)&&s.is(g.range)&&(C.string(g.uri)||C.undefined(g.uri))}b.is=N})(o=e.Location||(e.Location={}));var u;(function(b){function O(p,g,A,W){return{targetUri:p,targetRange:g,targetSelectionRange:A,originSelectionRange:W}}b.create=O;function N(p){var g=p;return C.defined(g)&&s.is(g.targetRange)&&C.string(g.targetUri)&&(s.is(g.targetSelectionRange)||C.undefined(g.targetSelectionRange))&&(s.is(g.originSelectionRange)||C.undefined(g.originSelectionRange))}b.is=N})(u=e.LocationLink||(e.LocationLink={}));var a;(function(b){function O(p,g,A,W){return{red:p,green:g,blue:A,alpha:W}}b.create=O;function N(p){var g=p;return C.numberRange(g.red,0,1)&&C.numberRange(g.green,0,1)&&C.numberRange(g.blue,0,1)&&C.numberRange(g.alpha,0,1)}b.is=N})(a=e.Color||(e.Color={}));var c;(function(b){function O(p,g){return{range:p,color:g}}b.create=O;function N(p){var g=p;return s.is(g.range)&&a.is(g.color)}b.is=N})(c=e.ColorInformation||(e.ColorInformation={}));var f;(function(b){function O(p,g,A){return{label:p,textEdit:g,additionalTextEdits:A}}b.create=O;function N(p){var g=p;return C.string(g.label)&&(C.undefined(g.textEdit)||T.is(g))&&(C.undefined(g.additionalTextEdits)||C.typedArray(g.additionalTextEdits,T.is))}b.is=N})(f=e.ColorPresentation||(e.ColorPresentation={}));var d;(function(b){b.Comment="comment",b.Imports="imports",b.Region="region"})(d=e.FoldingRangeKind||(e.FoldingRangeKind={}));var m;(function(b){function O(p,g,A,W,ee){var ce={startLine:p,endLine:g};return C.defined(A)&&(ce.startCharacter=A),C.defined(W)&&(ce.endCharacter=W),C.defined(ee)&&(ce.kind=ee),ce}b.create=O;function N(p){var g=p;return C.uinteger(g.startLine)&&C.uinteger(g.startLine)&&(C.undefined(g.startCharacter)||C.uinteger(g.startCharacter))&&(C.undefined(g.endCharacter)||C.uinteger(g.endCharacter))&&(C.undefined(g.kind)||C.string(g.kind))}b.is=N})(m=e.FoldingRange||(e.FoldingRange={}));var h;(function(b){function O(p,g){return{location:p,message:g}}b.create=O;function N(p){var g=p;return C.defined(g)&&o.is(g.location)&&C.string(g.message)}b.is=N})(h=e.DiagnosticRelatedInformation||(e.DiagnosticRelatedInformation={}));var y;(function(b){b.Error=1,b.Warning=2,b.Information=3,b.Hint=4})(y=e.DiagnosticSeverity||(e.DiagnosticSeverity={}));var _;(function(b){b.Unnecessary=1,b.Deprecated=2})(_=e.DiagnosticTag||(e.DiagnosticTag={}));var S;(function(b){function O(N){var p=N;return p!=null&&C.string(p.href)}b.is=O})(S=e.CodeDescription||(e.CodeDescription={}));var D;(function(b){function O(p,g,A,W,ee,ce){var Ee={range:p,message:g};return C.defined(A)&&(Ee.severity=A),C.defined(W)&&(Ee.code=W),C.defined(ee)&&(Ee.source=ee),C.defined(ce)&&(Ee.relatedInformation=ce),Ee}b.create=O;function N(p){var g,A=p;return C.defined(A)&&s.is(A.range)&&C.string(A.message)&&(C.number(A.severity)||C.undefined(A.severity))&&(C.integer(A.code)||C.string(A.code)||C.undefined(A.code))&&(C.undefined(A.codeDescription)||C.string((g=A.codeDescription)===null||g===void 0?void 0:g.href))&&(C.string(A.source)||C.undefined(A.source))&&(C.undefined(A.relatedInformation)||C.typedArray(A.relatedInformation,h.is))}b.is=N})(D=e.Diagnostic||(e.Diagnostic={}));var w;(function(b){function O(p,g){for(var A=[],W=2;W<arguments.length;W++)A[W-2]=arguments[W];var ee={title:p,command:g};return C.defined(A)&&A.length>0&&(ee.arguments=A),ee}b.create=O;function N(p){var g=p;return C.defined(g)&&C.string(g.title)&&C.string(g.command)}b.is=N})(w=e.Command||(e.Command={}));var T;(function(b){function O(A,W){return{range:A,newText:W}}b.replace=O;function N(A,W){return{range:{start:A,end:A},newText:W}}b.insert=N;function p(A){return{range:A,newText:""}}b.del=p;function g(A){var W=A;return C.objectLiteral(W)&&C.string(W.newText)&&s.is(W.range)}b.is=g})(T=e.TextEdit||(e.TextEdit={}));var P;(function(b){function O(p,g,A){var W={label:p};return g!==void 0&&(W.needsConfirmation=g),A!==void 0&&(W.description=A),W}b.create=O;function N(p){var g=p;return g!==void 0&&C.objectLiteral(g)&&C.string(g.label)&&(C.boolean(g.needsConfirmation)||g.needsConfirmation===void 0)&&(C.string(g.description)||g.description===void 0)}b.is=N})(P=e.ChangeAnnotation||(e.ChangeAnnotation={}));var M;(function(b){function O(N){var p=N;return typeof p=="string"}b.is=O})(M=e.ChangeAnnotationIdentifier||(e.ChangeAnnotationIdentifier={}));var U;(function(b){function O(A,W,ee){return{range:A,newText:W,annotationId:ee}}b.replace=O;function N(A,W,ee){return{range:{start:A,end:A},newText:W,annotationId:ee}}b.insert=N;function p(A,W){return{range:A,newText:"",annotationId:W}}b.del=p;function g(A){var W=A;return T.is(W)&&(P.is(W.annotationId)||M.is(W.annotationId))}b.is=g})(U=e.AnnotatedTextEdit||(e.AnnotatedTextEdit={}));var $;(function(b){function O(p,g){return{textDocument:p,edits:g}}b.create=O;function N(p){var g=p;return C.defined(g)&&z.is(g.textDocument)&&Array.isArray(g.edits)}b.is=N})($=e.TextDocumentEdit||(e.TextDocumentEdit={}));var k;(function(b){function O(p,g,A){var W={kind:"create",uri:p};return g!==void 0&&(g.overwrite!==void 0||g.ignoreIfExists!==void 0)&&(W.options=g),A!==void 0&&(W.annotationId=A),W}b.create=O;function N(p){var g=p;return g&&g.kind==="create"&&C.string(g.uri)&&(g.options===void 0||(g.options.overwrite===void 0||C.boolean(g.options.overwrite))&&(g.options.ignoreIfExists===void 0||C.boolean(g.options.ignoreIfExists)))&&(g.annotationId===void 0||M.is(g.annotationId))}b.is=N})(k=e.CreateFile||(e.CreateFile={}));var K;(function(b){function O(p,g,A,W){var ee={kind:"rename",oldUri:p,newUri:g};return A!==void 0&&(A.overwrite!==void 0||A.ignoreIfExists!==void 0)&&(ee.options=A),W!==void 0&&(ee.annotationId=W),ee}b.create=O;function N(p){var g=p;return g&&g.kind==="rename"&&C.string(g.oldUri)&&C.string(g.newUri)&&(g.options===void 0||(g.options.overwrite===void 0||C.boolean(g.options.overwrite))&&(g.options.ignoreIfExists===void 0||C.boolean(g.options.ignoreIfExists)))&&(g.annotationId===void 0||M.is(g.annotationId))}b.is=N})(K=e.RenameFile||(e.RenameFile={}));var ie;(function(b){function O(p,g,A){var W={kind:"delete",uri:p};return g!==void 0&&(g.recursive!==void 0||g.ignoreIfNotExists!==void 0)&&(W.options=g),A!==void 0&&(W.annotationId=A),W}b.create=O;function N(p){var g=p;return g&&g.kind==="delete"&&C.string(g.uri)&&(g.options===void 0||(g.options.recursive===void 0||C.boolean(g.options.recursive))&&(g.options.ignoreIfNotExists===void 0||C.boolean(g.options.ignoreIfNotExists)))&&(g.annotationId===void 0||M.is(g.annotationId))}b.is=N})(ie=e.DeleteFile||(e.DeleteFile={}));var ne;(function(b){function O(N){var p=N;return p&&(p.changes!==void 0||p.documentChanges!==void 0)&&(p.documentChanges===void 0||p.documentChanges.every(function(g){return C.string(g.kind)?k.is(g)||K.is(g)||ie.is(g):$.is(g)}))}b.is=O})(ne=e.WorkspaceEdit||(e.WorkspaceEdit={}));var G=function(){function b(O,N){this.edits=O,this.changeAnnotations=N}return b.prototype.insert=function(O,N,p){var g,A;if(p===void 0?g=T.insert(O,N):M.is(p)?(A=p,g=U.insert(O,N,p)):(this.assertChangeAnnotations(this.changeAnnotations),A=this.changeAnnotations.manage(p),g=U.insert(O,N,A)),this.edits.push(g),A!==void 0)return A},b.prototype.replace=function(O,N,p){var g,A;if(p===void 0?g=T.replace(O,N):M.is(p)?(A=p,g=U.replace(O,N,p)):(this.assertChangeAnnotations(this.changeAnnotations),A=this.changeAnnotations.manage(p),g=U.replace(O,N,A)),this.edits.push(g),A!==void 0)return A},b.prototype.delete=function(O,N){var p,g;if(N===void 0?p=T.del(O):M.is(N)?(g=N,p=U.del(O,N)):(this.assertChangeAnnotations(this.changeAnnotations),g=this.changeAnnotations.manage(N),p=U.del(O,g)),this.edits.push(p),g!==void 0)return g},b.prototype.add=function(O){this.edits.push(O)},b.prototype.all=function(){return this.edits},b.prototype.clear=function(){this.edits.splice(0,this.edits.length)},b.prototype.assertChangeAnnotations=function(O){if(O===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},b}(),te=function(){function b(O){this._annotations=O===void 0?Object.create(null):O,this._counter=0,this._size=0}return b.prototype.all=function(){return this._annotations},Object.defineProperty(b.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),b.prototype.manage=function(O,N){var p;if(M.is(O)?p=O:(p=this.nextId(),N=O),this._annotations[p]!==void 0)throw new Error("Id "+p+" is already in use.");if(N===void 0)throw new Error("No annotation provided for id "+p);return this._annotations[p]=N,this._size++,p},b.prototype.nextId=function(){return this._counter++,this._counter.toString()},b}(),se=function(){function b(O){var N=this;this._textEditChanges=Object.create(null),O!==void 0?(this._workspaceEdit=O,O.documentChanges?(this._changeAnnotations=new te(O.changeAnnotations),O.changeAnnotations=this._changeAnnotations.all(),O.documentChanges.forEach(function(p){if($.is(p)){var g=new G(p.edits,N._changeAnnotations);N._textEditChanges[p.textDocument.uri]=g}})):O.changes&&Object.keys(O.changes).forEach(function(p){var g=new G(O.changes[p]);N._textEditChanges[p]=g})):this._workspaceEdit={}}return Object.defineProperty(b.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),b.prototype.getTextEditChange=function(O){if(z.is(O)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var N={uri:O.uri,version:O.version},p=this._textEditChanges[N.uri];if(!p){var g=[],A={textDocument:N,edits:g};this._workspaceEdit.documentChanges.push(A),p=new G(g,this._changeAnnotations),this._textEditChanges[N.uri]=p}return p}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var p=this._textEditChanges[O];if(!p){var g=[];this._workspaceEdit.changes[O]=g,p=new G(g),this._textEditChanges[O]=p}return p}},b.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new te,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},b.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},b.prototype.createFile=function(O,N,p){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var g;P.is(N)||M.is(N)?g=N:p=N;var A,W;if(g===void 0?A=k.create(O,p):(W=M.is(g)?g:this._changeAnnotations.manage(g),A=k.create(O,p,W)),this._workspaceEdit.documentChanges.push(A),W!==void 0)return W},b.prototype.renameFile=function(O,N,p,g){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var A;P.is(p)||M.is(p)?A=p:g=p;var W,ee;if(A===void 0?W=K.create(O,N,g):(ee=M.is(A)?A:this._changeAnnotations.manage(A),W=K.create(O,N,g,ee)),this._workspaceEdit.documentChanges.push(W),ee!==void 0)return ee},b.prototype.deleteFile=function(O,N,p){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var g;P.is(N)||M.is(N)?g=N:p=N;var A,W;if(g===void 0?A=ie.create(O,p):(W=M.is(g)?g:this._changeAnnotations.manage(g),A=ie.create(O,p,W)),this._workspaceEdit.documentChanges.push(A),W!==void 0)return W},b}();e.WorkspaceChange=se;var le;(function(b){function O(p){return{uri:p}}b.create=O;function N(p){var g=p;return C.defined(g)&&C.string(g.uri)}b.is=N})(le=e.TextDocumentIdentifier||(e.TextDocumentIdentifier={}));var q;(function(b){function O(p,g){return{uri:p,version:g}}b.create=O;function N(p){var g=p;return C.defined(g)&&C.string(g.uri)&&C.integer(g.version)}b.is=N})(q=e.VersionedTextDocumentIdentifier||(e.VersionedTextDocumentIdentifier={}));var z;(function(b){function O(p,g){return{uri:p,version:g}}b.create=O;function N(p){var g=p;return C.defined(g)&&C.string(g.uri)&&(g.version===null||C.integer(g.version))}b.is=N})(z=e.OptionalVersionedTextDocumentIdentifier||(e.OptionalVersionedTextDocumentIdentifier={}));var Y;(function(b){function O(p,g,A,W){return{uri:p,languageId:g,version:A,text:W}}b.create=O;function N(p){var g=p;return C.defined(g)&&C.string(g.uri)&&C.string(g.languageId)&&C.integer(g.version)&&C.string(g.text)}b.is=N})(Y=e.TextDocumentItem||(e.TextDocumentItem={}));var J;(function(b){b.PlainText="plaintext",b.Markdown="markdown"})(J=e.MarkupKind||(e.MarkupKind={})),function(b){function O(N){var p=N;return p===b.PlainText||p===b.Markdown}b.is=O}(J=e.MarkupKind||(e.MarkupKind={}));var oe;(function(b){function O(N){var p=N;return C.objectLiteral(N)&&J.is(p.kind)&&C.string(p.value)}b.is=O})(oe=e.MarkupContent||(e.MarkupContent={}));var ue;(function(b){b.Text=1,b.Method=2,b.Function=3,b.Constructor=4,b.Field=5,b.Variable=6,b.Class=7,b.Interface=8,b.Module=9,b.Property=10,b.Unit=11,b.Value=12,b.Enum=13,b.Keyword=14,b.Snippet=15,b.Color=16,b.File=17,b.Reference=18,b.Folder=19,b.EnumMember=20,b.Constant=21,b.Struct=22,b.Event=23,b.Operator=24,b.TypeParameter=25})(ue=e.CompletionItemKind||(e.CompletionItemKind={}));var we;(function(b){b.PlainText=1,b.Snippet=2})(we=e.InsertTextFormat||(e.InsertTextFormat={}));var _e;(function(b){b.Deprecated=1})(_e=e.CompletionItemTag||(e.CompletionItemTag={}));var Re;(function(b){function O(p,g,A){return{newText:p,insert:g,replace:A}}b.create=O;function N(p){var g=p;return g&&C.string(g.newText)&&s.is(g.insert)&&s.is(g.replace)}b.is=N})(Re=e.InsertReplaceEdit||(e.InsertReplaceEdit={}));var Ue;(function(b){b.asIs=1,b.adjustIndentation=2})(Ue=e.InsertTextMode||(e.InsertTextMode={}));var F;(function(b){function O(N){return{label:N}}b.create=O})(F=e.CompletionItem||(e.CompletionItem={}));var I;(function(b){function O(N,p){return{items:N||[],isIncomplete:!!p}}b.create=O})(I=e.CompletionList||(e.CompletionList={}));var Q;(function(b){function O(p){return p.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}b.fromPlainText=O;function N(p){var g=p;return C.string(g)||C.objectLiteral(g)&&C.string(g.language)&&C.string(g.value)}b.is=N})(Q=e.MarkedString||(e.MarkedString={}));var V;(function(b){function O(N){var p=N;return!!p&&C.objectLiteral(p)&&(oe.is(p.contents)||Q.is(p.contents)||C.typedArray(p.contents,Q.is))&&(N.range===void 0||s.is(N.range))}b.is=O})(V=e.Hover||(e.Hover={}));var Se;(function(b){function O(N,p){return p?{label:N,documentation:p}:{label:N}}b.create=O})(Se=e.ParameterInformation||(e.ParameterInformation={}));var ke;(function(b){function O(N,p){for(var g=[],A=2;A<arguments.length;A++)g[A-2]=arguments[A];var W={label:N};return C.defined(p)&&(W.documentation=p),C.defined(g)?W.parameters=g:W.parameters=[],W}b.create=O})(ke=e.SignatureInformation||(e.SignatureInformation={}));var Fe;(function(b){b.Text=1,b.Read=2,b.Write=3})(Fe=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var Je;(function(b){function O(N,p){var g={range:N};return C.number(p)&&(g.kind=p),g}b.create=O})(Je=e.DocumentHighlight||(e.DocumentHighlight={}));var rt;(function(b){b.File=1,b.Module=2,b.Namespace=3,b.Package=4,b.Class=5,b.Method=6,b.Property=7,b.Field=8,b.Constructor=9,b.Enum=10,b.Interface=11,b.Function=12,b.Variable=13,b.Constant=14,b.String=15,b.Number=16,b.Boolean=17,b.Array=18,b.Object=19,b.Key=20,b.Null=21,b.EnumMember=22,b.Struct=23,b.Event=24,b.Operator=25,b.TypeParameter=26})(rt=e.SymbolKind||(e.SymbolKind={}));var Rt;(function(b){b.Deprecated=1})(Rt=e.SymbolTag||(e.SymbolTag={}));var Ce;(function(b){function O(N,p,g,A,W){var ee={name:N,kind:p,location:{uri:A,range:g}};return W&&(ee.containerName=W),ee}b.create=O})(Ce=e.SymbolInformation||(e.SymbolInformation={}));var Ze;(function(b){function O(p,g,A,W,ee,ce){var Ee={name:p,detail:g,kind:A,range:W,selectionRange:ee};return ce!==void 0&&(Ee.children=ce),Ee}b.create=O;function N(p){var g=p;return g&&C.string(g.name)&&C.number(g.kind)&&s.is(g.range)&&s.is(g.selectionRange)&&(g.detail===void 0||C.string(g.detail))&&(g.deprecated===void 0||C.boolean(g.deprecated))&&(g.children===void 0||Array.isArray(g.children))&&(g.tags===void 0||Array.isArray(g.tags))}b.is=N})(Ze=e.DocumentSymbol||(e.DocumentSymbol={}));var Dt;(function(b){b.Empty="",b.QuickFix="quickfix",b.Refactor="refactor",b.RefactorExtract="refactor.extract",b.RefactorInline="refactor.inline",b.RefactorRewrite="refactor.rewrite",b.Source="source",b.SourceOrganizeImports="source.organizeImports",b.SourceFixAll="source.fixAll"})(Dt=e.CodeActionKind||(e.CodeActionKind={}));var Qe;(function(b){function O(p,g){var A={diagnostics:p};return g!=null&&(A.only=g),A}b.create=O;function N(p){var g=p;return C.defined(g)&&C.typedArray(g.diagnostics,D.is)&&(g.only===void 0||C.typedArray(g.only,C.string))}b.is=N})(Qe=e.CodeActionContext||(e.CodeActionContext={}));var nt;(function(b){function O(p,g,A){var W={title:p},ee=!0;return typeof g=="string"?(ee=!1,W.kind=g):w.is(g)?W.command=g:W.edit=g,ee&&A!==void 0&&(W.kind=A),W}b.create=O;function N(p){var g=p;return g&&C.string(g.title)&&(g.diagnostics===void 0||C.typedArray(g.diagnostics,D.is))&&(g.kind===void 0||C.string(g.kind))&&(g.edit!==void 0||g.command!==void 0)&&(g.command===void 0||w.is(g.command))&&(g.isPreferred===void 0||C.boolean(g.isPreferred))&&(g.edit===void 0||ne.is(g.edit))}b.is=N})(nt=e.CodeAction||(e.CodeAction={}));var Z;(function(b){function O(p,g){var A={range:p};return C.defined(g)&&(A.data=g),A}b.create=O;function N(p){var g=p;return C.defined(g)&&s.is(g.range)&&(C.undefined(g.command)||w.is(g.command))}b.is=N})(Z=e.CodeLens||(e.CodeLens={}));var X;(function(b){function O(p,g){return{tabSize:p,insertSpaces:g}}b.create=O;function N(p){var g=p;return C.defined(g)&&C.uinteger(g.tabSize)&&C.boolean(g.insertSpaces)}b.is=N})(X=e.FormattingOptions||(e.FormattingOptions={}));var j;(function(b){function O(p,g,A){return{range:p,target:g,data:A}}b.create=O;function N(p){var g=p;return C.defined(g)&&s.is(g.range)&&(C.undefined(g.target)||C.string(g.target))}b.is=N})(j=e.DocumentLink||(e.DocumentLink={}));var v;(function(b){function O(p,g){return{range:p,parent:g}}b.create=O;function N(p){var g=p;return g!==void 0&&s.is(g.range)&&(g.parent===void 0||b.is(g.parent))}b.is=N})(v=e.SelectionRange||(e.SelectionRange={})),e.EOL=[`
`,`\r
`,"\r"];var R;(function(b){function O(A,W,ee,ce){return new E(A,W,ee,ce)}b.create=O;function N(A){var W=A;return!!(C.defined(W)&&C.string(W.uri)&&(C.undefined(W.languageId)||C.string(W.languageId))&&C.uinteger(W.lineCount)&&C.func(W.getText)&&C.func(W.positionAt)&&C.func(W.offsetAt))}b.is=N;function p(A,W){for(var ee=A.getText(),ce=g(W,function(ui,Yi){var Oc=ui.range.start.line-Yi.range.start.line;return Oc===0?ui.range.start.character-Yi.range.start.character:Oc}),Ee=ee.length,Oe=ce.length-1;Oe>=0;Oe--){var pt=ce[Oe],mt=A.offsetAt(pt.range.start),Ae=A.offsetAt(pt.range.end);if(Ae<=Ee)ee=ee.substring(0,mt)+pt.newText+ee.substring(Ae,ee.length);else throw new Error("Overlapping edit");Ee=mt}return ee}b.applyEdits=p;function g(A,W){if(A.length<=1)return A;var ee=A.length/2|0,ce=A.slice(0,ee),Ee=A.slice(ee);g(ce,W),g(Ee,W);for(var Oe=0,pt=0,mt=0;Oe<ce.length&&pt<Ee.length;){var Ae=W(ce[Oe],Ee[pt]);Ae<=0?A[mt++]=ce[Oe++]:A[mt++]=Ee[pt++]}for(;Oe<ce.length;)A[mt++]=ce[Oe++];for(;pt<Ee.length;)A[mt++]=Ee[pt++];return A}})(R=e.TextDocument||(e.TextDocument={}));var E=function(){function b(O,N,p,g){this._uri=O,this._languageId=N,this._version=p,this._content=g,this._lineOffsets=void 0}return Object.defineProperty(b.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),b.prototype.getText=function(O){if(O){var N=this.offsetAt(O.start),p=this.offsetAt(O.end);return this._content.substring(N,p)}return this._content},b.prototype.update=function(O,N){this._content=O.text,this._version=N,this._lineOffsets=void 0},b.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var O=[],N=this._content,p=!0,g=0;g<N.length;g++){p&&(O.push(g),p=!1);var A=N.charAt(g);p=A==="\r"||A===`
`,A==="\r"&&g+1<N.length&&N.charAt(g+1)===`
`&&g++}p&&N.length>0&&O.push(N.length),this._lineOffsets=O}return this._lineOffsets},b.prototype.positionAt=function(O){O=Math.max(Math.min(O,this._content.length),0);var N=this.getLineOffsets(),p=0,g=N.length;if(g===0)return i.create(0,O);for(;p<g;){var A=Math.floor((p+g)/2);N[A]>O?g=A:p=A+1}var W=p-1;return i.create(W,O-N[W])},b.prototype.offsetAt=function(O){var N=this.getLineOffsets();if(O.line>=N.length)return this._content.length;if(O.line<0)return 0;var p=N[O.line],g=O.line+1<N.length?N[O.line+1]:this._content.length;return Math.max(Math.min(p+O.character,g),p)},Object.defineProperty(b.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),b}(),C;(function(b){var O=Object.prototype.toString;function N(Ae){return typeof Ae<"u"}b.defined=N;function p(Ae){return typeof Ae>"u"}b.undefined=p;function g(Ae){return Ae===!0||Ae===!1}b.boolean=g;function A(Ae){return O.call(Ae)==="[object String]"}b.string=A;function W(Ae){return O.call(Ae)==="[object Number]"}b.number=W;function ee(Ae,ui,Yi){return O.call(Ae)==="[object Number]"&&ui<=Ae&&Ae<=Yi}b.numberRange=ee;function ce(Ae){return O.call(Ae)==="[object Number]"&&-2147483648<=Ae&&Ae<=2147483647}b.integer=ce;function Ee(Ae){return O.call(Ae)==="[object Number]"&&0<=Ae&&Ae<=2147483647}b.uinteger=Ee;function Oe(Ae){return O.call(Ae)==="[object Function]"}b.func=Oe;function pt(Ae){return Ae!==null&&typeof Ae=="object"}b.objectLiteral=pt;function mt(Ae,ui){return Array.isArray(Ae)&&Ae.every(ui)}b.typedArray=mt})(C||(C={}))})});var $t=L(Mr=>{"use strict";Object.defineProperty(Mr,"__esModule",{value:!0});Mr.ProtocolNotificationType=Mr.ProtocolNotificationType0=Mr.ProtocolRequestType=Mr.ProtocolRequestType0=Mr.RegistrationType=void 0;var no=ro(),Np=class{constructor(e){this.method=e}};Mr.RegistrationType=Np;var Fp=class extends no.RequestType0{constructor(e){super(e)}};Mr.ProtocolRequestType0=Fp;var Lp=class extends no.RequestType{constructor(e){super(e,no.ParameterStructures.byName)}};Mr.ProtocolRequestType=Lp;var kp=class extends no.NotificationType0{constructor(e){super(e)}};Mr.ProtocolNotificationType0=kp;var Ap=class extends no.NotificationType{constructor(e){super(e,no.ParameterStructures.byName)}};Mr.ProtocolNotificationType=Ap});var j0=L(Ft=>{"use strict";Object.defineProperty(Ft,"__esModule",{value:!0});Ft.objectLiteral=Ft.typedArray=Ft.stringArray=Ft.array=Ft.func=Ft.error=Ft.number=Ft.string=Ft.boolean=void 0;function KM(t){return t===!0||t===!1}Ft.boolean=KM;function q0(t){return typeof t=="string"||t instanceof String}Ft.string=q0;function XM(t){return typeof t=="number"||t instanceof Number}Ft.number=XM;function YM(t){return t instanceof Error}Ft.error=YM;function JM(t){return typeof t=="function"}Ft.func=JM;function M0(t){return Array.isArray(t)}Ft.array=M0;function ZM(t){return M0(t)&&t.every(e=>q0(e))}Ft.stringArray=ZM;function QM(t,e){return Array.isArray(t)&&t.every(e)}Ft.typedArray=QM;function ej(t){return t!==null&&typeof t=="object"}Ft.objectLiteral=ej});var U0=L(Na=>{"use strict";Object.defineProperty(Na,"__esModule",{value:!0});Na.ImplementationRequest=void 0;var tj=$t(),rj;(function(t){t.method="textDocument/implementation",t.type=new tj.ProtocolRequestType(t.method)})(rj=Na.ImplementationRequest||(Na.ImplementationRequest={}))});var B0=L(Fa=>{"use strict";Object.defineProperty(Fa,"__esModule",{value:!0});Fa.TypeDefinitionRequest=void 0;var nj=$t(),ij;(function(t){t.method="textDocument/typeDefinition",t.type=new nj.ProtocolRequestType(t.method)})(ij=Fa.TypeDefinitionRequest||(Fa.TypeDefinitionRequest={}))});var W0=L(fi=>{"use strict";Object.defineProperty(fi,"__esModule",{value:!0});fi.DidChangeWorkspaceFoldersNotification=fi.WorkspaceFoldersRequest=void 0;var H0=$t(),sj;(function(t){t.type=new H0.ProtocolRequestType0("workspace/workspaceFolders")})(sj=fi.WorkspaceFoldersRequest||(fi.WorkspaceFoldersRequest={}));var oj;(function(t){t.type=new H0.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")})(oj=fi.DidChangeWorkspaceFoldersNotification||(fi.DidChangeWorkspaceFoldersNotification={}))});var $0=L(La=>{"use strict";Object.defineProperty(La,"__esModule",{value:!0});La.ConfigurationRequest=void 0;var aj=$t(),uj;(function(t){t.type=new aj.ProtocolRequestType("workspace/configuration")})(uj=La.ConfigurationRequest||(La.ConfigurationRequest={}))});var G0=L(di=>{"use strict";Object.defineProperty(di,"__esModule",{value:!0});di.ColorPresentationRequest=di.DocumentColorRequest=void 0;var z0=$t(),cj;(function(t){t.method="textDocument/documentColor",t.type=new z0.ProtocolRequestType(t.method)})(cj=di.DocumentColorRequest||(di.DocumentColorRequest={}));var lj;(function(t){t.type=new z0.ProtocolRequestType("textDocument/colorPresentation")})(lj=di.ColorPresentationRequest||(di.ColorPresentationRequest={}))});var V0=L(hi=>{"use strict";Object.defineProperty(hi,"__esModule",{value:!0});hi.FoldingRangeRequest=hi.FoldingRangeKind=void 0;var fj=$t(),dj;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(dj=hi.FoldingRangeKind||(hi.FoldingRangeKind={}));var hj;(function(t){t.method="textDocument/foldingRange",t.type=new fj.ProtocolRequestType(t.method)})(hj=hi.FoldingRangeRequest||(hi.FoldingRangeRequest={}))});var K0=L(ka=>{"use strict";Object.defineProperty(ka,"__esModule",{value:!0});ka.DeclarationRequest=void 0;var pj=$t(),mj;(function(t){t.method="textDocument/declaration",t.type=new pj.ProtocolRequestType(t.method)})(mj=ka.DeclarationRequest||(ka.DeclarationRequest={}))});var X0=L(Aa=>{"use strict";Object.defineProperty(Aa,"__esModule",{value:!0});Aa.SelectionRangeRequest=void 0;var gj=$t(),vj;(function(t){t.method="textDocument/selectionRange",t.type=new gj.ProtocolRequestType(t.method)})(vj=Aa.SelectionRangeRequest||(Aa.SelectionRangeRequest={}))});var J0=L(Qr=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});Qr.WorkDoneProgressCancelNotification=Qr.WorkDoneProgressCreateRequest=Qr.WorkDoneProgress=void 0;var yj=ro(),Y0=$t(),_j;(function(t){t.type=new yj.ProgressType;function e(r){return r===t.type}t.is=e})(_j=Qr.WorkDoneProgress||(Qr.WorkDoneProgress={}));var wj;(function(t){t.type=new Y0.ProtocolRequestType("window/workDoneProgress/create")})(wj=Qr.WorkDoneProgressCreateRequest||(Qr.WorkDoneProgressCreateRequest={}));var Ej;(function(t){t.type=new Y0.ProtocolNotificationType("window/workDoneProgress/cancel")})(Ej=Qr.WorkDoneProgressCancelNotification||(Qr.WorkDoneProgressCancelNotification={}))});var Z0=L(en=>{"use strict";Object.defineProperty(en,"__esModule",{value:!0});en.CallHierarchyOutgoingCallsRequest=en.CallHierarchyIncomingCallsRequest=en.CallHierarchyPrepareRequest=void 0;var qp=$t(),bj;(function(t){t.method="textDocument/prepareCallHierarchy",t.type=new qp.ProtocolRequestType(t.method)})(bj=en.CallHierarchyPrepareRequest||(en.CallHierarchyPrepareRequest={}));var Cj;(function(t){t.method="callHierarchy/incomingCalls",t.type=new qp.ProtocolRequestType(t.method)})(Cj=en.CallHierarchyIncomingCallsRequest||(en.CallHierarchyIncomingCallsRequest={}));var Sj;(function(t){t.method="callHierarchy/outgoingCalls",t.type=new qp.ProtocolRequestType(t.method)})(Sj=en.CallHierarchyOutgoingCallsRequest||(en.CallHierarchyOutgoingCallsRequest={}))});var Q0=L(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});it.SemanticTokensRefreshRequest=it.SemanticTokensRangeRequest=it.SemanticTokensDeltaRequest=it.SemanticTokensRequest=it.SemanticTokensRegistrationType=it.TokenFormat=it.SemanticTokens=it.SemanticTokenModifiers=it.SemanticTokenTypes=void 0;var qa=$t(),Tj;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator"})(Tj=it.SemanticTokenTypes||(it.SemanticTokenTypes={}));var Rj;(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(Rj=it.SemanticTokenModifiers||(it.SemanticTokenModifiers={}));var Dj;(function(t){function e(r){let n=r;return n!==void 0&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}t.is=e})(Dj=it.SemanticTokens||(it.SemanticTokens={}));var Oj;(function(t){t.Relative="relative"})(Oj=it.TokenFormat||(it.TokenFormat={}));var xj;(function(t){t.method="textDocument/semanticTokens",t.type=new qa.RegistrationType(t.method)})(xj=it.SemanticTokensRegistrationType||(it.SemanticTokensRegistrationType={}));var Pj;(function(t){t.method="textDocument/semanticTokens/full",t.type=new qa.ProtocolRequestType(t.method)})(Pj=it.SemanticTokensRequest||(it.SemanticTokensRequest={}));var Ij;(function(t){t.method="textDocument/semanticTokens/full/delta",t.type=new qa.ProtocolRequestType(t.method)})(Ij=it.SemanticTokensDeltaRequest||(it.SemanticTokensDeltaRequest={}));var Nj;(function(t){t.method="textDocument/semanticTokens/range",t.type=new qa.ProtocolRequestType(t.method)})(Nj=it.SemanticTokensRangeRequest||(it.SemanticTokensRangeRequest={}));var Fj;(function(t){t.method="workspace/semanticTokens/refresh",t.type=new qa.ProtocolRequestType0(t.method)})(Fj=it.SemanticTokensRefreshRequest||(it.SemanticTokensRefreshRequest={}))});var eC=L(Ma=>{"use strict";Object.defineProperty(Ma,"__esModule",{value:!0});Ma.ShowDocumentRequest=void 0;var Lj=$t(),kj;(function(t){t.method="window/showDocument",t.type=new Lj.ProtocolRequestType(t.method)})(kj=Ma.ShowDocumentRequest||(Ma.ShowDocumentRequest={}))});var tC=L(ja=>{"use strict";Object.defineProperty(ja,"__esModule",{value:!0});ja.LinkedEditingRangeRequest=void 0;var Aj=$t(),qj;(function(t){t.method="textDocument/linkedEditingRange",t.type=new Aj.ProtocolRequestType(t.method)})(qj=ja.LinkedEditingRangeRequest||(ja.LinkedEditingRangeRequest={}))});var rC=L(Ct=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0});Ct.WillDeleteFilesRequest=Ct.DidDeleteFilesNotification=Ct.DidRenameFilesNotification=Ct.WillRenameFilesRequest=Ct.DidCreateFilesNotification=Ct.WillCreateFilesRequest=Ct.FileOperationPatternKind=void 0;var io=$t(),Mj;(function(t){t.file="file",t.folder="folder"})(Mj=Ct.FileOperationPatternKind||(Ct.FileOperationPatternKind={}));var jj;(function(t){t.method="workspace/willCreateFiles",t.type=new io.ProtocolRequestType(t.method)})(jj=Ct.WillCreateFilesRequest||(Ct.WillCreateFilesRequest={}));var Uj;(function(t){t.method="workspace/didCreateFiles",t.type=new io.ProtocolNotificationType(t.method)})(Uj=Ct.DidCreateFilesNotification||(Ct.DidCreateFilesNotification={}));var Bj;(function(t){t.method="workspace/willRenameFiles",t.type=new io.ProtocolRequestType(t.method)})(Bj=Ct.WillRenameFilesRequest||(Ct.WillRenameFilesRequest={}));var Hj;(function(t){t.method="workspace/didRenameFiles",t.type=new io.ProtocolNotificationType(t.method)})(Hj=Ct.DidRenameFilesNotification||(Ct.DidRenameFilesNotification={}));var Wj;(function(t){t.method="workspace/didDeleteFiles",t.type=new io.ProtocolNotificationType(t.method)})(Wj=Ct.DidDeleteFilesNotification||(Ct.DidDeleteFilesNotification={}));var $j;(function(t){t.method="workspace/willDeleteFiles",t.type=new io.ProtocolRequestType(t.method)})($j=Ct.WillDeleteFilesRequest||(Ct.WillDeleteFilesRequest={}))});var nC=L(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});tn.MonikerRequest=tn.MonikerKind=tn.UniquenessLevel=void 0;var zj=$t(),Gj;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(Gj=tn.UniquenessLevel||(tn.UniquenessLevel={}));var Vj;(function(t){t.import="import",t.export="export",t.local="local"})(Vj=tn.MonikerKind||(tn.MonikerKind={}));var Kj;(function(t){t.method="textDocument/moniker",t.type=new zj.ProtocolRequestType(t.method)})(Kj=tn.MonikerRequest||(tn.MonikerRequest={}))});var uC=L(B=>{"use strict";Object.defineProperty(B,"__esModule",{value:!0});B.DocumentLinkRequest=B.CodeLensRefreshRequest=B.CodeLensResolveRequest=B.CodeLensRequest=B.WorkspaceSymbolRequest=B.CodeActionResolveRequest=B.CodeActionRequest=B.DocumentSymbolRequest=B.DocumentHighlightRequest=B.ReferencesRequest=B.DefinitionRequest=B.SignatureHelpRequest=B.SignatureHelpTriggerKind=B.HoverRequest=B.CompletionResolveRequest=B.CompletionRequest=B.CompletionTriggerKind=B.PublishDiagnosticsNotification=B.WatchKind=B.FileChangeType=B.DidChangeWatchedFilesNotification=B.WillSaveTextDocumentWaitUntilRequest=B.WillSaveTextDocumentNotification=B.TextDocumentSaveReason=B.DidSaveTextDocumentNotification=B.DidCloseTextDocumentNotification=B.DidChangeTextDocumentNotification=B.TextDocumentContentChangeEvent=B.DidOpenTextDocumentNotification=B.TextDocumentSyncKind=B.TelemetryEventNotification=B.LogMessageNotification=B.ShowMessageRequest=B.ShowMessageNotification=B.MessageType=B.DidChangeConfigurationNotification=B.ExitNotification=B.ShutdownRequest=B.InitializedNotification=B.InitializeError=B.InitializeRequest=B.WorkDoneProgressOptions=B.TextDocumentRegistrationOptions=B.StaticRegistrationOptions=B.FailureHandlingKind=B.ResourceOperationKind=B.UnregistrationRequest=B.RegistrationRequest=B.DocumentSelector=B.DocumentFilter=void 0;B.MonikerRequest=B.MonikerKind=B.UniquenessLevel=B.WillDeleteFilesRequest=B.DidDeleteFilesNotification=B.WillRenameFilesRequest=B.DidRenameFilesNotification=B.WillCreateFilesRequest=B.DidCreateFilesNotification=B.FileOperationPatternKind=B.LinkedEditingRangeRequest=B.ShowDocumentRequest=B.SemanticTokensRegistrationType=B.SemanticTokensRefreshRequest=B.SemanticTokensRangeRequest=B.SemanticTokensDeltaRequest=B.SemanticTokensRequest=B.TokenFormat=B.SemanticTokens=B.SemanticTokenModifiers=B.SemanticTokenTypes=B.CallHierarchyPrepareRequest=B.CallHierarchyOutgoingCallsRequest=B.CallHierarchyIncomingCallsRequest=B.WorkDoneProgressCancelNotification=B.WorkDoneProgressCreateRequest=B.WorkDoneProgress=B.SelectionRangeRequest=B.DeclarationRequest=B.FoldingRangeRequest=B.ColorPresentationRequest=B.DocumentColorRequest=B.ConfigurationRequest=B.DidChangeWorkspaceFoldersNotification=B.WorkspaceFoldersRequest=B.TypeDefinitionRequest=B.ImplementationRequest=B.ApplyWorkspaceEditRequest=B.ExecuteCommandRequest=B.PrepareRenameRequest=B.RenameRequest=B.PrepareSupportDefaultBehavior=B.DocumentOnTypeFormattingRequest=B.DocumentRangeFormattingRequest=B.DocumentFormattingRequest=B.DocumentLinkResolveRequest=void 0;var pi=j0(),Pe=$t(),Xj=U0();Object.defineProperty(B,"ImplementationRequest",{enumerable:!0,get:function(){return Xj.ImplementationRequest}});var Yj=B0();Object.defineProperty(B,"TypeDefinitionRequest",{enumerable:!0,get:function(){return Yj.TypeDefinitionRequest}});var iC=W0();Object.defineProperty(B,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return iC.WorkspaceFoldersRequest}});Object.defineProperty(B,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return iC.DidChangeWorkspaceFoldersNotification}});var Jj=$0();Object.defineProperty(B,"ConfigurationRequest",{enumerable:!0,get:function(){return Jj.ConfigurationRequest}});var sC=G0();Object.defineProperty(B,"DocumentColorRequest",{enumerable:!0,get:function(){return sC.DocumentColorRequest}});Object.defineProperty(B,"ColorPresentationRequest",{enumerable:!0,get:function(){return sC.ColorPresentationRequest}});var Zj=V0();Object.defineProperty(B,"FoldingRangeRequest",{enumerable:!0,get:function(){return Zj.FoldingRangeRequest}});var Qj=K0();Object.defineProperty(B,"DeclarationRequest",{enumerable:!0,get:function(){return Qj.DeclarationRequest}});var e2=X0();Object.defineProperty(B,"SelectionRangeRequest",{enumerable:!0,get:function(){return e2.SelectionRangeRequest}});var Mp=J0();Object.defineProperty(B,"WorkDoneProgress",{enumerable:!0,get:function(){return Mp.WorkDoneProgress}});Object.defineProperty(B,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return Mp.WorkDoneProgressCreateRequest}});Object.defineProperty(B,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return Mp.WorkDoneProgressCancelNotification}});var jp=Z0();Object.defineProperty(B,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return jp.CallHierarchyIncomingCallsRequest}});Object.defineProperty(B,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return jp.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(B,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return jp.CallHierarchyPrepareRequest}});var kn=Q0();Object.defineProperty(B,"SemanticTokenTypes",{enumerable:!0,get:function(){return kn.SemanticTokenTypes}});Object.defineProperty(B,"SemanticTokenModifiers",{enumerable:!0,get:function(){return kn.SemanticTokenModifiers}});Object.defineProperty(B,"SemanticTokens",{enumerable:!0,get:function(){return kn.SemanticTokens}});Object.defineProperty(B,"TokenFormat",{enumerable:!0,get:function(){return kn.TokenFormat}});Object.defineProperty(B,"SemanticTokensRequest",{enumerable:!0,get:function(){return kn.SemanticTokensRequest}});Object.defineProperty(B,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return kn.SemanticTokensDeltaRequest}});Object.defineProperty(B,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return kn.SemanticTokensRangeRequest}});Object.defineProperty(B,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return kn.SemanticTokensRefreshRequest}});Object.defineProperty(B,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return kn.SemanticTokensRegistrationType}});var t2=eC();Object.defineProperty(B,"ShowDocumentRequest",{enumerable:!0,get:function(){return t2.ShowDocumentRequest}});var r2=tC();Object.defineProperty(B,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return r2.LinkedEditingRangeRequest}});var os=rC();Object.defineProperty(B,"FileOperationPatternKind",{enumerable:!0,get:function(){return os.FileOperationPatternKind}});Object.defineProperty(B,"DidCreateFilesNotification",{enumerable:!0,get:function(){return os.DidCreateFilesNotification}});Object.defineProperty(B,"WillCreateFilesRequest",{enumerable:!0,get:function(){return os.WillCreateFilesRequest}});Object.defineProperty(B,"DidRenameFilesNotification",{enumerable:!0,get:function(){return os.DidRenameFilesNotification}});Object.defineProperty(B,"WillRenameFilesRequest",{enumerable:!0,get:function(){return os.WillRenameFilesRequest}});Object.defineProperty(B,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return os.DidDeleteFilesNotification}});Object.defineProperty(B,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return os.WillDeleteFilesRequest}});var Up=nC();Object.defineProperty(B,"UniquenessLevel",{enumerable:!0,get:function(){return Up.UniquenessLevel}});Object.defineProperty(B,"MonikerKind",{enumerable:!0,get:function(){return Up.MonikerKind}});Object.defineProperty(B,"MonikerRequest",{enumerable:!0,get:function(){return Up.MonikerRequest}});var oC;(function(t){function e(r){let n=r;return pi.string(n.language)||pi.string(n.scheme)||pi.string(n.pattern)}t.is=e})(oC=B.DocumentFilter||(B.DocumentFilter={}));var aC;(function(t){function e(r){if(!Array.isArray(r))return!1;for(let n of r)if(!pi.string(n)&&!oC.is(n))return!1;return!0}t.is=e})(aC=B.DocumentSelector||(B.DocumentSelector={}));var n2;(function(t){t.type=new Pe.ProtocolRequestType("client/registerCapability")})(n2=B.RegistrationRequest||(B.RegistrationRequest={}));var i2;(function(t){t.type=new Pe.ProtocolRequestType("client/unregisterCapability")})(i2=B.UnregistrationRequest||(B.UnregistrationRequest={}));var s2;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(s2=B.ResourceOperationKind||(B.ResourceOperationKind={}));var o2;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(o2=B.FailureHandlingKind||(B.FailureHandlingKind={}));var a2;(function(t){function e(r){let n=r;return n&&pi.string(n.id)&&n.id.length>0}t.hasId=e})(a2=B.StaticRegistrationOptions||(B.StaticRegistrationOptions={}));var u2;(function(t){function e(r){let n=r;return n&&(n.documentSelector===null||aC.is(n.documentSelector))}t.is=e})(u2=B.TextDocumentRegistrationOptions||(B.TextDocumentRegistrationOptions={}));var c2;(function(t){function e(n){let i=n;return pi.objectLiteral(i)&&(i.workDoneProgress===void 0||pi.boolean(i.workDoneProgress))}t.is=e;function r(n){let i=n;return i&&pi.boolean(i.workDoneProgress)}t.hasWorkDoneProgress=r})(c2=B.WorkDoneProgressOptions||(B.WorkDoneProgressOptions={}));var l2;(function(t){t.type=new Pe.ProtocolRequestType("initialize")})(l2=B.InitializeRequest||(B.InitializeRequest={}));var f2;(function(t){t.unknownProtocolVersion=1})(f2=B.InitializeError||(B.InitializeError={}));var d2;(function(t){t.type=new Pe.ProtocolNotificationType("initialized")})(d2=B.InitializedNotification||(B.InitializedNotification={}));var h2;(function(t){t.type=new Pe.ProtocolRequestType0("shutdown")})(h2=B.ShutdownRequest||(B.ShutdownRequest={}));var p2;(function(t){t.type=new Pe.ProtocolNotificationType0("exit")})(p2=B.ExitNotification||(B.ExitNotification={}));var m2;(function(t){t.type=new Pe.ProtocolNotificationType("workspace/didChangeConfiguration")})(m2=B.DidChangeConfigurationNotification||(B.DidChangeConfigurationNotification={}));var g2;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4})(g2=B.MessageType||(B.MessageType={}));var v2;(function(t){t.type=new Pe.ProtocolNotificationType("window/showMessage")})(v2=B.ShowMessageNotification||(B.ShowMessageNotification={}));var y2;(function(t){t.type=new Pe.ProtocolRequestType("window/showMessageRequest")})(y2=B.ShowMessageRequest||(B.ShowMessageRequest={}));var _2;(function(t){t.type=new Pe.ProtocolNotificationType("window/logMessage")})(_2=B.LogMessageNotification||(B.LogMessageNotification={}));var w2;(function(t){t.type=new Pe.ProtocolNotificationType("telemetry/event")})(w2=B.TelemetryEventNotification||(B.TelemetryEventNotification={}));var E2;(function(t){t.None=0,t.Full=1,t.Incremental=2})(E2=B.TextDocumentSyncKind||(B.TextDocumentSyncKind={}));var b2;(function(t){t.method="textDocument/didOpen",t.type=new Pe.ProtocolNotificationType(t.method)})(b2=B.DidOpenTextDocumentNotification||(B.DidOpenTextDocumentNotification={}));var C2;(function(t){function e(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}t.isIncremental=e;function r(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}t.isFull=r})(C2=B.TextDocumentContentChangeEvent||(B.TextDocumentContentChangeEvent={}));var S2;(function(t){t.method="textDocument/didChange",t.type=new Pe.ProtocolNotificationType(t.method)})(S2=B.DidChangeTextDocumentNotification||(B.DidChangeTextDocumentNotification={}));var T2;(function(t){t.method="textDocument/didClose",t.type=new Pe.ProtocolNotificationType(t.method)})(T2=B.DidCloseTextDocumentNotification||(B.DidCloseTextDocumentNotification={}));var R2;(function(t){t.method="textDocument/didSave",t.type=new Pe.ProtocolNotificationType(t.method)})(R2=B.DidSaveTextDocumentNotification||(B.DidSaveTextDocumentNotification={}));var D2;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(D2=B.TextDocumentSaveReason||(B.TextDocumentSaveReason={}));var O2;(function(t){t.method="textDocument/willSave",t.type=new Pe.ProtocolNotificationType(t.method)})(O2=B.WillSaveTextDocumentNotification||(B.WillSaveTextDocumentNotification={}));var x2;(function(t){t.method="textDocument/willSaveWaitUntil",t.type=new Pe.ProtocolRequestType(t.method)})(x2=B.WillSaveTextDocumentWaitUntilRequest||(B.WillSaveTextDocumentWaitUntilRequest={}));var P2;(function(t){t.type=new Pe.ProtocolNotificationType("workspace/didChangeWatchedFiles")})(P2=B.DidChangeWatchedFilesNotification||(B.DidChangeWatchedFilesNotification={}));var I2;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(I2=B.FileChangeType||(B.FileChangeType={}));var N2;(function(t){t.Create=1,t.Change=2,t.Delete=4})(N2=B.WatchKind||(B.WatchKind={}));var F2;(function(t){t.type=new Pe.ProtocolNotificationType("textDocument/publishDiagnostics")})(F2=B.PublishDiagnosticsNotification||(B.PublishDiagnosticsNotification={}));var L2;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(L2=B.CompletionTriggerKind||(B.CompletionTriggerKind={}));var k2;(function(t){t.method="textDocument/completion",t.type=new Pe.ProtocolRequestType(t.method)})(k2=B.CompletionRequest||(B.CompletionRequest={}));var A2;(function(t){t.method="completionItem/resolve",t.type=new Pe.ProtocolRequestType(t.method)})(A2=B.CompletionResolveRequest||(B.CompletionResolveRequest={}));var q2;(function(t){t.method="textDocument/hover",t.type=new Pe.ProtocolRequestType(t.method)})(q2=B.HoverRequest||(B.HoverRequest={}));var M2;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(M2=B.SignatureHelpTriggerKind||(B.SignatureHelpTriggerKind={}));var j2;(function(t){t.method="textDocument/signatureHelp",t.type=new Pe.ProtocolRequestType(t.method)})(j2=B.SignatureHelpRequest||(B.SignatureHelpRequest={}));var U2;(function(t){t.method="textDocument/definition",t.type=new Pe.ProtocolRequestType(t.method)})(U2=B.DefinitionRequest||(B.DefinitionRequest={}));var B2;(function(t){t.method="textDocument/references",t.type=new Pe.ProtocolRequestType(t.method)})(B2=B.ReferencesRequest||(B.ReferencesRequest={}));var H2;(function(t){t.method="textDocument/documentHighlight",t.type=new Pe.ProtocolRequestType(t.method)})(H2=B.DocumentHighlightRequest||(B.DocumentHighlightRequest={}));var W2;(function(t){t.method="textDocument/documentSymbol",t.type=new Pe.ProtocolRequestType(t.method)})(W2=B.DocumentSymbolRequest||(B.DocumentSymbolRequest={}));var $2;(function(t){t.method="textDocument/codeAction",t.type=new Pe.ProtocolRequestType(t.method)})($2=B.CodeActionRequest||(B.CodeActionRequest={}));var z2;(function(t){t.method="codeAction/resolve",t.type=new Pe.ProtocolRequestType(t.method)})(z2=B.CodeActionResolveRequest||(B.CodeActionResolveRequest={}));var G2;(function(t){t.method="workspace/symbol",t.type=new Pe.ProtocolRequestType(t.method)})(G2=B.WorkspaceSymbolRequest||(B.WorkspaceSymbolRequest={}));var V2;(function(t){t.method="textDocument/codeLens",t.type=new Pe.ProtocolRequestType(t.method)})(V2=B.CodeLensRequest||(B.CodeLensRequest={}));var K2;(function(t){t.method="codeLens/resolve",t.type=new Pe.ProtocolRequestType(t.method)})(K2=B.CodeLensResolveRequest||(B.CodeLensResolveRequest={}));var X2;(function(t){t.method="workspace/codeLens/refresh",t.type=new Pe.ProtocolRequestType0(t.method)})(X2=B.CodeLensRefreshRequest||(B.CodeLensRefreshRequest={}));var Y2;(function(t){t.method="textDocument/documentLink",t.type=new Pe.ProtocolRequestType(t.method)})(Y2=B.DocumentLinkRequest||(B.DocumentLinkRequest={}));var J2;(function(t){t.method="documentLink/resolve",t.type=new Pe.ProtocolRequestType(t.method)})(J2=B.DocumentLinkResolveRequest||(B.DocumentLinkResolveRequest={}));var Z2;(function(t){t.method="textDocument/formatting",t.type=new Pe.ProtocolRequestType(t.method)})(Z2=B.DocumentFormattingRequest||(B.DocumentFormattingRequest={}));var Q2;(function(t){t.method="textDocument/rangeFormatting",t.type=new Pe.ProtocolRequestType(t.method)})(Q2=B.DocumentRangeFormattingRequest||(B.DocumentRangeFormattingRequest={}));var eU;(function(t){t.method="textDocument/onTypeFormatting",t.type=new Pe.ProtocolRequestType(t.method)})(eU=B.DocumentOnTypeFormattingRequest||(B.DocumentOnTypeFormattingRequest={}));var tU;(function(t){t.Identifier=1})(tU=B.PrepareSupportDefaultBehavior||(B.PrepareSupportDefaultBehavior={}));var rU;(function(t){t.method="textDocument/rename",t.type=new Pe.ProtocolRequestType(t.method)})(rU=B.RenameRequest||(B.RenameRequest={}));var nU;(function(t){t.method="textDocument/prepareRename",t.type=new Pe.ProtocolRequestType(t.method)})(nU=B.PrepareRenameRequest||(B.PrepareRenameRequest={}));var iU;(function(t){t.type=new Pe.ProtocolRequestType("workspace/executeCommand")})(iU=B.ExecuteCommandRequest||(B.ExecuteCommandRequest={}));var sU;(function(t){t.type=new Pe.ProtocolRequestType("workspace/applyEdit")})(sU=B.ApplyWorkspaceEditRequest||(B.ApplyWorkspaceEditRequest={}))});var lC=L(el=>{"use strict";Object.defineProperty(el,"__esModule",{value:!0});el.createProtocolConnection=void 0;var cC=ro();function oU(t,e,r,n){return cC.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),cC.createMessageConnection(t,e,r,n)}el.createProtocolConnection=oU});var fC=L(pr=>{"use strict";var aU=pr&&pr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),tl=pr&&pr.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&aU(e,t,r)};Object.defineProperty(pr,"__esModule",{value:!0});pr.LSPErrorCodes=pr.createProtocolConnection=void 0;tl(ro(),pr);tl(A0(),pr);tl($t(),pr);tl(uC(),pr);var uU=lC();Object.defineProperty(pr,"createProtocolConnection",{enumerable:!0,get:function(){return uU.createProtocolConnection}});var cU;(function(t){t.lspReservedErrorRangeStart=-32899,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(cU=pr.LSPErrorCodes||(pr.LSPErrorCodes={}))});var St=L(hn=>{"use strict";var lU=hn&&hn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),dC=hn&&hn.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&lU(e,t,r)};Object.defineProperty(hn,"__esModule",{value:!0});hn.createProtocolConnection=void 0;var fU=Ip();dC(Ip(),hn);dC(fC(),hn);function dU(t,e,r,n){return fU.createMessageConnection(t,e,r,n)}hn.createProtocolConnection=dU});var Wp=L(oo=>{"use strict";Object.defineProperty(oo,"__esModule",{value:!0});oo.toJSONObject=oo.ConfigurationFeature=void 0;var Bp=require("vscode"),hU=St(),Hp=class{constructor(e){this._client=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){let e=this._client;e.onRequest(hU.ConfigurationRequest.type,(r,n)=>{let i=o=>{let u=[];for(let a of o.items){let c=a.scopeUri!==void 0&&a.scopeUri!==null?this._client.protocol2CodeConverter.asUri(a.scopeUri):void 0;u.push(this.getConfiguration(c,a.section!==null?a.section:void 0))}return u},s=e.clientOptions.middleware.workspace;return s&&s.configuration?s.configuration(r,n,i):i(r,n)})}getConfiguration(e,r){let n=null;if(r){let i=r.lastIndexOf(".");if(i===-1)n=so(Bp.workspace.getConfiguration(void 0,e).get(r));else{let s=Bp.workspace.getConfiguration(r.substr(0,i),e);s&&(n=so(s.get(r.substr(i+1))))}}else{let i=Bp.workspace.getConfiguration(void 0,e);n={};for(let s of Object.keys(i))i.has(s)&&(n[s]=so(i.get(s)))}return n===void 0&&(n=null),n}dispose(){}};oo.ConfigurationFeature=Hp;function so(t){if(t){if(Array.isArray(t))return t.map(so);if(typeof t=="object"){let e=Object.create(null);for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=so(t[r]));return e}}return t}oo.toJSONObject=so});var Gp=L(zp=>{"use strict";Object.defineProperty(zp,"__esModule",{value:!0});var pU=require("vscode"),$p=class extends pU.CompletionItem{constructor(e){super(e)}};zp.default=$p});var Xp=L(Kp=>{"use strict";Object.defineProperty(Kp,"__esModule",{value:!0});var mU=require("vscode"),Vp=class extends mU.CodeLens{constructor(e){super(e)}};Kp.default=Vp});var Zp=L(Jp=>{"use strict";Object.defineProperty(Jp,"__esModule",{value:!0});var gU=require("vscode"),Yp=class extends gU.DocumentLink{constructor(e,r){super(e,r)}};Jp.default=Yp});var tm=L(em=>{"use strict";Object.defineProperty(em,"__esModule",{value:!0});var vU=require("vscode"),Qp=class extends vU.CodeAction{constructor(e,r){super(e),this.data=r}};em.default=Qp});var im=L(as=>{"use strict";Object.defineProperty(as,"__esModule",{value:!0});as.ProtocolDiagnostic=as.DiagnosticCode=void 0;var yU=require("vscode"),rm=ci(),_U;(function(t){function e(r){let n=r;return n!=null&&(rm.number(n.value)||rm.string(n.value))&&rm.string(n.target)}t.is=e})(_U=as.DiagnosticCode||(as.DiagnosticCode={}));var nm=class extends yU.Diagnostic{constructor(e,r,n,i){super(e,r,n),this.data=i,this.hasDiagnosticCode=!1}};as.ProtocolDiagnostic=nm});var am=L(om=>{"use strict";Object.defineProperty(om,"__esModule",{value:!0});var wU=require("vscode"),sm=class extends wU.CallHierarchyItem{constructor(e,r,n,i,s,o,u){super(e,r,n,i,s,o),u!==void 0&&(this.data=u)}};om.default=sm});var pC=L(rl=>{"use strict";Object.defineProperty(rl,"__esModule",{value:!0});rl.createConverter=void 0;var zt=require("vscode"),et=St(),Ua=ci(),EU=Gp(),bU=Xp(),CU=Zp(),SU=tm(),hC=im(),TU=am(),RU=St(),um;(function(t){function e(r){let n=r;return n&&!!n.inserting&&!!n.replacing}t.is=e})(um||(um={}));function DU(t){let r=t||(p=>p.toString());function n(p){return r(p)}function i(p){return{uri:r(p.uri)}}function s(p){return{uri:r(p.uri),version:p.version}}function o(p){return{textDocument:{uri:r(p.uri),languageId:p.languageId,version:p.version,text:p.getText()}}}function u(p){let g=p;return!!g.document&&!!g.contentChanges}function a(p){let g=p;return!!g.uri&&!!g.version}function c(p){if(a(p))return{textDocument:{uri:r(p.uri),version:p.version},contentChanges:[{text:p.getText()}]};if(u(p)){let g=p.document;return{textDocument:{uri:r(g.uri),version:g.version},contentChanges:p.contentChanges.map(W=>{let ee=W.range;return{range:{start:{line:ee.start.line,character:ee.start.character},end:{line:ee.end.line,character:ee.end.character}},rangeLength:W.rangeLength,text:W.text}})}}else throw Error("Unsupported text document change parameter")}function f(p){return{textDocument:i(p)}}function d(p,g=!1){let A={textDocument:i(p)};return g&&(A.text=p.getText()),A}function m(p){switch(p){case zt.TextDocumentSaveReason.Manual:return et.TextDocumentSaveReason.Manual;case zt.TextDocumentSaveReason.AfterDelay:return et.TextDocumentSaveReason.AfterDelay;case zt.TextDocumentSaveReason.FocusOut:return et.TextDocumentSaveReason.FocusOut}return et.TextDocumentSaveReason.Manual}function h(p){return{textDocument:i(p.document),reason:m(p.reason)}}function y(p){return{files:p.files.map(g=>({uri:r(g)}))}}function _(p){return{files:p.files.map(g=>({oldUri:r(g.oldUri),newUri:r(g.newUri)}))}}function S(p){return{files:p.files.map(g=>({uri:r(g)}))}}function D(p){return{files:p.files.map(g=>({uri:r(g)}))}}function w(p){return{files:p.files.map(g=>({oldUri:r(g.oldUri),newUri:r(g.newUri)}))}}function T(p){return{files:p.files.map(g=>({uri:r(g)}))}}function P(p,g){return{textDocument:i(p),position:se(g)}}function M(p){switch(p){case zt.CompletionTriggerKind.TriggerCharacter:return et.CompletionTriggerKind.TriggerCharacter;case zt.CompletionTriggerKind.TriggerForIncompleteCompletions:return et.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return et.CompletionTriggerKind.Invoked}}function U(p,g,A){return{textDocument:i(p),position:se(g),context:{triggerKind:M(A.triggerKind),triggerCharacter:A.triggerCharacter}}}function $(p){switch(p){case zt.SignatureHelpTriggerKind.Invoke:return et.SignatureHelpTriggerKind.Invoked;case zt.SignatureHelpTriggerKind.TriggerCharacter:return et.SignatureHelpTriggerKind.TriggerCharacter;case zt.SignatureHelpTriggerKind.ContentChange:return et.SignatureHelpTriggerKind.ContentChange}}function k(p){return{label:p.label}}function K(p){return p.map(k)}function ie(p){return{label:p.label,parameters:K(p.parameters)}}function ne(p){return p.map(ie)}function G(p){return p===void 0?p:{signatures:ne(p.signatures),activeSignature:p.activeSignature,activeParameter:p.activeParameter}}function te(p,g,A){return{textDocument:i(p),position:se(g),context:{isRetrigger:A.isRetrigger,triggerCharacter:A.triggerCharacter,triggerKind:$(A.triggerKind),activeSignatureHelp:G(A.activeSignatureHelp)}}}function se(p){return{line:p.line,character:p.character}}function le(p){return p==null?p:{line:p.line,character:p.character}}function q(p){let g=[];for(let A of p)g.push(le(A));return g}function z(p){return p==null?p:{start:le(p.start),end:le(p.end)}}function Y(p){return p==null?p:et.Location.create(n(p.uri),z(p.range))}function J(p){switch(p){case zt.DiagnosticSeverity.Error:return et.DiagnosticSeverity.Error;case zt.DiagnosticSeverity.Warning:return et.DiagnosticSeverity.Warning;case zt.DiagnosticSeverity.Information:return et.DiagnosticSeverity.Information;case zt.DiagnosticSeverity.Hint:return et.DiagnosticSeverity.Hint}}function oe(p){if(!p)return;let g=[];for(let A of p){let W=ue(A);W!==void 0&&g.push(W)}return g.length>0?g:void 0}function ue(p){switch(p){case zt.DiagnosticTag.Unnecessary:return et.DiagnosticTag.Unnecessary;case zt.DiagnosticTag.Deprecated:return et.DiagnosticTag.Deprecated;default:return}}function we(p){return{message:p.message,location:Y(p.location)}}function _e(p){return p.map(we)}function Re(p){if(p!=null)return Ua.number(p)||Ua.string(p)?p:{value:p.value,target:n(p.target)}}function Ue(p){let g=et.Diagnostic.create(z(p.range),p.message),A=p instanceof hC.ProtocolDiagnostic?p:void 0;A!==void 0&&A.data!==void 0&&(g.data=A.data);let W=Re(p.code);return hC.DiagnosticCode.is(W)?A!==void 0&&A.hasDiagnosticCode?g.code=W:(g.code=W.value,g.codeDescription={href:W.target}):g.code=W,Ua.number(p.severity)&&(g.severity=J(p.severity)),Array.isArray(p.tags)&&(g.tags=oe(p.tags)),p.relatedInformation&&(g.relatedInformation=_e(p.relatedInformation)),p.source&&(g.source=p.source),g}function F(p){return p==null?p:p.map(Ue)}function I(p,g){switch(p){case"$string":return g;case et.MarkupKind.PlainText:return{kind:p,value:g};case et.MarkupKind.Markdown:return{kind:p,value:g.value};default:return`Unsupported Markup content received. Kind is: ${p}`}}function Q(p){switch(p){case zt.CompletionItemTag.Deprecated:return et.CompletionItemTag.Deprecated}}function V(p){if(p===void 0)return p;let g=[];for(let A of p){let W=Q(A);W!==void 0&&g.push(W)}return g}function Se(p,g){return g!==void 0?g:p+1}function ke(p){let g={label:p.label},A=p instanceof EU.default?p:void 0;p.detail&&(g.detail=p.detail),p.documentation&&(!A||A.documentationFormat==="$string"?g.documentation=p.documentation:g.documentation=I(A.documentationFormat,p.documentation)),p.filterText&&(g.filterText=p.filterText),Fe(g,p),Ua.number(p.kind)&&(g.kind=Se(p.kind,A&&A.originalItemKind)),p.sortText&&(g.sortText=p.sortText),p.additionalTextEdits&&(g.additionalTextEdits=Rt(p.additionalTextEdits)),p.commitCharacters&&(g.commitCharacters=p.commitCharacters.slice()),p.command&&(g.command=j(p.command)),(p.preselect===!0||p.preselect===!1)&&(g.preselect=p.preselect);let W=V(p.tags);if(A){if(A.data!==void 0&&(g.data=A.data),A.deprecated===!0||A.deprecated===!1){if(A.deprecated===!0&&W!==void 0&&W.length>0){let ee=W.indexOf(zt.CompletionItemTag.Deprecated);ee!==-1&&W.splice(ee,1)}g.deprecated=A.deprecated}A.insertTextMode!==void 0&&(g.insertTextMode=A.insertTextMode)}return W!==void 0&&W.length>0&&(g.tags=W),g.insertTextMode===void 0&&p.keepWhitespace===!0&&(g.insertTextMode=RU.InsertTextMode.adjustIndentation),g}function Fe(p,g){let A=et.InsertTextFormat.PlainText,W,ee;g.textEdit?(W=g.textEdit.newText,ee=g.textEdit.range):g.insertText instanceof zt.SnippetString?(A=et.InsertTextFormat.Snippet,W=g.insertText.value):W=g.insertText,g.range&&(ee=g.range),p.insertTextFormat=A,g.fromEdit&&W!==void 0&&ee!==void 0?p.textEdit=Je(W,ee):p.insertText=W}function Je(p,g){return um.is(g)?et.InsertReplaceEdit.create(p,z(g.inserting),z(g.replacing)):{newText:p,range:z(g)}}function rt(p){return{range:z(p.range),newText:p.newText}}function Rt(p){return p==null?p:p.map(rt)}function Ce(p){return p<=zt.SymbolKind.TypeParameter?p+1:et.SymbolKind.Property}function Ze(p){return p}function Dt(p){return p.map(Ze)}function Qe(p,g,A){return{textDocument:i(p),position:se(g),context:{includeDeclaration:A.includeDeclaration}}}function nt(p){let g=et.CodeAction.create(p.title);if(p instanceof SU.default&&p.data!==void 0&&(g.data=p.data),p.kind!==void 0&&(g.kind=X(p.kind)),p.diagnostics!==void 0&&(g.diagnostics=F(p.diagnostics)),p.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return p.command!==void 0&&(g.command=j(p.command)),p.isPreferred!==void 0&&(g.isPreferred=p.isPreferred),p.disabled!==void 0&&(g.disabled={reason:p.disabled.reason}),g}function Z(p){if(p==null)return p;let g;return p.only&&Ua.string(p.only.value)&&(g=[p.only.value]),et.CodeActionContext.create(F(p.diagnostics),g)}function X(p){if(p!=null)return p.value}function j(p){let g=et.Command.create(p.title,p.command);return p.arguments&&(g.arguments=p.arguments),g}function v(p){let g=et.CodeLens.create(z(p.range));return p.command&&(g.command=j(p.command)),p instanceof bU.default&&p.data&&(g.data=p.data),g}function R(p,g){let A={tabSize:p.tabSize,insertSpaces:p.insertSpaces};return g.trimTrailingWhitespace&&(A.trimTrailingWhitespace=!0),g.trimFinalNewlines&&(A.trimFinalNewlines=!0),g.insertFinalNewline&&(A.insertFinalNewline=!0),A}function E(p){return{textDocument:i(p)}}function C(p){return{textDocument:i(p)}}function b(p){let g=et.DocumentLink.create(z(p.range));p.target&&(g.target=n(p.target)),p.tooltip!==void 0&&(g.tooltip=p.tooltip);let A=p instanceof CU.default?p:void 0;return A&&A.data&&(g.data=A.data),g}function O(p){return{textDocument:i(p)}}function N(p){let g={name:p.name,kind:Ce(p.kind),uri:n(p.uri),range:z(p.range),selectionRange:z(p.selectionRange)};return p.detail!==void 0&&p.detail.length>0&&(g.detail=p.detail),p.tags!==void 0&&(g.tags=Dt(p.tags)),p instanceof TU.default&&p.data!==void 0&&(g.data=p.data),g}return{asUri:n,asTextDocumentIdentifier:i,asVersionedTextDocumentIdentifier:s,asOpenTextDocumentParams:o,asChangeTextDocumentParams:c,asCloseTextDocumentParams:f,asSaveTextDocumentParams:d,asWillSaveTextDocumentParams:h,asDidCreateFilesParams:y,asDidRenameFilesParams:_,asDidDeleteFilesParams:S,asWillCreateFilesParams:D,asWillRenameFilesParams:w,asWillDeleteFilesParams:T,asTextDocumentPositionParams:P,asCompletionParams:U,asSignatureHelpParams:te,asWorkerPosition:se,asRange:z,asPosition:le,asPositions:q,asLocation:Y,asDiagnosticSeverity:J,asDiagnosticTag:ue,asDiagnostic:Ue,asDiagnostics:F,asCompletionItem:ke,asTextEdit:rt,asSymbolKind:Ce,asSymbolTag:Ze,asSymbolTags:Dt,asReferenceParams:Qe,asCodeAction:nt,asCodeActionContext:Z,asCommand:j,asCodeLens:v,asFormattingOptions:R,asDocumentSymbolParams:E,asCodeLensParams:C,asDocumentLink:b,asDocumentLinkParams:O,asCallHierarchyItem:N}}rl.createConverter=DU});var vC=L(il=>{"use strict";Object.defineProperty(il,"__esModule",{value:!0});il.createConverter=void 0;var ve=require("vscode"),Le=St(),rn=ci(),OU=Gp(),xU=Xp(),PU=Zp(),IU=tm(),mC=im(),NU=am(),gC=St(),nl;(function(t){function e(r){let n=r;return n&&rn.string(n.language)&&rn.string(n.value)}t.is=e})(nl||(nl={}));function FU(t,e){let n=t||(x=>ve.Uri.parse(x));function i(x){return n(x)}function s(x){return x.map(o)}function o(x){let re=new mC.ProtocolDiagnostic(m(x.range),x.message,y(x.severity),x.data);return x.code!==void 0&&(Le.CodeDescription.is(x.codeDescription)?re.code={value:x.code,target:i(x.codeDescription.href)}:mC.DiagnosticCode.is(x.code)?(re.hasDiagnosticCode=!0,re.code={value:x.code.value,target:i(x.code.target)}):re.code=x.code),x.source&&(re.source=x.source),x.relatedInformation&&(re.relatedInformation=u(x.relatedInformation)),Array.isArray(x.tags)&&(re.tags=c(x.tags)),re}function u(x){return x.map(a)}function a(x){return new ve.DiagnosticRelatedInformation(z(x.location),x.message)}function c(x){if(!x)return;let re=[];for(let be of x){let Be=f(be);Be!==void 0&&re.push(Be)}return re.length>0?re:void 0}function f(x){switch(x){case Le.DiagnosticTag.Unnecessary:return ve.DiagnosticTag.Unnecessary;case Le.DiagnosticTag.Deprecated:return ve.DiagnosticTag.Deprecated;default:return}}function d(x){if(x)return new ve.Position(x.line,x.character)}function m(x){if(x)return new ve.Range(d(x.start),d(x.end))}function h(x){return x.map(re=>m(re))}function y(x){if(x==null)return ve.DiagnosticSeverity.Error;switch(x){case Le.DiagnosticSeverity.Error:return ve.DiagnosticSeverity.Error;case Le.DiagnosticSeverity.Warning:return ve.DiagnosticSeverity.Warning;case Le.DiagnosticSeverity.Information:return ve.DiagnosticSeverity.Information;case Le.DiagnosticSeverity.Hint:return ve.DiagnosticSeverity.Hint}return ve.DiagnosticSeverity.Error}function _(x){if(rn.string(x))return D(x);if(nl.is(x))return D().appendCodeblock(x.value,x.language);if(Array.isArray(x)){let re=[];for(let be of x){let Be=D();nl.is(be)?Be.appendCodeblock(be.value,be.language):Be.appendMarkdown(be),re.push(Be)}return re}else{let re;switch(x.kind){case Le.MarkupKind.Markdown:return D(x.value);case Le.MarkupKind.PlainText:return re=D(),re.appendText(x.value),re;default:return re=D(),re.appendText(`Unsupported Markup content received. Kind is: ${x.kind}`),re}}}function S(x){if(rn.string(x))return x;switch(x.kind){case Le.MarkupKind.Markdown:return D(x.value);case Le.MarkupKind.PlainText:return x.value;default:return`Unsupported Markup content received. Kind is: ${x.kind}`}}function D(x){let re=new ve.MarkdownString(x);return e===!0&&(re.isTrusted=e),re}function w(x){if(x)return new ve.Hover(_(x.contents),m(x.range))}function T(x){if(!x)return;if(Array.isArray(x))return x.map($);let re=x;return new ve.CompletionList(re.items.map($),re.isIncomplete)}function P(x){return Le.CompletionItemKind.Text<=x&&x<=Le.CompletionItemKind.TypeParameter?[x-1,void 0]:[ve.CompletionItemKind.Text,x]}function M(x){switch(x){case Le.CompletionItemTag.Deprecated:return ve.CompletionItemTag.Deprecated}}function U(x){if(x==null)return[];let re=[];for(let be of x){let Be=M(be);Be!==void 0&&re.push(Be)}return re}function $(x){let re=U(x.tags),be=new OU.default(x.label);x.detail&&(be.detail=x.detail),x.documentation&&(be.documentation=S(x.documentation),be.documentationFormat=rn.string(x.documentation)?"$string":x.documentation.kind),x.filterText&&(be.filterText=x.filterText);let Be=k(x);if(Be&&(be.insertText=Be.text,be.range=Be.range,be.fromEdit=Be.fromEdit),rn.number(x.kind)){let[ot,Ji]=P(x.kind);be.kind=ot,Ji&&(be.originalItemKind=Ji)}return x.sortText&&(be.sortText=x.sortText),x.additionalTextEdits&&(be.additionalTextEdits=ne(x.additionalTextEdits)),rn.stringArray(x.commitCharacters)&&(be.commitCharacters=x.commitCharacters.slice()),x.command&&(be.command=rt(x.command)),(x.deprecated===!0||x.deprecated===!1)&&(be.deprecated=x.deprecated,x.deprecated===!0&&re.push(ve.CompletionItemTag.Deprecated)),(x.preselect===!0||x.preselect===!1)&&(be.preselect=x.preselect),x.data!==void 0&&(be.data=x.data),re.length>0&&(be.tags=re),x.insertTextMode!==void 0&&(be.insertTextMode=x.insertTextMode,x.insertTextMode===gC.InsertTextMode.asIs&&(be.keepWhitespace=!0)),be}function k(x){return x.textEdit?x.insertTextFormat===Le.InsertTextFormat.Snippet?{text:new ve.SnippetString(x.textEdit.newText),range:K(x.textEdit),fromEdit:!0}:{text:x.textEdit.newText,range:K(x.textEdit),fromEdit:!0}:x.insertText?x.insertTextFormat===Le.InsertTextFormat.Snippet?{text:new ve.SnippetString(x.insertText),fromEdit:!1}:{text:x.insertText,fromEdit:!1}:void 0}function K(x){return Le.InsertReplaceEdit.is(x)?{inserting:m(x.insert),replacing:m(x.replace)}:m(x.range)}function ie(x){if(x)return new ve.TextEdit(m(x.range),x.newText)}function ne(x){if(x)return x.map(ie)}function G(x){if(!x)return;let re=new ve.SignatureHelp;return rn.number(x.activeSignature)?re.activeSignature=x.activeSignature:re.activeSignature=0,rn.number(x.activeParameter)?re.activeParameter=x.activeParameter:re.activeParameter=0,x.signatures&&(re.signatures=te(x.signatures)),re}function te(x){return x.map(se)}function se(x){let re=new ve.SignatureInformation(x.label);return x.documentation!==void 0&&(re.documentation=S(x.documentation)),x.parameters!==void 0&&(re.parameters=le(x.parameters)),x.activeParameter!==void 0&&(re.activeParameter=x.activeParameter),re}function le(x){return x.map(q)}function q(x){let re=new ve.ParameterInformation(x.label);return x.documentation&&(re.documentation=S(x.documentation)),re}function z(x){if(x)return new ve.Location(n(x.uri),m(x.range))}function Y(x){if(x)return ue(x)}function J(x){if(x)return ue(x)}function oe(x){if(!x)return;let re={targetUri:n(x.targetUri),targetRange:m(x.targetRange),originSelectionRange:m(x.originSelectionRange),targetSelectionRange:m(x.targetSelectionRange)};if(!re.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return re}function ue(x){if(x)return rn.array(x)?x.length===0?[]:Le.LocationLink.is(x[0])?x.map(be=>oe(be)):x.map(be=>z(be)):Le.LocationLink.is(x)?[oe(x)]:z(x)}function we(x){if(x)return x.map(re=>z(re))}function _e(x){if(x)return x.map(Re)}function Re(x){let re=new ve.DocumentHighlight(m(x.range));return rn.number(x.kind)&&(re.kind=Ue(x.kind)),re}function Ue(x){switch(x){case Le.DocumentHighlightKind.Text:return ve.DocumentHighlightKind.Text;case Le.DocumentHighlightKind.Read:return ve.DocumentHighlightKind.Read;case Le.DocumentHighlightKind.Write:return ve.DocumentHighlightKind.Write}return ve.DocumentHighlightKind.Text}function F(x,re){if(x)return x.map(be=>Se(be,re))}function I(x){return x<=Le.SymbolKind.TypeParameter?x-1:ve.SymbolKind.Property}function Q(x){switch(x){case Le.SymbolTag.Deprecated:return ve.SymbolTag.Deprecated;default:return}}function V(x){if(x==null)return;let re=[];for(let be of x){let Be=Q(be);Be!==void 0&&re.push(Be)}return re.length===0?void 0:re}function Se(x,re){let be=new ve.SymbolInformation(x.name,I(x.kind),m(x.location.range),x.location.uri?n(x.location.uri):re);return Je(be,x),x.containerName&&(be.containerName=x.containerName),be}function ke(x){if(x!=null)return x.map(Fe)}function Fe(x){let re=new ve.DocumentSymbol(x.name,x.detail||"",I(x.kind),m(x.range),m(x.selectionRange));if(Je(re,x),x.children!==void 0&&x.children.length>0){let be=[];for(let Be of x.children)be.push(Fe(Be));re.children=be}return re}function Je(x,re){x.tags=V(re.tags),re.deprecated&&(x.tags?x.tags.includes(ve.SymbolTag.Deprecated)||(x.tags=x.tags.concat(ve.SymbolTag.Deprecated)):x.tags=[ve.SymbolTag.Deprecated])}function rt(x){let re={title:x.title,command:x.command};return x.arguments&&(re.arguments=x.arguments),re}function Rt(x){if(x)return x.map(rt)}let Ce=new Map;Ce.set(Le.CodeActionKind.Empty,ve.CodeActionKind.Empty),Ce.set(Le.CodeActionKind.QuickFix,ve.CodeActionKind.QuickFix),Ce.set(Le.CodeActionKind.Refactor,ve.CodeActionKind.Refactor),Ce.set(Le.CodeActionKind.RefactorExtract,ve.CodeActionKind.RefactorExtract),Ce.set(Le.CodeActionKind.RefactorInline,ve.CodeActionKind.RefactorInline),Ce.set(Le.CodeActionKind.RefactorRewrite,ve.CodeActionKind.RefactorRewrite),Ce.set(Le.CodeActionKind.Source,ve.CodeActionKind.Source),Ce.set(Le.CodeActionKind.SourceOrganizeImports,ve.CodeActionKind.SourceOrganizeImports);function Ze(x){if(x==null)return;let re=Ce.get(x);if(re)return re;let be=x.split(".");re=ve.CodeActionKind.Empty;for(let Be of be)re=re.append(Be);return re}function Dt(x){if(x!=null)return x.map(re=>Ze(re))}function Qe(x){if(x==null)return;let re=new IU.default(x.title,x.data);return x.kind!==void 0&&(re.kind=Ze(x.kind)),x.diagnostics!==void 0&&(re.diagnostics=s(x.diagnostics)),x.edit!==void 0&&(re.edit=X(x.edit)),x.command!==void 0&&(re.command=rt(x.command)),x.isPreferred!==void 0&&(re.isPreferred=x.isPreferred),x.disabled!==void 0&&(re.disabled={reason:x.disabled.reason}),re}function nt(x){if(!x)return;let re=new xU.default(m(x.range));return x.command&&(re.command=rt(x.command)),x.data!==void 0&&x.data!==null&&(re.data=x.data),re}function Z(x){if(x)return x.map(re=>nt(re))}function X(x){if(!x)return;let re=new Map;if(x.changeAnnotations!==void 0)for(let ot of Object.keys(x.changeAnnotations)){let Ji=j(x.changeAnnotations[ot]);re.set(ot,Ji)}let be=ot=>{if(ot!==void 0)return re.get(ot)},Be=new ve.WorkspaceEdit;if(x.documentChanges)for(let ot of x.documentChanges)if(Le.CreateFile.is(ot))Be.createFile(n(ot.uri),ot.options,be(ot.annotationId));else if(Le.RenameFile.is(ot))Be.renameFile(n(ot.oldUri),n(ot.newUri),ot.options,be(ot.annotationId));else if(Le.DeleteFile.is(ot))Be.deleteFile(n(ot.uri),ot.options,be(ot.annotationId));else if(Le.TextDocumentEdit.is(ot)){let Ji=n(ot.textDocument.uri);for(let Gs of ot.edits)gC.AnnotatedTextEdit.is(Gs)?Be.replace(Ji,m(Gs.range),Gs.newText,be(Gs.annotationId)):Be.replace(Ji,m(Gs.range),Gs.newText)}else throw new Error(`Unknown workspace edit change received:
${JSON.stringify(ot,void 0,4)}`);else x.changes&&Object.keys(x.changes).forEach(ot=>{Be.set(n(ot),ne(x.changes[ot]))});return Be}function j(x){if(x!==void 0)return{label:x.label,needsConfirmation:!!x.needsConfirmation,description:x.description}}function v(x){let re=m(x.range),be=x.target?i(x.target):void 0,Be=new PU.default(re,be);return x.tooltip!==void 0&&(Be.tooltip=x.tooltip),x.data!==void 0&&x.data!==null&&(Be.data=x.data),Be}function R(x){if(x)return x.map(v)}function E(x){return new ve.Color(x.red,x.green,x.blue,x.alpha)}function C(x){return new ve.ColorInformation(m(x.range),E(x.color))}function b(x){if(Array.isArray(x))return x.map(C)}function O(x){let re=new ve.ColorPresentation(x.label);return re.additionalTextEdits=ne(x.additionalTextEdits),x.textEdit&&(re.textEdit=ie(x.textEdit)),re}function N(x){if(Array.isArray(x))return x.map(O)}function p(x){if(x)switch(x){case Le.FoldingRangeKind.Comment:return ve.FoldingRangeKind.Comment;case Le.FoldingRangeKind.Imports:return ve.FoldingRangeKind.Imports;case Le.FoldingRangeKind.Region:return ve.FoldingRangeKind.Region}}function g(x){return new ve.FoldingRange(x.startLine,x.endLine,p(x.kind))}function A(x){if(Array.isArray(x))return x.map(g)}function W(x){return new ve.SelectionRange(m(x.range),x.parent?W(x.parent):void 0)}function ee(x){if(!Array.isArray(x))return[];let re=[];for(let be of x)re.push(W(be));return re}function ce(x){if(x===null)return;let re=new NU.default(I(x.kind),x.name,x.detail||"",i(x.uri),m(x.range),m(x.selectionRange),x.data);return x.tags!==void 0&&(re.tags=V(x.tags)),re}function Ee(x){if(x!==null)return x.map(re=>ce(re))}function Oe(x){return new ve.CallHierarchyIncomingCall(ce(x.from),h(x.fromRanges))}function pt(x){if(x!==null)return x.map(re=>Oe(re))}function mt(x){return new ve.CallHierarchyOutgoingCall(ce(x.to),h(x.fromRanges))}function Ae(x){if(x!==null)return x.map(re=>mt(re))}function ui(x){if(x!=null)return new ve.SemanticTokens(new Uint32Array(x.data),x.resultId)}function Yi(x){return new ve.SemanticTokensEdit(x.start,x.deleteCount,x.data!==void 0?new Uint32Array(x.data):void 0)}function Oc(x){if(x!=null)return new ve.SemanticTokensEdits(x.edits.map(Yi),x.resultId)}function Z1(x){return x}function Q1(x){if(x!=null)return new ve.LinkedEditingRanges(h(x.ranges),ek(x.wordPattern))}function ek(x){if(x!=null)return new RegExp(x)}return{asUri:i,asDiagnostics:s,asDiagnostic:o,asRange:m,asRanges:h,asPosition:d,asDiagnosticSeverity:y,asDiagnosticTag:f,asHover:w,asCompletionResult:T,asCompletionItem:$,asTextEdit:ie,asTextEdits:ne,asSignatureHelp:G,asSignatureInformations:te,asSignatureInformation:se,asParameterInformations:le,asParameterInformation:q,asDeclarationResult:Y,asDefinitionResult:J,asLocation:z,asReferences:we,asDocumentHighlights:_e,asDocumentHighlight:Re,asDocumentHighlightKind:Ue,asSymbolKind:I,asSymbolTag:Q,asSymbolTags:V,asSymbolInformations:F,asSymbolInformation:Se,asDocumentSymbols:ke,asDocumentSymbol:Fe,asCommand:rt,asCommands:Rt,asCodeAction:Qe,asCodeActionKind:Ze,asCodeActionKinds:Dt,asCodeLens:nt,asCodeLenses:Z,asWorkspaceEdit:X,asDocumentLink:v,asDocumentLinks:R,asFoldingRangeKind:p,asFoldingRange:g,asFoldingRanges:A,asColor:E,asColorInformation:C,asColorInformations:b,asColorPresentation:O,asColorPresentations:N,asSelectionRange:W,asSelectionRanges:ee,asSemanticTokensLegend:Z1,asSemanticTokens:ui,asSemanticTokensEdit:Yi,asSemanticTokensEdits:Oc,asCallHierarchyItem:ce,asCallHierarchyItems:Ee,asCallHierarchyIncomingCall:Oe,asCallHierarchyIncomingCalls:pt,asCallHierarchyOutgoingCall:mt,asCallHierarchyOutgoingCalls:Ae,asLinkedEditingRanges:Q1}}il.createConverter=FU});var _C=L(sl=>{"use strict";Object.defineProperty(sl,"__esModule",{value:!0});sl.Delayer=void 0;var yC=St(),cm=class{constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,r=this.defaultDelay){return this.task=e,r>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(n=>{this.onSuccess=n}).then(()=>{this.completionPromise=void 0,this.onSuccess=void 0;var n=this.task();return this.task=void 0,n})),(r>=0||this.timeout===void 0)&&(this.timeout=yC.RAL().timer.setTimeout(()=>{this.timeout=void 0,this.onSuccess(void 0)},r>=0?r:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return this.timeout!==void 0}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){this.timeout!==void 0&&(yC.RAL().timer.clearTimeout(this.timeout),this.timeout=void 0)}};sl.Delayer=cm});var ol=L(jr=>{"use strict";Object.defineProperty(jr,"__esModule",{value:!0});jr.generateUuid=jr.parse=jr.isUUID=jr.v4=jr.empty=void 0;var Ba=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},Ne=class extends Ba{constructor(){super([Ne._randomHex(),Ne._randomHex(),Ne._randomHex(),Ne._randomHex(),Ne._randomHex(),Ne._randomHex(),Ne._randomHex(),Ne._randomHex(),"-",Ne._randomHex(),Ne._randomHex(),Ne._randomHex(),Ne._randomHex(),"-","4",Ne._randomHex(),Ne._randomHex(),Ne._randomHex(),"-",Ne._oneOf(Ne._timeHighBits),Ne._randomHex(),Ne._randomHex(),Ne._randomHex(),"-",Ne._randomHex(),Ne._randomHex(),Ne._randomHex(),Ne._randomHex(),Ne._randomHex(),Ne._randomHex(),Ne._randomHex(),Ne._randomHex(),Ne._randomHex(),Ne._randomHex(),Ne._randomHex(),Ne._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return Ne._oneOf(Ne._chars)}};Ne._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];Ne._timeHighBits=["8","9","a","b"];jr.empty=new Ba("00000000-0000-0000-0000-000000000000");function wC(){return new Ne}jr.v4=wC;var LU=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function EC(t){return LU.test(t)}jr.isUUID=EC;function kU(t){if(!EC(t))throw new Error("invalid uuid");return new Ba(t)}jr.parse=kU;function AU(){return wC().asHex()}jr.generateUuid=AU});var fm=L(al=>{"use strict";Object.defineProperty(al,"__esModule",{value:!0});al.ProgressPart=void 0;var bC=require("vscode"),CC=St(),SC=ci(),lm=class{constructor(e,r,n){this._client=e,this._token=r,this._reported=0,this._disposable=this._client.onProgress(CC.WorkDoneProgress.type,this._token,i=>{switch(i.kind){case"begin":this.begin(i);break;case"report":this.report(i);break;case"end":this.done(),n&&n(this);break}})}begin(e){bC.window.withProgress({location:bC.ProgressLocation.Window,cancellable:e.cancellable,title:e.title},async(r,n)=>(this._progress=r,this._infinite=e.percentage===void 0,this._cancellationToken=n,this._cancellationToken.onCancellationRequested(()=>{this._client.sendNotification(CC.WorkDoneProgressCancelNotification.type,{token:this._token})}),this.report(e),new Promise((i,s)=>{this._resolve=i,this._reject=s})))}report(e){if(this._infinite&&SC.string(e.message))this._progress.report({message:e.message});else if(SC.number(e.percentage)){let r=Math.max(0,Math.min(e.percentage,100)),n=Math.max(0,r-this._reported);this._progress.report({message:e.message,increment:n}),this._reported+=n}}cancel(){this._disposable&&(this._disposable.dispose(),this._disposable=void 0),this._reject&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this._disposable&&(this._disposable.dispose(),this._disposable=void 0),this._resolve&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}};al.ProgressPart=lm});var xr=L(xt=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});xt.BaseLanguageClient=xt.MessageTransports=xt.TextDocumentFeature=xt.State=xt.RevealOutputChannelOn=xt.CloseAction=xt.ErrorAction=void 0;var me=require("vscode"),H=St(),qU=Wp(),MU=pC(),jU=vC(),ut=ci(),TC=_C(),ct=ol(),UU=fm(),dm=class{error(e){H.RAL().console.error(e)}warn(e){H.RAL().console.warn(e)}info(e){H.RAL().console.info(e)}log(e){H.RAL().console.log(e)}};function BU(t,e,r,n,i){let s=new dm,o=H.createProtocolConnection(t,e,s,i);return o.onError(a=>{r(a[0],a[1],a[2])}),o.onClose(n),{listen:()=>o.listen(),sendRequest:(a,...c)=>o.sendRequest(ut.string(a)?a:a.method,...c),onRequest:(a,c)=>o.onRequest(ut.string(a)?a:a.method,c),sendNotification:(a,c)=>o.sendNotification(ut.string(a)?a:a.method,c),onNotification:(a,c)=>o.onNotification(ut.string(a)?a:a.method,c),onProgress:o.onProgress,sendProgress:o.sendProgress,trace:(a,c,f)=>{let d={sendNotification:!1,traceFormat:H.TraceFormat.Text};f===void 0?o.trace(a,c,d):(ut.boolean(f),o.trace(a,c,f))},initialize:a=>o.sendRequest(H.InitializeRequest.type,a),shutdown:()=>o.sendRequest(H.ShutdownRequest.type,void 0),exit:()=>o.sendNotification(H.ExitNotification.type),onLogMessage:a=>o.onNotification(H.LogMessageNotification.type,a),onShowMessage:a=>o.onNotification(H.ShowMessageNotification.type,a),onTelemetry:a=>o.onNotification(H.TelemetryEventNotification.type,a),didChangeConfiguration:a=>o.sendNotification(H.DidChangeConfigurationNotification.type,a),didChangeWatchedFiles:a=>o.sendNotification(H.DidChangeWatchedFilesNotification.type,a),didOpenTextDocument:a=>o.sendNotification(H.DidOpenTextDocumentNotification.type,a),didChangeTextDocument:a=>o.sendNotification(H.DidChangeTextDocumentNotification.type,a),didCloseTextDocument:a=>o.sendNotification(H.DidCloseTextDocumentNotification.type,a),didSaveTextDocument:a=>o.sendNotification(H.DidSaveTextDocumentNotification.type,a),onDiagnostics:a=>o.onNotification(H.PublishDiagnosticsNotification.type,a),end:()=>o.end(),dispose:()=>o.dispose()}}var cl;(function(t){t[t.Continue=1]="Continue",t[t.Shutdown=2]="Shutdown"})(cl=xt.ErrorAction||(xt.ErrorAction={}));var us;(function(t){t[t.DoNotRestart=1]="DoNotRestart",t[t.Restart=2]="Restart"})(us=xt.CloseAction||(xt.CloseAction={}));var hm=class{constructor(e,r){this.name=e,this.maxRestartCount=r,this.restarts=[]}error(e,r,n){return n&&n<=3?cl.Continue:cl.Shutdown}closed(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?us.Restart:this.restarts[this.restarts.length-1]-this.restarts[0]<=3*60*1e3?(me.window.showErrorMessage(`The ${this.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted.`),us.DoNotRestart):(this.restarts.shift(),us.Restart)}},Ha;(function(t){t[t.Info=1]="Info",t[t.Warn=2]="Warn",t[t.Error=3]="Error",t[t.Never=4]="Never"})(Ha=xt.RevealOutputChannelOn||(xt.RevealOutputChannelOn={}));var ul;(function(t){t[t.Stopped=1]="Stopped",t[t.Starting=3]="Starting",t[t.Running=2]="Running"})(ul=xt.State||(xt.State={}));var bt;(function(t){t[t.Initial=0]="Initial",t[t.Starting=1]="Starting",t[t.StartFailed=2]="StartFailed",t[t.Running=3]="Running",t[t.Stopping=4]="Stopping",t[t.Stopped=5]="Stopped"})(bt||(bt={}));var RC=[H.SymbolKind.File,H.SymbolKind.Module,H.SymbolKind.Namespace,H.SymbolKind.Package,H.SymbolKind.Class,H.SymbolKind.Method,H.SymbolKind.Property,H.SymbolKind.Field,H.SymbolKind.Constructor,H.SymbolKind.Enum,H.SymbolKind.Interface,H.SymbolKind.Function,H.SymbolKind.Variable,H.SymbolKind.Constant,H.SymbolKind.String,H.SymbolKind.Number,H.SymbolKind.Boolean,H.SymbolKind.Array,H.SymbolKind.Object,H.SymbolKind.Key,H.SymbolKind.Null,H.SymbolKind.EnumMember,H.SymbolKind.Struct,H.SymbolKind.Event,H.SymbolKind.Operator,H.SymbolKind.TypeParameter],HU=[H.CompletionItemKind.Text,H.CompletionItemKind.Method,H.CompletionItemKind.Function,H.CompletionItemKind.Constructor,H.CompletionItemKind.Field,H.CompletionItemKind.Variable,H.CompletionItemKind.Class,H.CompletionItemKind.Interface,H.CompletionItemKind.Module,H.CompletionItemKind.Property,H.CompletionItemKind.Unit,H.CompletionItemKind.Value,H.CompletionItemKind.Enum,H.CompletionItemKind.Keyword,H.CompletionItemKind.Snippet,H.CompletionItemKind.Color,H.CompletionItemKind.File,H.CompletionItemKind.Reference,H.CompletionItemKind.Folder,H.CompletionItemKind.EnumMember,H.CompletionItemKind.Constant,H.CompletionItemKind.Struct,H.CompletionItemKind.Event,H.CompletionItemKind.Operator,H.CompletionItemKind.TypeParameter],DC=[H.SymbolTag.Deprecated];function ye(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var Wa;(function(t){function e(r){let n=me.workspace.getConfiguration("files",r);return{trimTrailingWhitespace:n.get("trimTrailingWhitespace"),trimFinalNewlines:n.get("trimFinalNewlines"),insertFinalNewline:n.get("insertFinalNewline")}}t.fromConfiguration=e})(Wa||(Wa={}));var pm;(function(t){function e(r){let n=r;return n&&ut.func(n.register)&&ut.func(n.unregister)&&ut.func(n.dispose)&&n.registrationType!==void 0}t.is=e})(pm||(pm={}));var nn=class{constructor(e,r,n,i,s,o){this._client=e,this._event=r,this._type=n,this._middleware=i,this._createParams=s,this._selectorFilter=o,this._selectors=new Map}static textDocumentFilter(e,r){for(let n of e)if(me.languages.match(n,r))return!0;return!1}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=this._event(this.callback,this)),this._selectors.set(e.id,e.registerOptions.documentSelector))}callback(e){(!this._selectorFilter||this._selectorFilter(this._selectors.values(),e))&&(this._middleware?this._middleware(e,r=>this._client.sendNotification(this._type,this._createParams(r))):this._client.sendNotification(this._type,this._createParams(e)),this.notificationSent(e))}notificationSent(e){}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(e){for(let r of this._selectors.values())if(me.languages.match(r,e))return{send:n=>{this.callback(n)}}}},mm=class extends nn{constructor(e,r){super(e,me.workspace.onDidOpenTextDocument,H.DidOpenTextDocumentNotification.type,e.clientOptions.middleware.didOpen,n=>e.code2ProtocolConverter.asOpenTextDocumentParams(n),nn.textDocumentFilter),this._syncedDocuments=r}fillClientCapabilities(e){ye(ye(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,r){let n=e.resolvedTextDocumentSync;r&&n&&n.openClose&&this.register({id:ct.generateUuid(),registerOptions:{documentSelector:r}})}get registrationType(){return H.DidOpenTextDocumentNotification.type}register(e){if(super.register(e),!e.registerOptions.documentSelector)return;let r=e.registerOptions.documentSelector;me.workspace.textDocuments.forEach(n=>{let i=n.uri.toString();if(!this._syncedDocuments.has(i)&&me.languages.match(r,n)){let s=this._client.clientOptions.middleware,o=u=>{this._client.sendNotification(this._type,this._createParams(u))};s.didOpen?s.didOpen(n,o):o(n),this._syncedDocuments.set(i,n)}})}notificationSent(e){super.notificationSent(e),this._syncedDocuments.set(e.uri.toString(),e)}},gm=class extends nn{constructor(e,r){super(e,me.workspace.onDidCloseTextDocument,H.DidCloseTextDocumentNotification.type,e.clientOptions.middleware.didClose,n=>e.code2ProtocolConverter.asCloseTextDocumentParams(n),nn.textDocumentFilter),this._syncedDocuments=r}get registrationType(){return H.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){ye(ye(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,r){let n=e.resolvedTextDocumentSync;r&&n&&n.openClose&&this.register({id:ct.generateUuid(),registerOptions:{documentSelector:r}})}notificationSent(e){super.notificationSent(e),this._syncedDocuments.delete(e.uri.toString())}unregister(e){let r=this._selectors.get(e);super.unregister(e);let n=this._selectors.values();this._syncedDocuments.forEach(i=>{if(me.languages.match(r,i)&&!this._selectorFilter(n,i)){let s=this._client.clientOptions.middleware,o=u=>{this._client.sendNotification(this._type,this._createParams(u))};this._syncedDocuments.delete(i.uri.toString()),s.didClose?s.didClose(i,o):o(i)}})}},vm=class{constructor(e){this._client=e,this._changeData=new Map,this._forcingDelivery=!1}get registrationType(){return H.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){ye(ye(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,r){let n=e.resolvedTextDocumentSync;r&&n&&n.change!==void 0&&n.change!==H.TextDocumentSyncKind.None&&this.register({id:ct.generateUuid(),registerOptions:Object.assign({},{documentSelector:r},{syncKind:n.change})})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=me.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(e.id,{documentSelector:e.registerOptions.documentSelector,syncKind:e.registerOptions.syncKind}))}callback(e){if(e.contentChanges.length!==0){for(let r of this._changeData.values())if(me.languages.match(r.documentSelector,e.document)){let n=this._client.clientOptions.middleware;if(r.syncKind===H.TextDocumentSyncKind.Incremental){let i=this._client.code2ProtocolConverter.asChangeTextDocumentParams(e);n.didChange?n.didChange(e,()=>this._client.sendNotification(H.DidChangeTextDocumentNotification.type,i)):this._client.sendNotification(H.DidChangeTextDocumentNotification.type,i)}else if(r.syncKind===H.TextDocumentSyncKind.Full){let i=s=>{this._changeDelayer?(this._changeDelayer.uri!==s.document.uri.toString()&&(this.forceDelivery(),this._changeDelayer.uri=s.document.uri.toString()),this._changeDelayer.delayer.trigger(()=>{this._client.sendNotification(H.DidChangeTextDocumentNotification.type,this._client.code2ProtocolConverter.asChangeTextDocumentParams(s.document))})):(this._changeDelayer={uri:s.document.uri.toString(),delayer:new TC.Delayer(200)},this._changeDelayer.delayer.trigger(()=>{this._client.sendNotification(H.DidChangeTextDocumentNotification.type,this._client.code2ProtocolConverter.asChangeTextDocumentParams(s.document))},-1))};n.didChange?n.didChange(e,i):i(e)}}}}unregister(e){this._changeData.delete(e),this._changeData.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._changeDelayer=void 0,this._forcingDelivery=!1,this._changeData.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}forceDelivery(){if(!(this._forcingDelivery||!this._changeDelayer))try{this._forcingDelivery=!0,this._changeDelayer.delayer.forceDelivery()}finally{this._forcingDelivery=!1}}getProvider(e){for(let r of this._changeData.values())if(me.languages.match(r.documentSelector,e))return{send:n=>{this.callback(n)}}}},ym=class extends nn{constructor(e){super(e,me.workspace.onWillSaveTextDocument,H.WillSaveTextDocumentNotification.type,e.clientOptions.middleware.willSave,r=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(r),(r,n)=>nn.textDocumentFilter(r,n.document))}get registrationType(){return H.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){let r=ye(ye(e,"textDocument"),"synchronization");r.willSave=!0}initialize(e,r){let n=e.resolvedTextDocumentSync;r&&n&&n.willSave&&this.register({id:ct.generateUuid(),registerOptions:{documentSelector:r}})}},_m=class{constructor(e){this._client=e,this._selectors=new Map}get registrationType(){return H.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){let r=ye(ye(e,"textDocument"),"synchronization");r.willSaveWaitUntil=!0}initialize(e,r){let n=e.resolvedTextDocumentSync;r&&n&&n.willSaveWaitUntil&&this.register({id:ct.generateUuid(),registerOptions:{documentSelector:r}})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=me.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(e.id,e.registerOptions.documentSelector))}callback(e){if(nn.textDocumentFilter(this._selectors.values(),e.document)){let r=this._client.clientOptions.middleware,n=i=>this._client.sendRequest(H.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(i)).then(s=>{let o=this._client.protocol2CodeConverter.asTextEdits(s);return o===void 0?[]:o});e.waitUntil(r.willSaveWaitUntil?r.willSaveWaitUntil(e,n):n(e))}}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}},wm=class extends nn{constructor(e){super(e,me.workspace.onDidSaveTextDocument,H.DidSaveTextDocumentNotification.type,e.clientOptions.middleware.didSave,r=>e.code2ProtocolConverter.asSaveTextDocumentParams(r,this._includeText),nn.textDocumentFilter),this._includeText=!1}get registrationType(){return H.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){ye(ye(e,"textDocument"),"synchronization").didSave=!0}initialize(e,r){let n=e.resolvedTextDocumentSync;if(r&&n&&n.save){let i=typeof n.save=="boolean"?{includeText:!1}:{includeText:!!n.save.includeText};this.register({id:ct.generateUuid(),registerOptions:Object.assign({},{documentSelector:r},i)})}}register(e){this._includeText=!!e.registerOptions.includeText,super.register(e)}},Em=class{constructor(e,r){this._client=e,this._notifyFileEvent=r,this._watchers=new Map}get registrationType(){return H.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){ye(ye(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0}initialize(e,r){}register(e){if(!Array.isArray(e.registerOptions.watchers))return;let r=[];for(let n of e.registerOptions.watchers){if(!ut.string(n.globPattern))continue;let i=!0,s=!0,o=!0;n.kind!==void 0&&n.kind!==null&&(i=(n.kind&H.WatchKind.Create)!==0,s=(n.kind&H.WatchKind.Change)!==0,o=(n.kind&H.WatchKind.Delete)!==0);let u=me.workspace.createFileSystemWatcher(n.globPattern,!i,!s,!o);this.hookListeners(u,i,s,o),r.push(u)}this._watchers.set(e.id,r)}registerRaw(e,r){let n=[];for(let i of r)this.hookListeners(i,!0,!0,!0,n);this._watchers.set(e,n)}hookListeners(e,r,n,i,s){r&&e.onDidCreate(o=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(o),type:H.FileChangeType.Created}),null,s),n&&e.onDidChange(o=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(o),type:H.FileChangeType.Changed}),null,s),i&&e.onDidDelete(o=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(o),type:H.FileChangeType.Deleted}),null,s)}unregister(e){let r=this._watchers.get(e);if(r)for(let n of r)n.dispose()}dispose(){this._watchers.forEach(e=>{for(let r of e)r.dispose()}),this._watchers.clear()}},Yt=class{constructor(e,r){this._client=e,this._registrationType=r,this._registrations=new Map}get registrationType(){return this._registrationType}register(e){if(!e.registerOptions.documentSelector)return;let r=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:r[0],data:e,provider:r[1]})}unregister(e){let r=this._registrations.get(e);r!==void 0&&r.disposable.dispose()}dispose(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getRegistration(e,r){if(r){if(H.TextDocumentRegistrationOptions.is(r)){let n=H.StaticRegistrationOptions.hasId(r)?r.id:ct.generateUuid(),i=r.documentSelector||e;if(i)return[n,Object.assign({},r,{documentSelector:i})]}else if(ut.boolean(r)&&r===!0||H.WorkDoneProgressOptions.is(r)){if(!e)return[void 0,void 0];let n=ut.boolean(r)&&r===!0?{documentSelector:e}:Object.assign({},r,{documentSelector:e});return[ct.generateUuid(),n]}}else return[void 0,void 0];return[void 0,void 0]}getRegistrationOptions(e,r){if(!(!e||!r))return ut.boolean(r)&&r===!0?{documentSelector:e}:Object.assign({},r,{documentSelector:e})}getProvider(e){for(let r of this._registrations.values()){let n=r.data.registerOptions.documentSelector;if(n!==null&&me.languages.match(n,e))return r.provider}}getAllProviders(){let e=[];for(let r of this._registrations.values())e.push(r.provider);return e}};xt.TextDocumentFeature=Yt;var bm=class{constructor(e,r){this._client=e,this._registrationType=r,this._registrations=new Map}get registrationType(){return this._registrationType}register(e){let r=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:r[0],provider:r[1]})}unregister(e){let r=this._registrations.get(e);r!==void 0&&r.disposable.dispose()}dispose(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getProviders(){let e=[];for(let r of this._registrations.values())e.push(r.provider);return e}},Cm=class extends Yt{constructor(e){super(e,H.CompletionRequest.type)}fillClientCapabilities(e){let r=ye(ye(e,"textDocument"),"completion");r.dynamicRegistration=!0,r.contextSupport=!0,r.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[H.MarkupKind.Markdown,H.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[H.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[H.InsertTextMode.asIs,H.InsertTextMode.adjustIndentation]}},r.completionItemKind={valueSet:HU}}initialize(e,r){let n=this.getRegistrationOptions(r,e.completionProvider);n&&this.register({id:ct.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r=e.triggerCharacters||[],n={provideCompletionItems:(i,s,o,u)=>{let a=this._client,c=this._client.clientOptions.middleware,f=(d,m,h,y)=>a.sendRequest(H.CompletionRequest.type,a.code2ProtocolConverter.asCompletionParams(d,m,h),y).then(a.protocol2CodeConverter.asCompletionResult,_=>a.handleFailedRequest(H.CompletionRequest.type,_,null));return c.provideCompletionItem?c.provideCompletionItem(i,s,u,o,f):f(i,s,u,o)},resolveCompletionItem:e.resolveProvider?(i,s)=>{let o=this._client,u=this._client.clientOptions.middleware,a=(c,f)=>o.sendRequest(H.CompletionResolveRequest.type,o.code2ProtocolConverter.asCompletionItem(c),f).then(o.protocol2CodeConverter.asCompletionItem,d=>o.handleFailedRequest(H.CompletionResolveRequest.type,d,c));return u.resolveCompletionItem?u.resolveCompletionItem(i,s,a):a(i,s)}:void 0};return[me.languages.registerCompletionItemProvider(e.documentSelector,n,...r),n]}},Sm=class extends Yt{constructor(e){super(e,H.HoverRequest.type)}fillClientCapabilities(e){let r=ye(ye(e,"textDocument"),"hover");r.dynamicRegistration=!0,r.contentFormat=[H.MarkupKind.Markdown,H.MarkupKind.PlainText]}initialize(e,r){let n=this.getRegistrationOptions(r,e.hoverProvider);n&&this.register({id:ct.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r={provideHover:(n,i,s)=>{let o=this._client,u=(c,f,d)=>o.sendRequest(H.HoverRequest.type,o.code2ProtocolConverter.asTextDocumentPositionParams(c,f),d).then(o.protocol2CodeConverter.asHover,m=>o.handleFailedRequest(H.HoverRequest.type,m,null)),a=o.clientOptions.middleware;return a.provideHover?a.provideHover(n,i,s,u):u(n,i,s)}};return[me.languages.registerHoverProvider(e.documentSelector,r),r]}},Tm=class extends Yt{constructor(e){super(e,H.SignatureHelpRequest.type)}fillClientCapabilities(e){let r=ye(ye(e,"textDocument"),"signatureHelp");r.dynamicRegistration=!0,r.signatureInformation={documentationFormat:[H.MarkupKind.Markdown,H.MarkupKind.PlainText]},r.signatureInformation.parameterInformation={labelOffsetSupport:!0},r.signatureInformation.activeParameterSupport=!0,r.contextSupport=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.signatureHelpProvider);n&&this.register({id:ct.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r={provideSignatureHelp:(i,s,o,u)=>{let a=this._client,c=(d,m,h,y)=>a.sendRequest(H.SignatureHelpRequest.type,a.code2ProtocolConverter.asSignatureHelpParams(d,m,h),y).then(a.protocol2CodeConverter.asSignatureHelp,_=>a.handleFailedRequest(H.SignatureHelpRequest.type,_,null)),f=a.clientOptions.middleware;return f.provideSignatureHelp?f.provideSignatureHelp(i,s,u,o,c):c(i,s,u,o)}},n;if(e.retriggerCharacters===void 0){let i=e.triggerCharacters||[];n=me.languages.registerSignatureHelpProvider(e.documentSelector,r,...i)}else{let i={triggerCharacters:e.triggerCharacters||[],retriggerCharacters:e.retriggerCharacters||[]};n=me.languages.registerSignatureHelpProvider(e.documentSelector,r,i)}return[n,r]}},Rm=class extends Yt{constructor(e){super(e,H.DefinitionRequest.type)}fillClientCapabilities(e){let r=ye(ye(e,"textDocument"),"definition");r.dynamicRegistration=!0,r.linkSupport=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.definitionProvider);n&&this.register({id:ct.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r={provideDefinition:(n,i,s)=>{let o=this._client,u=(c,f,d)=>o.sendRequest(H.DefinitionRequest.type,o.code2ProtocolConverter.asTextDocumentPositionParams(c,f),d).then(o.protocol2CodeConverter.asDefinitionResult,m=>o.handleFailedRequest(H.DefinitionRequest.type,m,null)),a=o.clientOptions.middleware;return a.provideDefinition?a.provideDefinition(n,i,s,u):u(n,i,s)}};return[me.languages.registerDefinitionProvider(e.documentSelector,r),r]}},Dm=class extends Yt{constructor(e){super(e,H.ReferencesRequest.type)}fillClientCapabilities(e){ye(ye(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.referencesProvider);n&&this.register({id:ct.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r={provideReferences:(n,i,s,o)=>{let u=this._client,a=(f,d,m,h)=>u.sendRequest(H.ReferencesRequest.type,u.code2ProtocolConverter.asReferenceParams(f,d,m),h).then(u.protocol2CodeConverter.asReferences,y=>u.handleFailedRequest(H.ReferencesRequest.type,y,null)),c=u.clientOptions.middleware;return c.provideReferences?c.provideReferences(n,i,s,o,a):a(n,i,s,o)}};return[me.languages.registerReferenceProvider(e.documentSelector,r),r]}},Om=class extends Yt{constructor(e){super(e,H.DocumentHighlightRequest.type)}fillClientCapabilities(e){ye(ye(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.documentHighlightProvider);n&&this.register({id:ct.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r={provideDocumentHighlights:(n,i,s)=>{let o=this._client,u=(c,f,d)=>o.sendRequest(H.DocumentHighlightRequest.type,o.code2ProtocolConverter.asTextDocumentPositionParams(c,f),d).then(o.protocol2CodeConverter.asDocumentHighlights,m=>o.handleFailedRequest(H.DocumentHighlightRequest.type,m,null)),a=o.clientOptions.middleware;return a.provideDocumentHighlights?a.provideDocumentHighlights(n,i,s,u):u(n,i,s)}};return[me.languages.registerDocumentHighlightProvider(e.documentSelector,r),r]}},xm=class extends Yt{constructor(e){super(e,H.DocumentSymbolRequest.type)}fillClientCapabilities(e){let r=ye(ye(e,"textDocument"),"documentSymbol");r.dynamicRegistration=!0,r.symbolKind={valueSet:RC},r.hierarchicalDocumentSymbolSupport=!0,r.tagSupport={valueSet:DC},r.labelSupport=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.documentSymbolProvider);n&&this.register({id:ct.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r={provideDocumentSymbols:(i,s)=>{let o=this._client,u=(c,f)=>o.sendRequest(H.DocumentSymbolRequest.type,o.code2ProtocolConverter.asDocumentSymbolParams(c),f).then(d=>{if(d!==null){if(d.length===0)return[];{let m=d[0];return H.DocumentSymbol.is(m)?o.protocol2CodeConverter.asDocumentSymbols(d):o.protocol2CodeConverter.asSymbolInformations(d)}}},d=>o.handleFailedRequest(H.DocumentSymbolRequest.type,d,null)),a=o.clientOptions.middleware;return a.provideDocumentSymbols?a.provideDocumentSymbols(i,s,u):u(i,s)}},n=e.label!==void 0?{label:e.label}:void 0;return[me.languages.registerDocumentSymbolProvider(e.documentSelector,r,n),r]}},Pm=class extends bm{constructor(e){super(e,H.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){let r=ye(ye(e,"workspace"),"symbol");r.dynamicRegistration=!0,r.symbolKind={valueSet:RC},r.tagSupport={valueSet:DC}}initialize(e){e.workspaceSymbolProvider&&this.register({id:ct.generateUuid(),registerOptions:e.workspaceSymbolProvider===!0?{workDoneProgress:!1}:e.workspaceSymbolProvider})}registerLanguageProvider(e){let r={provideWorkspaceSymbols:(n,i)=>{let s=this._client,o=(a,c)=>s.sendRequest(H.WorkspaceSymbolRequest.type,{query:a},c).then(s.protocol2CodeConverter.asSymbolInformations,f=>s.handleFailedRequest(H.WorkspaceSymbolRequest.type,f,null)),u=s.clientOptions.middleware;return u.provideWorkspaceSymbols?u.provideWorkspaceSymbols(n,i,o):o(n,i)}};return[me.languages.registerWorkspaceSymbolProvider(r),r]}},Im=class extends Yt{constructor(e){super(e,H.CodeActionRequest.type)}fillClientCapabilities(e){let r=ye(ye(e,"textDocument"),"codeAction");r.dynamicRegistration=!0,r.isPreferredSupport=!0,r.disabledSupport=!0,r.dataSupport=!0,r.resolveSupport={properties:["edit"]},r.codeActionLiteralSupport={codeActionKind:{valueSet:[H.CodeActionKind.Empty,H.CodeActionKind.QuickFix,H.CodeActionKind.Refactor,H.CodeActionKind.RefactorExtract,H.CodeActionKind.RefactorInline,H.CodeActionKind.RefactorRewrite,H.CodeActionKind.Source,H.CodeActionKind.SourceOrganizeImports]}},r.honorsChangeAnnotations=!1}initialize(e,r){let n=this.getRegistrationOptions(r,e.codeActionProvider);n&&this.register({id:ct.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r={provideCodeActions:(n,i,s,o)=>{let u=this._client,a=(f,d,m,h)=>{let y={textDocument:u.code2ProtocolConverter.asTextDocumentIdentifier(f),range:u.code2ProtocolConverter.asRange(d),context:u.code2ProtocolConverter.asCodeActionContext(m)};return u.sendRequest(H.CodeActionRequest.type,y,h).then(_=>{if(_===null)return;let S=[];for(let D of _)H.Command.is(D)?S.push(u.protocol2CodeConverter.asCommand(D)):S.push(u.protocol2CodeConverter.asCodeAction(D));return S},_=>u.handleFailedRequest(H.CodeActionRequest.type,_,null))},c=u.clientOptions.middleware;return c.provideCodeActions?c.provideCodeActions(n,i,s,o,a):a(n,i,s,o)},resolveCodeAction:e.resolveProvider?(n,i)=>{let s=this._client,o=this._client.clientOptions.middleware,u=(a,c)=>s.sendRequest(H.CodeActionResolveRequest.type,s.code2ProtocolConverter.asCodeAction(a),c).then(s.protocol2CodeConverter.asCodeAction,f=>s.handleFailedRequest(H.CodeActionResolveRequest.type,f,a));return o.resolveCodeAction?o.resolveCodeAction(n,i,u):u(n,i)}:void 0};return[me.languages.registerCodeActionsProvider(e.documentSelector,r,e.codeActionKinds?{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds)}:void 0),r]}},Nm=class extends Yt{constructor(e){super(e,H.CodeLensRequest.type)}fillClientCapabilities(e){ye(ye(e,"textDocument"),"codeLens").dynamicRegistration=!0,ye(ye(e,"workspace"),"codeLens").refreshSupport=!0}initialize(e,r){this._client.onRequest(H.CodeLensRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeCodeLensEmitter.fire()});let i=this.getRegistrationOptions(r,e.codeLensProvider);i&&this.register({id:ct.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let r=new me.EventEmitter,n={onDidChangeCodeLenses:r.event,provideCodeLenses:(i,s)=>{let o=this._client,u=(c,f)=>o.sendRequest(H.CodeLensRequest.type,o.code2ProtocolConverter.asCodeLensParams(c),f).then(o.protocol2CodeConverter.asCodeLenses,d=>o.handleFailedRequest(H.CodeLensRequest.type,d,null)),a=o.clientOptions.middleware;return a.provideCodeLenses?a.provideCodeLenses(i,s,u):u(i,s)},resolveCodeLens:e.resolveProvider?(i,s)=>{let o=this._client,u=(c,f)=>o.sendRequest(H.CodeLensResolveRequest.type,o.code2ProtocolConverter.asCodeLens(c),f).then(o.protocol2CodeConverter.asCodeLens,d=>o.handleFailedRequest(H.CodeLensResolveRequest.type,d,c)),a=o.clientOptions.middleware;return a.resolveCodeLens?a.resolveCodeLens(i,s,u):u(i,s)}:void 0};return[me.languages.registerCodeLensProvider(e.documentSelector,n),{provider:n,onDidChangeCodeLensEmitter:r}]}},Fm=class extends Yt{constructor(e){super(e,H.DocumentFormattingRequest.type)}fillClientCapabilities(e){ye(ye(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.documentFormattingProvider);n&&this.register({id:ct.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r={provideDocumentFormattingEdits:(n,i,s)=>{let o=this._client,u=(c,f,d)=>{let m={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(c),options:o.code2ProtocolConverter.asFormattingOptions(f,Wa.fromConfiguration(c))};return o.sendRequest(H.DocumentFormattingRequest.type,m,d).then(o.protocol2CodeConverter.asTextEdits,h=>o.handleFailedRequest(H.DocumentFormattingRequest.type,h,null))},a=o.clientOptions.middleware;return a.provideDocumentFormattingEdits?a.provideDocumentFormattingEdits(n,i,s,u):u(n,i,s)}};return[me.languages.registerDocumentFormattingEditProvider(e.documentSelector,r),r]}},Lm=class extends Yt{constructor(e){super(e,H.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){ye(ye(e,"textDocument"),"rangeFormatting").dynamicRegistration=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.documentRangeFormattingProvider);n&&this.register({id:ct.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r={provideDocumentRangeFormattingEdits:(n,i,s,o)=>{let u=this._client,a=(f,d,m,h)=>{let y={textDocument:u.code2ProtocolConverter.asTextDocumentIdentifier(f),range:u.code2ProtocolConverter.asRange(d),options:u.code2ProtocolConverter.asFormattingOptions(m,Wa.fromConfiguration(f))};return u.sendRequest(H.DocumentRangeFormattingRequest.type,y,h).then(u.protocol2CodeConverter.asTextEdits,_=>u.handleFailedRequest(H.DocumentRangeFormattingRequest.type,_,null))},c=u.clientOptions.middleware;return c.provideDocumentRangeFormattingEdits?c.provideDocumentRangeFormattingEdits(n,i,s,o,a):a(n,i,s,o)}};return[me.languages.registerDocumentRangeFormattingEditProvider(e.documentSelector,r),r]}},km=class extends Yt{constructor(e){super(e,H.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){ye(ye(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.documentOnTypeFormattingProvider);n&&this.register({id:ct.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r={provideOnTypeFormattingEdits:(i,s,o,u,a)=>{let c=this._client,f=(m,h,y,_,S)=>{let D={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(m),position:c.code2ProtocolConverter.asPosition(h),ch:y,options:c.code2ProtocolConverter.asFormattingOptions(_,Wa.fromConfiguration(m))};return c.sendRequest(H.DocumentOnTypeFormattingRequest.type,D,S).then(c.protocol2CodeConverter.asTextEdits,w=>c.handleFailedRequest(H.DocumentOnTypeFormattingRequest.type,w,null))},d=c.clientOptions.middleware;return d.provideOnTypeFormattingEdits?d.provideOnTypeFormattingEdits(i,s,o,u,a,f):f(i,s,o,u,a)}},n=e.moreTriggerCharacter||[];return[me.languages.registerOnTypeFormattingEditProvider(e.documentSelector,r,e.firstTriggerCharacter,...n),r]}},Am=class extends Yt{constructor(e){super(e,H.RenameRequest.type)}fillClientCapabilities(e){let r=ye(ye(e,"textDocument"),"rename");r.dynamicRegistration=!0,r.prepareSupport=!0,r.prepareSupportDefaultBehavior=H.PrepareSupportDefaultBehavior.Identifier,r.honorsChangeAnnotations=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.renameProvider);n&&(ut.boolean(e.renameProvider)&&(n.prepareProvider=!1),this.register({id:ct.generateUuid(),registerOptions:n}))}registerLanguageProvider(e){let r={provideRenameEdits:(n,i,s,o)=>{let u=this._client,a=(f,d,m,h)=>{let y={textDocument:u.code2ProtocolConverter.asTextDocumentIdentifier(f),position:u.code2ProtocolConverter.asPosition(d),newName:m};return u.sendRequest(H.RenameRequest.type,y,h).then(u.protocol2CodeConverter.asWorkspaceEdit,_=>u.handleFailedRequest(H.RenameRequest.type,_,null))},c=u.clientOptions.middleware;return c.provideRenameEdits?c.provideRenameEdits(n,i,s,o,a):a(n,i,s,o)},prepareRename:e.prepareProvider?(n,i,s)=>{let o=this._client,u=(c,f,d)=>{let m={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(c),position:o.code2ProtocolConverter.asPosition(f)};return o.sendRequest(H.PrepareRenameRequest.type,m,d).then(h=>H.Range.is(h)?o.protocol2CodeConverter.asRange(h):this.isDefaultBehavior(h)?h.defaultBehavior===!0?null:Promise.reject(new Error("The element can't be renamed.")):h&&H.Range.is(h.range)?{range:o.protocol2CodeConverter.asRange(h.range),placeholder:h.placeholder}:Promise.reject(new Error("The element can't be renamed.")),h=>o.handleFailedRequest(H.PrepareRenameRequest.type,h,void 0))},a=o.clientOptions.middleware;return a.prepareRename?a.prepareRename(n,i,s,u):u(n,i,s)}:void 0};return[me.languages.registerRenameProvider(e.documentSelector,r),r]}isDefaultBehavior(e){let r=e;return r&&ut.boolean(r.defaultBehavior)}},qm=class extends Yt{constructor(e){super(e,H.DocumentLinkRequest.type)}fillClientCapabilities(e){let r=ye(ye(e,"textDocument"),"documentLink");r.dynamicRegistration=!0,r.tooltipSupport=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.documentLinkProvider);n&&this.register({id:ct.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r={provideDocumentLinks:(n,i)=>{let s=this._client,o=(a,c)=>s.sendRequest(H.DocumentLinkRequest.type,s.code2ProtocolConverter.asDocumentLinkParams(a),c).then(s.protocol2CodeConverter.asDocumentLinks,f=>s.handleFailedRequest(H.DocumentLinkRequest.type,f,null)),u=s.clientOptions.middleware;return u.provideDocumentLinks?u.provideDocumentLinks(n,i,o):o(n,i)},resolveDocumentLink:e.resolveProvider?(n,i)=>{let s=this._client,o=(a,c)=>s.sendRequest(H.DocumentLinkResolveRequest.type,s.code2ProtocolConverter.asDocumentLink(a),c).then(s.protocol2CodeConverter.asDocumentLink,f=>s.handleFailedRequest(H.DocumentLinkResolveRequest.type,f,a)),u=s.clientOptions.middleware;return u.resolveDocumentLink?u.resolveDocumentLink(n,i,o):o(n,i)}:void 0};return[me.languages.registerDocumentLinkProvider(e.documentSelector,r),r]}},Mm=class{constructor(e){this._client=e,this._listeners=new Map}get registrationType(){return H.DidChangeConfigurationNotification.type}fillClientCapabilities(e){ye(ye(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){let e=this._client.clientOptions.synchronize.configurationSection;e!==void 0&&this.register({id:ct.generateUuid(),registerOptions:{section:e}})}register(e){let r=me.workspace.onDidChangeConfiguration(n=>{this.onDidChangeConfiguration(e.registerOptions.section,n)});this._listeners.set(e.id,r),e.registerOptions.section!==void 0&&this.onDidChangeConfiguration(e.registerOptions.section,void 0)}unregister(e){let r=this._listeners.get(e);r&&(this._listeners.delete(e),r.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}onDidChangeConfiguration(e,r){let n;if(ut.string(e)?n=[e]:n=e,n!==void 0&&r!==void 0&&!n.some(u=>r.affectsConfiguration(u)))return;let i=o=>{if(o===void 0){this._client.sendNotification(H.DidChangeConfigurationNotification.type,{settings:null});return}this._client.sendNotification(H.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(o)})},s=this.getMiddleware();s?s(n,i):i(n)}extractSettingsInformation(e){function r(s,o){let u=s;for(let a=0;a<o.length-1;a++){let c=u[o[a]];c||(c=Object.create(null),u[o[a]]=c),u=c}return u}let n=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,i=Object.create(null);for(let s=0;s<e.length;s++){let o=e[s],u=o.indexOf("."),a=null;if(u>=0?a=me.workspace.getConfiguration(o.substr(0,u),n).get(o.substr(u+1)):a=me.workspace.getConfiguration(void 0,n).get(o),a){let c=e[s].split(".");r(i,c)[c[c.length-1]]=qU.toJSONObject(a)}}return i}getMiddleware(){let e=this._client.clientOptions.middleware;if(e.workspace&&e.workspace.didChangeConfiguration)return e.workspace.didChangeConfiguration}},jm=class{constructor(e){this._client=e,this._commands=new Map}get registrationType(){return H.ExecuteCommandRequest.type}fillClientCapabilities(e){ye(ye(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){e.executeCommandProvider&&this.register({id:ct.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e){let r=this._client,n=r.clientOptions.middleware,i=(s,o)=>{let u={command:s,arguments:o};return r.sendRequest(H.ExecuteCommandRequest.type,u).then(void 0,a=>r.handleFailedRequest(H.ExecuteCommandRequest.type,a,void 0))};if(e.registerOptions.commands){let s=[];for(let o of e.registerOptions.commands)s.push(me.commands.registerCommand(o,(...u)=>n.executeCommand?n.executeCommand(o,u,i):i(o,u)));this._commands.set(e.id,s)}}unregister(e){let r=this._commands.get(e);r&&r.forEach(n=>n.dispose())}dispose(){this._commands.forEach(e=>{e.forEach(r=>r.dispose())}),this._commands.clear()}},WU;(function(t){function e(r){return r&&H.MessageReader.is(r.reader)&&H.MessageWriter.is(r.writer)}t.is=e})(WU=xt.MessageTransports||(xt.MessageTransports={}));var ll=class{constructor(e,r){this._resolve=e,this._reject=r,this._used=!1}get isUsed(){return this._used}resolve(){this._used=!0,this._resolve()}reject(e){this._used=!0,this._reject(e)}},cs=class{constructor(e,r,n){var i;this._traceFormat=H.TraceFormat.Text,this._features=[],this._dynamicFeatures=new Map,this._id=e,this._name=r,n=n||{};let s={isTrusted:!1};n.markdown!==void 0&&n.markdown.isTrusted===!0&&(s.isTrusted=!0),this._clientOptions={documentSelector:n.documentSelector||[],synchronize:n.synchronize||{},diagnosticCollectionName:n.diagnosticCollectionName,outputChannelName:n.outputChannelName||this._name,revealOutputChannelOn:n.revealOutputChannelOn||Ha.Error,stdioEncoding:n.stdioEncoding||"utf8",initializationOptions:n.initializationOptions,initializationFailedHandler:n.initializationFailedHandler,progressOnInitialization:!!n.progressOnInitialization,errorHandler:n.errorHandler||this.createDefaultErrorHandler((i=n.connectionOptions)===null||i===void 0?void 0:i.maxRestartCount),middleware:n.middleware||{},uriConverters:n.uriConverters,workspaceFolder:n.workspaceFolder,connectionOptions:n.connectionOptions,markdown:s},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=bt.Initial,this._connectionPromise=void 0,this._resolvedConnection=void 0,this._initializeResult=void 0,n.outputChannel?(this._outputChannel=n.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=n.traceOutputChannel,this._listeners=void 0,this._providers=void 0,this._diagnostics=void 0,this._fileEvents=[],this._fileEventDelayer=new TC.Delayer(250),this._onReady=new Promise((o,u)=>{this._onReadyCallbacks=new ll(o,u)}),this._onStop=void 0,this._telemetryEmitter=new H.Emitter,this._stateChangeEmitter=new H.Emitter,this._trace=H.Trace.Off,this._tracer={log:(o,u)=>{ut.string(o)?this.logTrace(o,u):this.logObjectTrace(o)}},this._c2p=MU.createConverter(n.uriConverters?n.uriConverters.code2Protocol:void 0),this._p2c=jU.createConverter(n.uriConverters?n.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}get state(){return this._state}set state(e){let r=this.getPublicState();this._state=e;let n=this.getPublicState();n!==r&&this._stateChangeEmitter.fire({oldState:r,newState:n})}getPublicState(){return this.state===bt.Running?ul.Running:this.state===bt.Starting?ul.Starting:ul.Stopped}get initializeResult(){return this._initializeResult}sendRequest(e,...r){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{return this._resolvedConnection.sendRequest(e,...r)}catch(n){throw this.error(`Sending request ${ut.string(e)?e:e.method} failed.`,n),n}}onRequest(e,r){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{return this._resolvedConnection.onRequest(e,r)}catch(n){throw this.error(`Registering request handler ${ut.string(e)?e:e.method} failed.`,n),n}}sendNotification(e,r){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{this._resolvedConnection.sendNotification(e,r)}catch(n){throw this.error(`Sending notification ${ut.string(e)?e:e.method} failed.`,n),n}}onNotification(e,r){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{return this._resolvedConnection.onNotification(e,r)}catch(n){throw this.error(`Registering notification handler ${ut.string(e)?e:e.method} failed.`,n),n}}onProgress(e,r,n){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{if(H.WorkDoneProgress.is(e)){let i=this._clientOptions.middleware.handleWorkDoneProgress;if(i!==void 0)return this._resolvedConnection.onProgress(e,r,s=>{i(r,s,()=>n(s))})}return this._resolvedConnection.onProgress(e,r,n)}catch(i){throw this.error(`Registering progress handler for token ${r} failed.`,i),i}}sendProgress(e,r,n){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{this._resolvedConnection.sendProgress(e,r,n)}catch(i){throw this.error(`Sending progress for token ${r} failed.`,i),i}}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=me.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}createDefaultErrorHandler(e){if(e!==void 0&&e<0)throw new Error(`Invalid maxRestartCount: ${e}`);return new hm(this._name,e??4)}set trace(e){this._trace=e,this.onReady().then(()=>{this.resolveConnection().then(r=>{r.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})})},()=>{})}data2String(e){if(e instanceof H.ResponseError){let r=e;return`  Message: ${r.message}
  Code: ${r.code} ${r.data?`
`+r.data.toString():""}`}return e instanceof Error?ut.string(e.stack)?e.stack:e.message:ut.string(e)?e:e.toString()}info(e,r,n=!0){this.outputChannel.appendLine(`[Info  - ${new Date().toLocaleTimeString()}] ${e}`),r&&this.outputChannel.appendLine(this.data2String(r)),n&&this._clientOptions.revealOutputChannelOn<=Ha.Info&&this.showNotificationMessage()}warn(e,r,n=!0){this.outputChannel.appendLine(`[Warn  - ${new Date().toLocaleTimeString()}] ${e}`),r&&this.outputChannel.appendLine(this.data2String(r)),n&&this._clientOptions.revealOutputChannelOn<=Ha.Warn&&this.showNotificationMessage()}error(e,r,n=!0){this.outputChannel.appendLine(`[Error - ${new Date().toLocaleTimeString()}] ${e}`),r&&this.outputChannel.appendLine(this.data2String(r)),n&&this._clientOptions.revealOutputChannelOn<=Ha.Error&&this.showNotificationMessage()}showNotificationMessage(){me.window.showInformationMessage("A request has failed. See the output for more information.","Go to output").then(()=>{this.outputChannel.show(!0)})}logTrace(e,r){this.traceOutputChannel.appendLine(`[Trace - ${new Date().toLocaleTimeString()}] ${e}`),r&&this.traceOutputChannel.appendLine(this.data2String(r))}logObjectTrace(e){e.isLSPMessage&&e.type?this.traceOutputChannel.append(`[LSP   - ${new Date().toLocaleTimeString()}] `):this.traceOutputChannel.append(`[Trace - ${new Date().toLocaleTimeString()}] `),e&&this.traceOutputChannel.appendLine(`${JSON.stringify(e)}`)}needsStart(){return this.state===bt.Initial||this.state===bt.Stopping||this.state===bt.Stopped}needsStop(){return this.state===bt.Starting||this.state===bt.Running}onReady(){return this._onReady}isConnectionActive(){return this.state===bt.Running&&!!this._resolvedConnection}start(){return this._onReadyCallbacks.isUsed&&(this._onReady=new Promise((e,r)=>{this._onReadyCallbacks=new ll(e,r)})),this._listeners=[],this._providers=[],this._diagnostics||(this._diagnostics=this._clientOptions.diagnosticCollectionName?me.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName):me.languages.createDiagnosticCollection()),this.state=bt.Starting,this.resolveConnection().then(e=>(e.onLogMessage(r=>{switch(r.type){case H.MessageType.Error:this.error(r.message,void 0,!1);break;case H.MessageType.Warning:this.warn(r.message,void 0,!1);break;case H.MessageType.Info:this.info(r.message,void 0,!1);break;default:this.outputChannel.appendLine(r.message)}}),e.onShowMessage(r=>{switch(r.type){case H.MessageType.Error:me.window.showErrorMessage(r.message);break;case H.MessageType.Warning:me.window.showWarningMessage(r.message);break;case H.MessageType.Info:me.window.showInformationMessage(r.message);break;default:me.window.showInformationMessage(r.message)}}),e.onRequest(H.ShowMessageRequest.type,r=>{let n;switch(r.type){case H.MessageType.Error:n=me.window.showErrorMessage;break;case H.MessageType.Warning:n=me.window.showWarningMessage;break;case H.MessageType.Info:n=me.window.showInformationMessage;break;default:n=me.window.showInformationMessage}let i=r.actions||[];return n(r.message,...i)}),e.onTelemetry(r=>{this._telemetryEmitter.fire(r)}),e.onRequest(H.ShowDocumentRequest.type,async r=>{var n;let i=async o=>{let u=this.protocol2CodeConverter.asUri(o.uri);try{if(o.external===!0)return{success:await me.env.openExternal(u)};{let a={};return o.selection!==void 0&&(a.selection=this.protocol2CodeConverter.asRange(o.selection)),o.takeFocus===void 0||o.takeFocus===!1?a.preserveFocus=!0:o.takeFocus===!0&&(a.preserveFocus=!1),await me.window.showTextDocument(u,a),{success:!0}}}catch{return{success:!0}}},s=(n=this._clientOptions.middleware.window)===null||n===void 0?void 0:n.showDocument;return s!==void 0?s(r,i):i(r)}),e.listen(),this.initialize(e))).then(void 0,e=>{this.state=bt.StartFailed,this._onReadyCallbacks.reject(e),this.error("Starting client failed",e),me.window.showErrorMessage(`Couldn't start client ${this._name}`)}),new me.Disposable(()=>{this.needsStop()&&this.stop()})}resolveConnection(){return this._connectionPromise||(this._connectionPromise=this.createConnection()),this._connectionPromise}initialize(e){this.refreshTrace(e,!1);let r=this._clientOptions.initializationOptions,n=this._clientOptions.workspaceFolder?this._clientOptions.workspaceFolder.uri.fsPath:this._clientGetRootPath(),i={processId:null,clientInfo:{name:me.env.appName,version:me.version},locale:this.getLocale(),rootPath:n||null,rootUri:n?this._c2p.asUri(me.Uri.file(n)):null,capabilities:this.computeClientCapabilities(),initializationOptions:ut.func(r)?r():r,trace:H.Trace.toString(this._trace),workspaceFolders:null};if(this.fillInitializeParams(i),this._clientOptions.progressOnInitialization){let s=ct.generateUuid(),o=new UU.ProgressPart(e,s);return i.workDoneToken=s,this.doInitialize(e,i).then(u=>(o.done(),u),u=>{throw o.cancel(),u})}else return this.doInitialize(e,i)}doInitialize(e,r){return e.initialize(r).then(n=>{this._resolvedConnection=e,this._initializeResult=n,this.state=bt.Running;let i;return ut.number(n.capabilities.textDocumentSync)?n.capabilities.textDocumentSync===H.TextDocumentSyncKind.None?i={openClose:!1,change:H.TextDocumentSyncKind.None,save:void 0}:i={openClose:!0,change:n.capabilities.textDocumentSync,save:{includeText:!1}}:n.capabilities.textDocumentSync!==void 0&&n.capabilities.textDocumentSync!==null&&(i=n.capabilities.textDocumentSync),this._capabilities=Object.assign({},n.capabilities,{resolvedTextDocumentSync:i}),e.onDiagnostics(s=>this.handleDiagnostics(s)),e.onRequest(H.RegistrationRequest.type,s=>this.handleRegistrationRequest(s)),e.onRequest("client/registerFeature",s=>this.handleRegistrationRequest(s)),e.onRequest(H.UnregistrationRequest.type,s=>this.handleUnregistrationRequest(s)),e.onRequest("client/unregisterFeature",s=>this.handleUnregistrationRequest(s)),e.onRequest(H.ApplyWorkspaceEditRequest.type,s=>this.handleApplyWorkspaceEdit(s)),e.sendNotification(H.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),this._onReadyCallbacks.resolve(),n}).then(void 0,n=>{throw this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(n)?this.initialize(e):(this.stop(),this._onReadyCallbacks.reject(n)):n instanceof H.ResponseError&&n.data&&n.data.retry?me.window.showErrorMessage(n.message,{title:"Retry",id:"retry"}).then(i=>{i&&i.id==="retry"?this.initialize(e):(this.stop(),this._onReadyCallbacks.reject(n))}):(n&&n.message&&me.window.showErrorMessage(n.message),this.error("Server initialization failed.",n),this.stop(),this._onReadyCallbacks.reject(n)),n})}_clientGetRootPath(){let e=me.workspace.workspaceFolders;if(!e||e.length===0)return;let r=e[0];if(r.uri.scheme==="file")return r.uri.fsPath}stop(){return this._initializeResult=void 0,this._connectionPromise?this.state===bt.Stopping&&this._onStop?this._onStop:(this.state=bt.Stopping,this.cleanUp(!1),this._onStop=this.resolveConnection().then(e=>e.shutdown().then(()=>{e.exit(),e.end(),e.dispose(),this.state=bt.Stopped,this.cleanUpChannel(),this._onStop=void 0,this._connectionPromise=void 0,this._resolvedConnection=void 0}))):(this.state=bt.Stopped,Promise.resolve())}cleanUp(e=!0,r=!0){this._listeners&&(this._listeners.forEach(n=>n.dispose()),this._listeners=void 0),this._providers&&(this._providers.forEach(n=>n.dispose()),this._providers=void 0),this._syncedDocuments&&this._syncedDocuments.clear();for(let n of this._features.values())n.dispose();e&&this.cleanUpChannel(),r&&this._diagnostics&&(this._diagnostics.dispose(),this._diagnostics=void 0)}cleanUpChannel(){this._outputChannel&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(e){var r;let n=this;function i(o){n._fileEvents.push(o),n._fileEventDelayer.trigger(()=>{n.onReady().then(()=>{n.resolveConnection().then(u=>{n.isConnectionActive()&&(n.forceDocumentSync(),u.didChangeWatchedFiles({changes:n._fileEvents})),n._fileEvents=[]})},u=>{n.error("Notify file events failed.",u)})})}let s=(r=this.clientOptions.middleware)===null||r===void 0?void 0:r.workspace;s?.didChangeWatchedFile?s.didChangeWatchedFile(e,i):i(e)}forceDocumentSync(){this._didChangeTextDocumentFeature===void 0&&(this._didChangeTextDocumentFeature=this._dynamicFeatures.get(H.DidChangeTextDocumentNotification.type.method)),this._didChangeTextDocumentFeature.forceDelivery()}handleDiagnostics(e){if(!this._diagnostics)return;let r=this._p2c.asUri(e.uri),n=this._p2c.asDiagnostics(e.diagnostics),i=this.clientOptions.middleware;i.handleDiagnostics?i.handleDiagnostics(r,n,(s,o)=>this.setDiagnostics(s,o)):this.setDiagnostics(r,n)}setDiagnostics(e,r){this._diagnostics&&this._diagnostics.set(e,r)}createConnection(){let e=(n,i,s)=>{this.handleConnectionError(n,i,s)},r=()=>{this.handleConnectionClosed()};return this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8").then(n=>BU(n.reader,n.writer,e,r,this._clientOptions.connectionOptions))}handleConnectionClosed(){if(this.state===bt.Stopping||this.state===bt.Stopped)return;try{this._resolvedConnection&&this._resolvedConnection.dispose()}catch{}let e=us.DoNotRestart;try{e=this._clientOptions.errorHandler.closed()}catch{}this._connectionPromise=void 0,this._resolvedConnection=void 0,e===us.DoNotRestart?(this.error("Connection to server got closed. Server will not be restarted."),this.state===bt.Starting?(this._onReadyCallbacks.reject(new Error("Connection to server got closed. Server will not be restarted.")),this.state=bt.StartFailed):this.state=bt.Stopped,this.cleanUp(!1,!0)):e===us.Restart&&(this.info("Connection to server got closed. Server will restart."),this.cleanUp(!1,!1),this.state=bt.Initial,this.start())}handleConnectionError(e,r,n){this._clientOptions.errorHandler.error(e,r,n)===cl.Shutdown&&(this.error("Connection to server is erroring. Shutting down server."),this.stop())}hookConfigurationChanged(e){me.workspace.onDidChangeConfiguration(()=>{this.refreshTrace(e,!0)})}refreshTrace(e,r=!1){let n=me.workspace.getConfiguration(this._id),i=H.Trace.Off,s=H.TraceFormat.Text;if(n){let o=n.get("trace.server","off");typeof o=="string"?i=H.Trace.fromString(o):(i=H.Trace.fromString(n.get("trace.server.verbosity","off")),s=H.TraceFormat.fromString(n.get("trace.server.format","text")))}this._trace=i,this._traceFormat=s,e.trace(this._trace,this._tracer,{sendNotification:r,traceFormat:this._traceFormat})}hookFileEvents(e){let r=this._clientOptions.synchronize.fileEvents;if(!r)return;let n;ut.array(r)?n=r:n=[r],n&&this._dynamicFeatures.get(H.DidChangeWatchedFilesNotification.type.method).registerRaw(ct.generateUuid(),n)}registerFeatures(e){for(let r of e)this.registerFeature(r)}registerFeature(e){if(this._features.push(e),pm.is(e)){let r=e.registrationType;this._dynamicFeatures.set(r.method,e)}}getFeature(e){return this._dynamicFeatures.get(e)}registerBuiltinFeatures(){this.registerFeature(new Mm(this)),this.registerFeature(new mm(this,this._syncedDocuments)),this.registerFeature(new vm(this)),this.registerFeature(new ym(this)),this.registerFeature(new _m(this)),this.registerFeature(new wm(this)),this.registerFeature(new gm(this,this._syncedDocuments)),this.registerFeature(new Em(this,e=>this.notifyFileEvent(e))),this.registerFeature(new Cm(this)),this.registerFeature(new Sm(this)),this.registerFeature(new Tm(this)),this.registerFeature(new Rm(this)),this.registerFeature(new Dm(this)),this.registerFeature(new Om(this)),this.registerFeature(new xm(this)),this.registerFeature(new Pm(this)),this.registerFeature(new Im(this)),this.registerFeature(new Nm(this)),this.registerFeature(new Fm(this)),this.registerFeature(new Lm(this)),this.registerFeature(new km(this)),this.registerFeature(new Am(this)),this.registerFeature(new qm(this)),this.registerFeature(new jm(this))}fillInitializeParams(e){for(let r of this._features)ut.func(r.fillInitializeParams)&&r.fillInitializeParams(e)}computeClientCapabilities(){let e={};ye(e,"workspace").applyEdit=!0;let r=ye(ye(e,"workspace"),"workspaceEdit");r.documentChanges=!0,r.resourceOperations=[H.ResourceOperationKind.Create,H.ResourceOperationKind.Rename,H.ResourceOperationKind.Delete],r.failureHandling=H.FailureHandlingKind.TextOnlyTransactional,r.normalizesLineEndings=!0,r.changeAnnotationSupport={groupsOnLabel:!0};let n=ye(ye(e,"textDocument"),"publishDiagnostics");n.relatedInformation=!0,n.versionSupport=!1,n.tagSupport={valueSet:[H.DiagnosticTag.Unnecessary,H.DiagnosticTag.Deprecated]},n.codeDescriptionSupport=!0,n.dataSupport=!0;let i=ye(e,"window"),s=ye(i,"showMessage");s.messageActionItem={additionalPropertiesSupport:!0};let o=ye(i,"showDocument");o.support=!0;let u=ye(e,"general");u.regularExpressions={engine:"ECMAScript",version:"ES2020"},u.markdown={parser:"marked",version:"1.1.0"};for(let a of this._features)a.fillClientCapabilities(e);return e}initializeFeatures(e){let r=this._clientOptions.documentSelector;for(let n of this._features)n.initialize(this._capabilities,r)}handleRegistrationRequest(e){return new Promise((r,n)=>{for(let i of e.registrations){let s=this._dynamicFeatures.get(i.method);if(s===void 0){n(new Error(`No feature implementation for ${i.method} found. Registration failed.`));return}let o=i.registerOptions||{};o.documentSelector=o.documentSelector||this._clientOptions.documentSelector;let u={id:i.id,registerOptions:o};try{s.register(u)}catch(a){n(a);return}}r()})}handleUnregistrationRequest(e){return new Promise((r,n)=>{for(let i of e.unregisterations){let s=this._dynamicFeatures.get(i.method);if(!s){n(new Error(`No feature implementation for ${i.method} found. Unregistration failed.`));return}s.unregister(i.id)}r()})}handleApplyWorkspaceEdit(e){let r=e.edit,n=new Map;me.workspace.textDocuments.forEach(s=>n.set(s.uri.toString(),s));let i=!1;if(r.documentChanges){for(let s of r.documentChanges)if(H.TextDocumentEdit.is(s)&&s.textDocument.version&&s.textDocument.version>=0){let o=n.get(s.textDocument.uri);if(o&&o.version!==s.textDocument.version){i=!0;break}}}return i?Promise.resolve({applied:!1}):ut.asPromise(me.workspace.applyEdit(this._p2c.asWorkspaceEdit(e.edit)).then(s=>({applied:s})))}handleFailedRequest(e,r,n){if(r instanceof H.ResponseError){if(r.code===H.LSPErrorCodes.RequestCancelled)throw this.makeCancelError();if(r.code===H.LSPErrorCodes.ContentModified)return n}throw this.error(`Request ${e.method} failed.`,r),r}makeCancelError(){let e=new Error(cs.Canceled);return e.name=cs.Canceled,e}};xt.BaseLanguageClient=cs;cs.Canceled="Canceled"});var xC=L(dl=>{"use strict";Object.defineProperty(dl,"__esModule",{value:!0});dl.ColorProviderFeature=void 0;var fl=require("vscode"),$a=St(),$U=xr();function OC(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var Um=class extends $U.TextDocumentFeature{constructor(e){super(e,$a.DocumentColorRequest.type)}fillClientCapabilities(e){OC(OC(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,r){let[n,i]=this.getRegistration(r,e.colorProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r={provideColorPresentations:(n,i,s)=>{let o=this._client,u=(c,f,d)=>{let m={color:c,textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(f.document),range:o.code2ProtocolConverter.asRange(f.range)};return o.sendRequest($a.ColorPresentationRequest.type,m,d).then(this.asColorPresentations.bind(this),h=>o.handleFailedRequest($a.ColorPresentationRequest.type,h,null))},a=o.clientOptions.middleware;return a.provideColorPresentations?a.provideColorPresentations(n,i,s,u):u(n,i,s)},provideDocumentColors:(n,i)=>{let s=this._client,o=(a,c)=>{let f={textDocument:s.code2ProtocolConverter.asTextDocumentIdentifier(a)};return s.sendRequest($a.DocumentColorRequest.type,f,c).then(this.asColorInformations.bind(this),d=>s.handleFailedRequest($a.ColorPresentationRequest.type,d,null))},u=s.clientOptions.middleware;return u.provideDocumentColors?u.provideDocumentColors(n,i,o):o(n,i)}};return[fl.languages.registerColorProvider(e.documentSelector,r),r]}asColor(e){return new fl.Color(e.red,e.green,e.blue,e.alpha)}asColorInformations(e){return Array.isArray(e)?e.map(r=>new fl.ColorInformation(this._client.protocol2CodeConverter.asRange(r.range),this.asColor(r.color))):[]}asColorPresentations(e){return Array.isArray(e)?e.map(r=>{let n=new fl.ColorPresentation(r.label);return n.additionalTextEdits=this._client.protocol2CodeConverter.asTextEdits(r.additionalTextEdits),n.textEdit=this._client.protocol2CodeConverter.asTextEdit(r.textEdit),n}):[]}};dl.ColorProviderFeature=Um});var IC=L(hl=>{"use strict";Object.defineProperty(hl,"__esModule",{value:!0});hl.ImplementationFeature=void 0;var zU=require("vscode"),Bm=St(),GU=xr();function PC(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var Hm=class extends GU.TextDocumentFeature{constructor(e){super(e,Bm.ImplementationRequest.type)}fillClientCapabilities(e){let r=PC(PC(e,"textDocument"),"implementation");r.dynamicRegistration=!0,r.linkSupport=!0}initialize(e,r){let[n,i]=this.getRegistration(r,e.implementationProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r={provideImplementation:(n,i,s)=>{let o=this._client,u=(c,f,d)=>o.sendRequest(Bm.ImplementationRequest.type,o.code2ProtocolConverter.asTextDocumentPositionParams(c,f),d).then(o.protocol2CodeConverter.asDefinitionResult,m=>o.handleFailedRequest(Bm.ImplementationRequest.type,m,null)),a=o.clientOptions.middleware;return a.provideImplementation?a.provideImplementation(n,i,s,u):u(n,i,s)}};return[zU.languages.registerImplementationProvider(e.documentSelector,r),r]}};hl.ImplementationFeature=Hm});var NC=L(ml=>{"use strict";Object.defineProperty(ml,"__esModule",{value:!0});ml.TypeDefinitionFeature=void 0;var VU=require("vscode"),Wm=St(),KU=xr();function pl(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var $m=class extends KU.TextDocumentFeature{constructor(e){super(e,Wm.TypeDefinitionRequest.type)}fillClientCapabilities(e){pl(pl(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let r=pl(pl(e,"textDocument"),"typeDefinition");r.dynamicRegistration=!0,r.linkSupport=!0}initialize(e,r){let[n,i]=this.getRegistration(r,e.typeDefinitionProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r={provideTypeDefinition:(n,i,s)=>{let o=this._client,u=(c,f,d)=>o.sendRequest(Wm.TypeDefinitionRequest.type,o.code2ProtocolConverter.asTextDocumentPositionParams(c,f),d).then(o.protocol2CodeConverter.asDefinitionResult,m=>o.handleFailedRequest(Wm.TypeDefinitionRequest.type,m,null)),a=o.clientOptions.middleware;return a.provideTypeDefinition?a.provideTypeDefinition(n,i,s,u):u(n,i,s)}};return[VU.languages.registerTypeDefinitionProvider(e.documentSelector,r),r]}};ml.TypeDefinitionFeature=$m});var FC=L(ao=>{"use strict";Object.defineProperty(ao,"__esModule",{value:!0});ao.WorkspaceFoldersFeature=ao.arrayDiff=void 0;var XU=ol(),gl=require("vscode"),zm=St();function Gm(t,e){if(t!==void 0)return t[e]}function Vm(t,e){return t.filter(r=>e.indexOf(r)<0)}ao.arrayDiff=Vm;var Km=class{constructor(e){this._client=e,this._listeners=new Map}get registrationType(){return zm.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){let r=gl.workspace.workspaceFolders;this.initializeWithFolders(r),r===void 0?e.workspaceFolders=null:e.workspaceFolders=r.map(n=>this.asProtocol(n))}initializeWithFolders(e){this._initialFolders=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){let r=this._client;r.onRequest(zm.WorkspaceFoldersRequest.type,s=>{let o=()=>{let a=gl.workspace.workspaceFolders;return a===void 0?null:a.map(f=>this.asProtocol(f))},u=r.clientOptions.middleware.workspace;return u&&u.workspaceFolders?u.workspaceFolders(s,o):o(s)});let n=Gm(Gm(Gm(e,"workspace"),"workspaceFolders"),"changeNotifications"),i;typeof n=="string"?i=n:n===!0&&(i=XU.generateUuid()),i&&this.register({id:i,registerOptions:void 0})}sendInitialEvent(e){if(this._initialFolders&&e){let r=Vm(this._initialFolders,e),n=Vm(e,this._initialFolders);(n.length>0||r.length>0)&&this.doSendEvent(n,r)}else this._initialFolders?this.doSendEvent([],this._initialFolders):e&&this.doSendEvent(e,[])}doSendEvent(e,r){let n={event:{added:e.map(i=>this.asProtocol(i)),removed:r.map(i=>this.asProtocol(i))}};this._client.sendNotification(zm.DidChangeWorkspaceFoldersNotification.type,n)}register(e){let r=e.id,n=this._client,i=gl.workspace.onDidChangeWorkspaceFolders(s=>{let o=a=>{this.doSendEvent(a.added,a.removed)},u=n.clientOptions.middleware.workspace;u&&u.didChangeWorkspaceFolders?u.didChangeWorkspaceFolders(s,o):o(s)});this._listeners.set(r,i),this.sendInitialEvent(gl.workspace.workspaceFolders)}unregister(e){let r=this._listeners.get(e);r!==void 0&&(this._listeners.delete(e),r.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return e===void 0?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}};ao.WorkspaceFoldersFeature=Km});var kC=L(vl=>{"use strict";Object.defineProperty(vl,"__esModule",{value:!0});vl.FoldingRangeFeature=void 0;var za=require("vscode"),uo=St(),YU=xr();function LC(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var co=class extends YU.TextDocumentFeature{constructor(e){super(e,uo.FoldingRangeRequest.type)}fillClientCapabilities(e){let r=LC(LC(e,"textDocument"),"foldingRange");r.dynamicRegistration=!0,r.rangeLimit=5e3,r.lineFoldingOnly=!0}initialize(e,r){let[n,i]=this.getRegistration(r,e.foldingRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r={provideFoldingRanges:(n,i,s)=>{let o=this._client,u=(c,f,d)=>{let m={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(c)};return o.sendRequest(uo.FoldingRangeRequest.type,m,d).then(co.asFoldingRanges,h=>o.handleFailedRequest(uo.FoldingRangeRequest.type,h,null))},a=o.clientOptions.middleware;return a.provideFoldingRanges?a.provideFoldingRanges(n,i,s,u):u(n,i,s)}};return[za.languages.registerFoldingRangeProvider(e.documentSelector,r),r]}static asFoldingRangeKind(e){if(e)switch(e){case uo.FoldingRangeKind.Comment:return za.FoldingRangeKind.Comment;case uo.FoldingRangeKind.Imports:return za.FoldingRangeKind.Imports;case uo.FoldingRangeKind.Region:return za.FoldingRangeKind.Region}}static asFoldingRanges(e){return Array.isArray(e)?e.map(r=>new za.FoldingRange(r.startLine,r.endLine,co.asFoldingRangeKind(r.kind))):[]}};vl.FoldingRangeFeature=co});var qC=L(yl=>{"use strict";Object.defineProperty(yl,"__esModule",{value:!0});yl.DeclarationFeature=void 0;var JU=require("vscode"),Xm=St(),ZU=xr();function AC(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var Ym=class extends ZU.TextDocumentFeature{constructor(e){super(e,Xm.DeclarationRequest.type)}fillClientCapabilities(e){let r=AC(AC(e,"textDocument"),"declaration");r.dynamicRegistration=!0,r.linkSupport=!0}initialize(e,r){let[n,i]=this.getRegistration(r,e.declarationProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r={provideDeclaration:(n,i,s)=>{let o=this._client,u=(c,f,d)=>o.sendRequest(Xm.DeclarationRequest.type,o.code2ProtocolConverter.asTextDocumentPositionParams(c,f),d).then(o.protocol2CodeConverter.asDeclarationResult,m=>o.handleFailedRequest(Xm.DeclarationRequest.type,m,null)),a=o.clientOptions.middleware;return a.provideDeclaration?a.provideDeclaration(n,i,s,u):u(n,i,s)}};return[JU.languages.registerDeclarationProvider(e.documentSelector,r),r]}};yl.DeclarationFeature=Ym});var jC=L(_l=>{"use strict";Object.defineProperty(_l,"__esModule",{value:!0});_l.SelectionRangeFeature=void 0;var QU=require("vscode"),Jm=St(),e3=xr();function MC(t,e){return t[e]===void 0&&(t[e]=Object.create(null)),t[e]}var Zm=class extends e3.TextDocumentFeature{constructor(e){super(e,Jm.SelectionRangeRequest.type)}fillClientCapabilities(e){let r=MC(MC(e,"textDocument"),"selectionRange");r.dynamicRegistration=!0}initialize(e,r){let[n,i]=this.getRegistration(r,e.selectionRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r={provideSelectionRanges:(n,i,s)=>{let o=this._client,u=(c,f,d)=>{let m={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(c),positions:o.code2ProtocolConverter.asPositions(f)};return o.sendRequest(Jm.SelectionRangeRequest.type,m,d).then(h=>o.protocol2CodeConverter.asSelectionRanges(h),h=>o.handleFailedRequest(Jm.SelectionRangeRequest.type,h,null))},a=o.clientOptions.middleware;return a.provideSelectionRanges?a.provideSelectionRanges(n,i,s,u):u(n,i,s)}};return[QU.languages.registerSelectionRangeProvider(e.documentSelector,r),r]}};_l.SelectionRangeFeature=Zm});var UC=L(wl=>{"use strict";Object.defineProperty(wl,"__esModule",{value:!0});wl.ProgressFeature=void 0;var t3=St(),r3=fm();function n3(t,e){return t[e]===void 0&&(t[e]=Object.create(null)),t[e]}var Qm=class{constructor(e){this._client=e,this.activeParts=new Set}fillClientCapabilities(e){n3(e,"window").workDoneProgress=!0}initialize(){let e=this._client,r=i=>{this.activeParts.delete(i)},n=i=>{this.activeParts.add(new r3.ProgressPart(this._client,i.token,r))};e.onRequest(t3.WorkDoneProgressCreateRequest.type,n)}dispose(){for(let e of this.activeParts)e.done();this.activeParts.clear()}};wl.ProgressFeature=Qm});var HC=L(El=>{"use strict";Object.defineProperty(El,"__esModule",{value:!0});El.CallHierarchyFeature=void 0;var i3=require("vscode"),ls=St(),s3=xr();function BC(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var eg=class{constructor(e){this.client=e,this.middleware=e.clientOptions.middleware}prepareCallHierarchy(e,r,n){let i=this.client,s=this.middleware,o=(u,a,c)=>{let f=i.code2ProtocolConverter.asTextDocumentPositionParams(u,a);return i.sendRequest(ls.CallHierarchyPrepareRequest.type,f,c).then(d=>i.protocol2CodeConverter.asCallHierarchyItems(d),d=>i.handleFailedRequest(ls.CallHierarchyPrepareRequest.type,d,null))};return s.prepareCallHierarchy?s.prepareCallHierarchy(e,r,n,o):o(e,r,n)}provideCallHierarchyIncomingCalls(e,r){let n=this.client,i=this.middleware,s=(o,u)=>{let a={item:n.code2ProtocolConverter.asCallHierarchyItem(o)};return n.sendRequest(ls.CallHierarchyIncomingCallsRequest.type,a,u).then(c=>n.protocol2CodeConverter.asCallHierarchyIncomingCalls(c),c=>n.handleFailedRequest(ls.CallHierarchyIncomingCallsRequest.type,c,null))};return i.provideCallHierarchyIncomingCalls?i.provideCallHierarchyIncomingCalls(e,r,s):s(e,r)}provideCallHierarchyOutgoingCalls(e,r){let n=this.client,i=this.middleware,s=(o,u)=>{let a={item:n.code2ProtocolConverter.asCallHierarchyItem(o)};return n.sendRequest(ls.CallHierarchyOutgoingCallsRequest.type,a,u).then(c=>n.protocol2CodeConverter.asCallHierarchyOutgoingCalls(c),c=>n.handleFailedRequest(ls.CallHierarchyOutgoingCallsRequest.type,c,null))};return i.provideCallHierarchyOutgoingCalls?i.provideCallHierarchyOutgoingCalls(e,r,s):s(e,r)}},tg=class extends s3.TextDocumentFeature{constructor(e){super(e,ls.CallHierarchyPrepareRequest.type)}fillClientCapabilities(e){let n=BC(BC(e,"textDocument"),"callHierarchy");n.dynamicRegistration=!0}initialize(e,r){let[n,i]=this.getRegistration(r,e.callHierarchyProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r=this._client,n=new eg(r);return[i3.languages.registerCallHierarchyProvider(e.documentSelector,n),n]}};El.CallHierarchyFeature=tg});var WC=L(Sl=>{"use strict";Object.defineProperty(Sl,"__esModule",{value:!0});Sl.SemanticTokensFeature=void 0;var bl=require("vscode"),o3=xr(),Ie=St(),a3=ci();function Cl(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var rg=class extends o3.TextDocumentFeature{constructor(e){super(e,Ie.SemanticTokensRegistrationType.type)}fillClientCapabilities(e){let r=Cl(Cl(e,"textDocument"),"semanticTokens");r.dynamicRegistration=!0,r.tokenTypes=[Ie.SemanticTokenTypes.namespace,Ie.SemanticTokenTypes.type,Ie.SemanticTokenTypes.class,Ie.SemanticTokenTypes.enum,Ie.SemanticTokenTypes.interface,Ie.SemanticTokenTypes.struct,Ie.SemanticTokenTypes.typeParameter,Ie.SemanticTokenTypes.parameter,Ie.SemanticTokenTypes.variable,Ie.SemanticTokenTypes.property,Ie.SemanticTokenTypes.enumMember,Ie.SemanticTokenTypes.event,Ie.SemanticTokenTypes.function,Ie.SemanticTokenTypes.method,Ie.SemanticTokenTypes.macro,Ie.SemanticTokenTypes.keyword,Ie.SemanticTokenTypes.modifier,Ie.SemanticTokenTypes.comment,Ie.SemanticTokenTypes.string,Ie.SemanticTokenTypes.number,Ie.SemanticTokenTypes.regexp,Ie.SemanticTokenTypes.operator],r.tokenModifiers=[Ie.SemanticTokenModifiers.declaration,Ie.SemanticTokenModifiers.definition,Ie.SemanticTokenModifiers.readonly,Ie.SemanticTokenModifiers.static,Ie.SemanticTokenModifiers.deprecated,Ie.SemanticTokenModifiers.abstract,Ie.SemanticTokenModifiers.async,Ie.SemanticTokenModifiers.modification,Ie.SemanticTokenModifiers.documentation,Ie.SemanticTokenModifiers.defaultLibrary],r.formats=[Ie.TokenFormat.Relative],r.requests={range:!0,full:{delta:!0}},r.multilineTokenSupport=!1,r.overlappingTokenSupport=!1,Cl(Cl(e,"workspace"),"semanticTokens").refreshSupport=!0}initialize(e,r){this._client.onRequest(Ie.SemanticTokensRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeSemanticTokensEmitter.fire()});let[i,s]=this.getRegistration(r,e.semanticTokensProvider);!i||!s||this.register({id:i,registerOptions:s})}registerLanguageProvider(e){let r=a3.boolean(e.full)?e.full:e.full!==void 0,n=e.full!==void 0&&typeof e.full!="boolean"&&e.full.delta===!0,i=new bl.EventEmitter,s=r?{onDidChangeSemanticTokens:i.event,provideDocumentSemanticTokens:(d,m)=>{let h=this._client,y=h.clientOptions.middleware,_=(S,D)=>{let w={textDocument:h.code2ProtocolConverter.asTextDocumentIdentifier(S)};return h.sendRequest(Ie.SemanticTokensRequest.type,w,D).then(T=>h.protocol2CodeConverter.asSemanticTokens(T),T=>h.handleFailedRequest(Ie.SemanticTokensRequest.type,T,null))};return y.provideDocumentSemanticTokens?y.provideDocumentSemanticTokens(d,m,_):_(d,m)},provideDocumentSemanticTokensEdits:n?(d,m,h)=>{let y=this._client,_=y.clientOptions.middleware,S=(D,w,T)=>{let P={textDocument:y.code2ProtocolConverter.asTextDocumentIdentifier(D),previousResultId:w};return y.sendRequest(Ie.SemanticTokensDeltaRequest.type,P,T).then(M=>Ie.SemanticTokens.is(M)?y.protocol2CodeConverter.asSemanticTokens(M):y.protocol2CodeConverter.asSemanticTokensEdits(M),M=>y.handleFailedRequest(Ie.SemanticTokensDeltaRequest.type,M,null))};return _.provideDocumentSemanticTokensEdits?_.provideDocumentSemanticTokensEdits(d,m,h,S):S(d,m,h)}:void 0}:void 0,u=e.range===!0?{provideDocumentRangeSemanticTokens:(d,m,h)=>{let y=this._client,_=y.clientOptions.middleware,S=(D,w,T)=>{let P={textDocument:y.code2ProtocolConverter.asTextDocumentIdentifier(D),range:y.code2ProtocolConverter.asRange(w)};return y.sendRequest(Ie.SemanticTokensRangeRequest.type,P,T).then(M=>y.protocol2CodeConverter.asSemanticTokens(M),M=>y.handleFailedRequest(Ie.SemanticTokensRangeRequest.type,M,null))};return _.provideDocumentRangeSemanticTokens?_.provideDocumentRangeSemanticTokens(d,m,h,S):S(d,m,h)}}:void 0,a=[],f=this._client.protocol2CodeConverter.asSemanticTokensLegend(e.legend);return s!==void 0&&a.push(bl.languages.registerDocumentSemanticTokensProvider(e.documentSelector,s,f)),u!==void 0&&a.push(bl.languages.registerDocumentRangeSemanticTokensProvider(e.documentSelector,u,f)),[new bl.Disposable(()=>a.forEach(d=>d.dispose())),{range:u,full:s,onDidChangeSemanticTokensEmitter:i}]}};Sl.SemanticTokensFeature=rg});var zC=L((M7,$C)=>{$C.exports=function(t,e){for(var r=[],n=0;n<t.length;n++){var i=e(t[n],n);u3(i)?r.push.apply(r,i):r.push(i)}return r};var u3=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"}});var YC=L((j7,XC)=>{"use strict";XC.exports=VC;function VC(t,e,r){t instanceof RegExp&&(t=GC(t,r)),e instanceof RegExp&&(e=GC(e,r));var n=KC(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}function GC(t,e){var r=e.match(t);return r?r[0]:null}VC.range=KC;function KC(t,e,r){var n,i,s,o,u,a=r.indexOf(t),c=r.indexOf(e,a+1),f=a;if(a>=0&&c>0){for(n=[],s=r.length;f>=0&&!u;)f==a?(n.push(f),a=r.indexOf(t,f+1)):n.length==1?u=[n.pop(),c]:(i=n.pop(),i<s&&(s=i,o=c),c=r.indexOf(e,f+1)),f=a<c&&a>=0?a:c;n.length&&(u=[s,o])}return u}});var iS=L((U7,nS)=>{var c3=zC(),JC=YC();nS.exports=d3;var ZC="\0SLASH"+Math.random()+"\0",QC="\0OPEN"+Math.random()+"\0",ig="\0CLOSE"+Math.random()+"\0",eS="\0COMMA"+Math.random()+"\0",tS="\0PERIOD"+Math.random()+"\0";function ng(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function l3(t){return t.split("\\\\").join(ZC).split("\\{").join(QC).split("\\}").join(ig).split("\\,").join(eS).split("\\.").join(tS)}function f3(t){return t.split(ZC).join("\\").split(QC).join("{").split(ig).join("}").split(eS).join(",").split(tS).join(".")}function rS(t){if(!t)return[""];var e=[],r=JC("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,s=r.post,o=n.split(",");o[o.length-1]+="{"+i+"}";var u=rS(s);return s.length&&(o[o.length-1]+=u.shift(),o.push.apply(o,u)),e.push.apply(e,o),e}function d3(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),lo(l3(t),!0).map(f3)):[]}function h3(t){return"{"+t+"}"}function p3(t){return/^-?0\d/.test(t)}function m3(t,e){return t<=e}function g3(t,e){return t>=e}function lo(t,e){var r=[],n=JC("{","}",t);if(!n||/\$$/.test(n.pre))return[t];var i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),s=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),o=i||s,u=n.body.indexOf(",")>=0;if(!o&&!u)return n.post.match(/,.*\}/)?(t=n.pre+"{"+n.body+ig+n.post,lo(t)):[t];var a;if(o)a=n.body.split(/\.\./);else if(a=rS(n.body),a.length===1&&(a=lo(a[0],!1).map(h3),a.length===1)){var f=n.post.length?lo(n.post,!1):[""];return f.map(function(ne){return n.pre+a[0]+ne})}var c=n.pre,f=n.post.length?lo(n.post,!1):[""],d;if(o){var m=ng(a[0]),h=ng(a[1]),y=Math.max(a[0].length,a[1].length),_=a.length==3?Math.abs(ng(a[2])):1,S=m3,D=h<m;D&&(_*=-1,S=g3);var w=a.some(p3);d=[];for(var T=m;S(T,h);T+=_){var P;if(s)P=String.fromCharCode(T),P==="\\"&&(P="");else if(P=String(T),w){var M=y-P.length;if(M>0){var U=new Array(M+1).join("0");T<0?P="-"+U+P.slice(1):P=U+P}}d.push(P)}}else d=c3(a,function(ie){return lo(ie,!1)});for(var $=0;$<d.length;$++)for(var k=0;k<f.length;k++){var K=c+d[$]+f[k];(!e||o||K)&&r.push(K)}return r}});var Va=L((B7,cS)=>{cS.exports=Pr;Pr.Minimatch=Jt;var Ga=function(){try{return require("path")}catch{}}()||{sep:"/"};Pr.sep=Ga.sep;var ag=Pr.GLOBSTAR=Jt.GLOBSTAR={},v3=iS(),sS={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},sg="[^/]",og=sg+"*?",y3="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",_3="(?:(?!(?:\\/|^)\\.).)*?",oS=w3("().*{}+?[]^$\\!");function w3(t){return t.split("").reduce(function(e,r){return e[r]=!0,e},{})}var aS=/\/+/;Pr.filter=E3;function E3(t,e){return e=e||{},function(r,n,i){return Pr(r,t,e)}}function mi(t,e){e=e||{};var r={};return Object.keys(t).forEach(function(n){r[n]=t[n]}),Object.keys(e).forEach(function(n){r[n]=e[n]}),r}Pr.defaults=function(t){if(!t||typeof t!="object"||!Object.keys(t).length)return Pr;var e=Pr,r=function(i,s,o){return e(i,s,mi(t,o))};return r.Minimatch=function(i,s){return new e.Minimatch(i,mi(t,s))},r.Minimatch.defaults=function(i){return e.defaults(mi(t,i)).Minimatch},r.filter=function(i,s){return e.filter(i,mi(t,s))},r.defaults=function(i){return e.defaults(mi(t,i))},r.makeRe=function(i,s){return e.makeRe(i,mi(t,s))},r.braceExpand=function(i,s){return e.braceExpand(i,mi(t,s))},r.match=function(n,i,s){return e.match(n,i,mi(t,s))},r};Jt.defaults=function(t){return Pr.defaults(t).Minimatch};function Pr(t,e,r){return Rl(e),r||(r={}),!r.nocomment&&e.charAt(0)==="#"?!1:new Jt(e,r).match(t)}function Jt(t,e){if(!(this instanceof Jt))return new Jt(t,e);Rl(t),e||(e={}),t=t.trim(),!e.allowWindowsEscape&&Ga.sep!=="/"&&(t=t.split(Ga.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.make()}Jt.prototype.debug=function(){};Jt.prototype.make=b3;function b3(){var t=this.pattern,e=this.options;if(!e.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate();var r=this.globSet=this.braceExpand();e.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,r),r=this.globParts=r.map(function(n){return n.split(aS)}),this.debug(this.pattern,r),r=r.map(function(n,i,s){return n.map(this.parse,this)},this),this.debug(this.pattern,r),r=r.filter(function(n){return n.indexOf(!1)===-1}),this.debug(this.pattern,r),this.set=r}Jt.prototype.parseNegate=C3;function C3(){var t=this.pattern,e=!1,r=this.options,n=0;if(!r.nonegate){for(var i=0,s=t.length;i<s&&t.charAt(i)==="!";i++)e=!e,n++;n&&(this.pattern=t.substr(n)),this.negate=e}}Pr.braceExpand=function(t,e){return uS(t,e)};Jt.prototype.braceExpand=uS;function uS(t,e){return e||(this instanceof Jt?e=this.options:e={}),t=typeof t>"u"?this.pattern:t,Rl(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:v3(t)}var S3=1024*64,Rl=function(t){if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>S3)throw new TypeError("pattern is too long")};Jt.prototype.parse=T3;var Tl={};function T3(t,e){Rl(t);var r=this.options;if(t==="**")if(r.noglobstar)t="*";else return ag;if(t==="")return"";var n="",i=!!r.nocase,s=!1,o=[],u=[],a,c=!1,f=-1,d=-1,m=t.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",h=this;function y(){if(a){switch(a){case"*":n+=og,i=!0;break;case"?":n+=sg,i=!0;break;default:n+="\\"+a;break}h.debug("clearStateChar %j %j",a,n),a=!1}}for(var _=0,S=t.length,D;_<S&&(D=t.charAt(_));_++){if(this.debug("%s	%s %s %j",t,_,n,D),s&&oS[D]){n+="\\"+D,s=!1;continue}switch(D){case"/":return!1;case"\\":y(),s=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",t,_,n,D),c){this.debug("  in class"),D==="!"&&_===d+1&&(D="^"),n+=D;continue}h.debug("call clearStateChar %j",a),y(),a=D,r.noext&&y();continue;case"(":if(c){n+="(";continue}if(!a){n+="\\(";continue}o.push({type:a,start:_-1,reStart:n.length,open:sS[a].open,close:sS[a].close}),n+=a==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",a,n),a=!1;continue;case")":if(c||!o.length){n+="\\)";continue}y(),i=!0;var w=o.pop();n+=w.close,w.type==="!"&&u.push(w),w.reEnd=n.length;continue;case"|":if(c||!o.length||s){n+="\\|",s=!1;continue}y(),n+="|";continue;case"[":if(y(),c){n+="\\"+D;continue}c=!0,d=_,f=n.length,n+=D;continue;case"]":if(_===d+1||!c){n+="\\"+D,s=!1;continue}var T=t.substring(d+1,_);try{RegExp("["+T+"]")}catch{var P=this.parse(T,Tl);n=n.substr(0,f)+"\\["+P[0]+"\\]",i=i||P[1],c=!1;continue}i=!0,c=!1,n+=D;continue;default:y(),s?s=!1:oS[D]&&!(D==="^"&&c)&&(n+="\\"),n+=D}}for(c&&(T=t.substr(d+1),P=this.parse(T,Tl),n=n.substr(0,f)+"\\["+P[0],i=i||P[1]),w=o.pop();w;w=o.pop()){var M=n.slice(w.reStart+w.open.length);this.debug("setting tail",n,w),M=M.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(oe,ue,we){return we||(we="\\"),ue+ue+we+"|"}),this.debug(`tail=%j
   %s`,M,M,w,n);var U=w.type==="*"?og:w.type==="?"?sg:"\\"+w.type;i=!0,n=n.slice(0,w.reStart)+U+"\\("+M}y(),s&&(n+="\\\\");var $=!1;switch(n.charAt(0)){case"[":case".":case"(":$=!0}for(var k=u.length-1;k>-1;k--){var K=u[k],ie=n.slice(0,K.reStart),ne=n.slice(K.reStart,K.reEnd-8),G=n.slice(K.reEnd-8,K.reEnd),te=n.slice(K.reEnd);G+=te;var se=ie.split("(").length-1,le=te;for(_=0;_<se;_++)le=le.replace(/\)[+*?]?/,"");te=le;var q="";te===""&&e!==Tl&&(q="$");var z=ie+ne+te+q+G;n=z}if(n!==""&&i&&(n="(?=.)"+n),$&&(n=m+n),e===Tl)return[n,i];if(!i)return D3(t);var Y=r.nocase?"i":"";try{var J=new RegExp("^"+n+"$",Y)}catch{return new RegExp("$.")}return J._glob=t,J._src=n,J}Pr.makeRe=function(t,e){return new Jt(t,e||{}).makeRe()};Jt.prototype.makeRe=R3;function R3(){if(this.regexp||this.regexp===!1)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,r=e.noglobstar?og:e.dot?y3:_3,n=e.nocase?"i":"",i=t.map(function(s){return s.map(function(o){return o===ag?r:typeof o=="string"?O3(o):o._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch{this.regexp=!1}return this.regexp}Pr.match=function(t,e,r){r=r||{};var n=new Jt(e,r);return t=t.filter(function(i){return n.match(i)}),n.options.nonull&&!t.length&&t.push(e),t};Jt.prototype.match=function(e,r){if(typeof r>"u"&&(r=this.partial),this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;var n=this.options;Ga.sep!=="/"&&(e=e.split(Ga.sep).join("/")),e=e.split(aS),this.debug(this.pattern,"split",e);var i=this.set;this.debug(this.pattern,"set",i);var s,o;for(o=e.length-1;o>=0&&(s=e[o],!s);o--);for(o=0;o<i.length;o++){var u=i[o],a=e;n.matchBase&&u.length===1&&(a=[s]);var c=this.matchOne(a,u,r);if(c)return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate};Jt.prototype.matchOne=function(t,e,r){var n=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var i=0,s=0,o=t.length,u=e.length;i<o&&s<u;i++,s++){this.debug("matchOne loop");var a=e[s],c=t[i];if(this.debug(e,a,c),a===!1)return!1;if(a===ag){this.debug("GLOBSTAR",[e,a,c]);var f=i,d=s+1;if(d===u){for(this.debug("** at the end");i<o;i++)if(t[i]==="."||t[i]===".."||!n.dot&&t[i].charAt(0)===".")return!1;return!0}for(;f<o;){var m=t[f];if(this.debug(`
globstar while`,t,f,e,d,m),this.matchOne(t.slice(f),e.slice(d),r))return this.debug("globstar found match!",f,o,m),!0;if(m==="."||m===".."||!n.dot&&m.charAt(0)==="."){this.debug("dot detected!",t,f,e,d);break}this.debug("globstar swallow a segment, and continue"),f++}return!!(r&&(this.debug(`
>>> no match, partial?`,t,f,e,d),f===o))}var h;if(typeof a=="string"?(h=c===a,this.debug("string match",a,c,h)):(h=c.match(a),this.debug("pattern match",a,c,h)),!h)return!1}if(i===o&&s===u)return!0;if(i===o)return r;if(s===u)return i===o-1&&t[i]==="";throw new Error("wtf?")};function D3(t){return t.replace(/\\(.)/g,"$1")}function O3(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var dS=L(Er=>{"use strict";Object.defineProperty(Er,"__esModule",{value:!0});Er.WillDeleteFilesFeature=Er.WillRenameFilesFeature=Er.WillCreateFilesFeature=Er.DidDeleteFilesFeature=Er.DidRenameFilesFeature=Er.DidCreateFilesFeature=void 0;var pn=require("vscode"),x3=Va(),An=St(),P3=ol();function lS(t,e){return t[e]===void 0&&(t[e]={}),t[e]}function I3(t,e){return t[e]}function fS(t,e,r){t[e]=r}var gi=class{constructor(e,r,n,i,s){this._filters=new Map,this._client=e,this._event=r,this._registrationType=n,this._clientCapability=i,this._serverCapability=s}get registrationType(){return this._registrationType}fillClientCapabilities(e){let r=lS(lS(e,"workspace"),"fileOperations");fS(r,"dynamicRegistration",!0),fS(r,this._clientCapability,!0)}initialize(e){var r;let n=(r=e.workspace)===null||r===void 0?void 0:r.fileOperations,i=n!==void 0?I3(n,this._serverCapability):void 0;if(i?.filters!==void 0)try{this.register({id:P3.generateUuid(),registerOptions:{filters:i.filters}})}catch(s){this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${s}`)}}register(e){this._listener||(this._listener=this._event(this.send,this));let r=e.registerOptions.filters.map(n=>{let i=new x3.Minimatch(n.pattern.glob,gi.asMinimatchOptions(n.pattern.options));if(!i.makeRe())throw new Error(`Invalid pattern ${n.pattern.glob}!`);return{scheme:n.scheme,matcher:i,kind:n.pattern.matches}});this._filters.set(e.id,r)}unregister(e){this._filters.delete(e),this._filters.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._filters.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}async filter(e,r){let n=await Promise.all(e.files.map(async s=>{let o=r(s),u=o.fsPath.replace(/\\/g,"/");for(let a of this._filters.values())for(let c of a)if(!(c.scheme!==void 0&&c.scheme!==o.scheme)){if(c.matcher.match(u)){if(c.kind===void 0)return!0;let f=await gi.getFileType(o);if(f===void 0)return this._client.error(`Failed to determine file type for ${o.toString()}.`),!0;if(f===pn.FileType.File&&c.kind===An.FileOperationPatternKind.file||f===pn.FileType.Directory&&c.kind===An.FileOperationPatternKind.folder)return!0}else if(c.kind===An.FileOperationPatternKind.folder&&await gi.getFileType(o)===pn.FileType.Directory&&c.matcher.match(`${u}/`))return!0}return!1})),i=e.files.filter((s,o)=>n[o]);return Object.assign(Object.assign({},e),{files:i})}static async getFileType(e){try{return(await pn.workspace.fs.stat(e)).type}catch{return}}static asMinimatchOptions(e){if(e!==void 0&&e.ignoreCase===!0)return{nocase:!0}}},Ka=class extends gi{constructor(e,r,n,i,s,o,u){super(e,r,n,i,s),this._notificationType=n,this._accessUri=o,this._createParams=u}async send(e){let r=await this.filter(e,this._accessUri);if(r.files.length){let n=async i=>{this._client.sendNotification(this._notificationType,this._createParams(i))};this.doSend(r,n)}}},ug=class extends Ka{constructor(e){super(e,pn.workspace.onDidCreateFiles,An.DidCreateFilesNotification.type,"didCreate","didCreate",r=>r,e.code2ProtocolConverter.asDidCreateFilesParams)}doSend(e,r){var n;let i=(n=this._client.clientOptions.middleware)===null||n===void 0?void 0:n.workspace;return i?.didCreateFiles?i.didCreateFiles(e,r):r(e)}};Er.DidCreateFilesFeature=ug;var cg=class extends Ka{constructor(e){super(e,pn.workspace.onDidRenameFiles,An.DidRenameFilesNotification.type,"didRename","didRename",r=>r.oldUri,e.code2ProtocolConverter.asDidRenameFilesParams)}doSend(e,r){var n;let i=(n=this._client.clientOptions.middleware)===null||n===void 0?void 0:n.workspace;return i?.didRenameFiles?i.didRenameFiles(e,r):r(e)}};Er.DidRenameFilesFeature=cg;var lg=class extends Ka{constructor(e){super(e,pn.workspace.onDidDeleteFiles,An.DidDeleteFilesNotification.type,"didDelete","didDelete",r=>r,e.code2ProtocolConverter.asDidDeleteFilesParams)}doSend(e,r){var n;let i=(n=this._client.clientOptions.middleware)===null||n===void 0?void 0:n.workspace;return i?.didDeleteFiles?i.didDeleteFiles(e,r):r(e)}};Er.DidDeleteFilesFeature=lg;var Xa=class extends gi{constructor(e,r,n,i,s,o,u){super(e,r,n,i,s),this._requestType=n,this._accessUri=o,this._createParams=u}async send(e){let r=this.waitUntil(e);e.waitUntil(r)}async waitUntil(e){let r=await this.filter(e,this._accessUri);if(r.files.length){let n=i=>this._client.sendRequest(this._requestType,this._createParams(i)).then(this._client.protocol2CodeConverter.asWorkspaceEdit);return this.doSend(r,n)}else return}},fg=class extends Xa{constructor(e){super(e,pn.workspace.onWillCreateFiles,An.WillCreateFilesRequest.type,"willCreate","willCreate",r=>r,e.code2ProtocolConverter.asWillCreateFilesParams)}doSend(e,r){var n;let i=(n=this._client.clientOptions.middleware)===null||n===void 0?void 0:n.workspace;return i?.willCreateFiles?i.willCreateFiles(e,r):r(e)}};Er.WillCreateFilesFeature=fg;var dg=class extends Xa{constructor(e){super(e,pn.workspace.onWillRenameFiles,An.WillRenameFilesRequest.type,"willRename","willRename",r=>r.oldUri,e.code2ProtocolConverter.asWillRenameFilesParams)}doSend(e,r){var n;let i=(n=this._client.clientOptions.middleware)===null||n===void 0?void 0:n.workspace;return i?.willRenameFiles?i.willRenameFiles(e,r):r(e)}};Er.WillRenameFilesFeature=dg;var hg=class extends Xa{constructor(e){super(e,pn.workspace.onWillDeleteFiles,An.WillDeleteFilesRequest.type,"willDelete","willDelete",r=>r,e.code2ProtocolConverter.asWillDeleteFilesParams)}doSend(e,r){var n;let i=(n=this._client.clientOptions.middleware)===null||n===void 0?void 0:n.workspace;return i?.willDeleteFiles?i.willDeleteFiles(e,r):r(e)}};Er.WillDeleteFilesFeature=hg});var pS=L(Dl=>{"use strict";Object.defineProperty(Dl,"__esModule",{value:!0});Dl.LinkedEditingFeature=void 0;var N3=require("vscode"),pg=St(),F3=xr();function hS(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var mg=class extends F3.TextDocumentFeature{constructor(e){super(e,pg.LinkedEditingRangeRequest.type)}fillClientCapabilities(e){let r=hS(hS(e,"textDocument"),"linkedEditingRange");r.dynamicRegistration=!0}initialize(e,r){let[n,i]=this.getRegistration(r,e.linkedEditingRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r={provideLinkedEditingRanges:(n,i,s)=>{let o=this._client,u=(c,f,d)=>o.sendRequest(pg.LinkedEditingRangeRequest.type,o.code2ProtocolConverter.asTextDocumentPositionParams(c,f),d).then(o.protocol2CodeConverter.asLinkedEditingRanges,m=>o.handleFailedRequest(pg.LinkedEditingRangeRequest.type,m,null)),a=o.clientOptions.middleware;return a.provideLinkedEditingRange?a.provideLinkedEditingRange(n,i,s,u):u(n,i,s)}};return[N3.languages.registerLinkedEditingRangeProvider(e.documentSelector,r),r]}};Dl.LinkedEditingFeature=mg});var vg=L(fs=>{"use strict";Object.defineProperty(fs,"__esModule",{value:!0});fs.ProposedFeatures=fs.CommonLanguageClient=void 0;var L3=xr(),k3=xC(),A3=Wp(),q3=IC(),M3=NC(),j3=FC(),U3=kC(),B3=qC(),H3=jC(),W3=UC(),$3=HC(),z3=WC(),fo=dS(),G3=pS(),gg=class extends L3.BaseLanguageClient{constructor(e,r,n){super(e,r,n)}registerProposedFeatures(){this.registerFeatures(mS.createAll(this))}registerBuiltinFeatures(){super.registerBuiltinFeatures(),this.registerFeature(new A3.ConfigurationFeature(this)),this.registerFeature(new M3.TypeDefinitionFeature(this)),this.registerFeature(new q3.ImplementationFeature(this)),this.registerFeature(new k3.ColorProviderFeature(this)),this.registerFeature(new j3.WorkspaceFoldersFeature(this)),this.registerFeature(new U3.FoldingRangeFeature(this)),this.registerFeature(new B3.DeclarationFeature(this)),this.registerFeature(new H3.SelectionRangeFeature(this)),this.registerFeature(new W3.ProgressFeature(this)),this.registerFeature(new $3.CallHierarchyFeature(this)),this.registerFeature(new z3.SemanticTokensFeature(this)),this.registerFeature(new G3.LinkedEditingFeature(this)),this.registerFeature(new fo.DidCreateFilesFeature(this)),this.registerFeature(new fo.DidRenameFilesFeature(this)),this.registerFeature(new fo.DidDeleteFilesFeature(this)),this.registerFeature(new fo.WillCreateFilesFeature(this)),this.registerFeature(new fo.WillRenameFilesFeature(this)),this.registerFeature(new fo.WillDeleteFilesFeature(this))}};fs.CommonLanguageClient=gg;var mS;(function(t){function e(r){return[]}t.createAll=e})(mS=fs.ProposedFeatures||(fs.ProposedFeatures={}))});var vS=L(Ol=>{"use strict";Object.defineProperty(Ol,"__esModule",{value:!0});Ol.terminate=void 0;var gS=require("child_process"),V3=require("path"),K3=process.platform==="win32",X3=process.platform==="darwin",Y3=process.platform==="linux";function J3(t,e){if(K3)try{let i={stdio:["pipe","pipe","ignore"]};return e&&(i.cwd=e),gS.execFileSync("taskkill",["/T","/F","/PID",t.pid.toString()],i),!0}catch{return!1}else if(Y3||X3)try{var r=V3.join(__dirname,"terminateProcess.sh"),n=gS.spawnSync(r,[t.pid.toString()]);return!n.error}catch{return!1}else return t.kill("SIGKILL"),!0}Ol.terminate=J3});var yg=L((G7,yS)=>{"use strict";yS.exports=St()});var _S=L(qn=>{"use strict";var Z3=qn&&qn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),_g=qn&&qn.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Z3(e,t,r)};Object.defineProperty(qn,"__esModule",{value:!0});_g(St(),qn);_g(xr(),qn);_g(vg(),qn)});var Ya=L(mr=>{"use strict";var Q3=mr&&mr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),bS=mr&&mr.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Q3(e,t,r)};Object.defineProperty(mr,"__esModule",{value:!0});mr.SettingMonitor=mr.LanguageClient=mr.TransportKind=void 0;var ds=require("child_process"),wg=require("fs"),Eg=require("path"),wS=s0(),vi=require("vscode"),kt=ci(),eB=vg(),tB=xr(),rB=vS(),Lt=yg();bS(yg(),mr);bS(_S(),mr);var ES="^1.52.0",bg;(function(t){function e(r){return kt.string(r.command)}t.is=e})(bg||(bg={}));var Zt;(function(t){t[t.stdio=0]="stdio",t[t.ipc=1]="ipc",t[t.pipe=2]="pipe",t[t.socket=3]="socket"})(Zt=mr.TransportKind||(mr.TransportKind={}));var ho;(function(t){function e(r){let n=r;return n&&n.kind===Zt.socket&&kt.number(n.port)}t.isSocket=e})(ho||(ho={}));var Cg;(function(t){function e(r){return kt.string(r.module)}t.is=e})(Cg||(Cg={}));var Sg;(function(t){function e(r){let n=r;return n&&n.writer!==void 0&&n.reader!==void 0}t.is=e})(Sg||(Sg={}));var Tg;(function(t){function e(r){let n=r;return n&&n.process!==void 0&&typeof n.detached=="boolean"}t.is=e})(Tg||(Tg={}));var Rg=class extends eB.CommonLanguageClient{constructor(e,r,n,i,s){let o,u,a,c,f;kt.string(r)?(o=e,u=r,a=n,c=i,f=!!s):(o=e.toLowerCase(),u=e,a=r,c=n,f=i),f===void 0&&(f=!1),super(o,u,c),this._serverOptions=a,this._forceDebug=f;try{this.checkVersion()}catch(d){throw kt.string(d.message)&&this.outputChannel.appendLine(d.message),d}}checkVersion(){let e=wS.parse(vi.version);if(!e)throw new Error(`No valid VS Code version detected. Version string is: ${vi.version}`);if(e.prerelease&&e.prerelease.length>0&&(e.prerelease=[]),!wS.satisfies(e,ES))throw new Error(`The language client requires VS Code version ${ES} but received version ${vi.version}`)}stop(){return super.stop().then(()=>{if(this._serverProcess){let e=this._serverProcess;this._serverProcess=void 0,(this._isDetached===void 0||!this._isDetached)&&this.checkProcessDied(e),this._isDetached=void 0}})}checkProcessDied(e){e&&setTimeout(()=>{try{process.kill(e.pid,0),rB.terminate(e)}catch{}},2e3)}handleConnectionClosed(){this._serverProcess=void 0,super.handleConnectionClosed()}fillInitializeParams(e){super.fillInitializeParams(e),e.processId===null&&(e.processId=process.pid)}createMessageTransports(e){function r(f,d){if(!f&&!d)return;let m=Object.create(null);return Object.keys(process.env).forEach(h=>m[h]=process.env[h]),d&&(m.ELECTRON_RUN_AS_NODE="1",m.ELECTRON_NO_ASAR="1"),f&&Object.keys(f).forEach(h=>m[h]=f[h]),m}let n=["--debug=","--debug-brk=","--inspect=","--inspect-brk="],i=["--debug","--debug-brk","--inspect","--inspect-brk"];function s(){let f=process.execArgv;return f?f.some(d=>n.some(m=>d.startsWith(m))||i.some(m=>d===m)):!1}function o(f){if(f.stdin===null||f.stdout===null||f.stderr===null)throw new Error("Process created without stdio streams")}let u=this._serverOptions;if(kt.func(u))return u().then(f=>{if(tB.MessageTransports.is(f))return this._isDetached=!!f.detached,f;if(Sg.is(f))return this._isDetached=!!f.detached,{reader:new Lt.StreamMessageReader(f.reader),writer:new Lt.StreamMessageWriter(f.writer)};{let d;return Tg.is(f)?(d=f.process,this._isDetached=f.detached):(d=f,this._isDetached=!1),d.stderr.on("data",m=>this.outputChannel.append(kt.string(m)?m:m.toString(e))),{reader:new Lt.StreamMessageReader(d.stdout),writer:new Lt.StreamMessageWriter(d.stdin)}}});let a,c=u;return c.run||c.debug?this._forceDebug||s()?a=c.debug:a=c.run:a=u,this._getServerWorkingDir(a.options).then(f=>{if(Cg.is(a)&&a.module){let d=a,m=d.transport||Zt.stdio;if(d.runtime){let h=[],y=d.options||Object.create(null);y.execArgv&&y.execArgv.forEach(w=>h.push(w)),h.push(d.module),d.args&&d.args.forEach(w=>h.push(w));let _=Object.create(null);_.cwd=f,_.env=r(y.env,!1);let S=this._getRuntimePath(d.runtime,f),D;if(m===Zt.ipc?(_.stdio=[null,null,null,"ipc"],h.push("--node-ipc")):m===Zt.stdio?h.push("--stdio"):m===Zt.pipe?(D=Lt.generateRandomPipeName(),h.push(`--pipe=${D}`)):ho.isSocket(m)&&h.push(`--socket=${m.port}`),h.push(`--clientProcessId=${process.pid.toString()}`),m===Zt.ipc||m===Zt.stdio){let w=ds.spawn(S,h,_);return!w||!w.pid?Promise.reject(`Launching server using runtime ${S} failed.`):(this._serverProcess=w,w.stderr.on("data",T=>this.outputChannel.append(kt.string(T)?T:T.toString(e))),m===Zt.ipc?(w.stdout.on("data",T=>this.outputChannel.append(kt.string(T)?T:T.toString(e))),Promise.resolve({reader:new Lt.IPCMessageReader(w),writer:new Lt.IPCMessageWriter(w)})):Promise.resolve({reader:new Lt.StreamMessageReader(w.stdout),writer:new Lt.StreamMessageWriter(w.stdin)}))}else{if(m===Zt.pipe)return Lt.createClientPipeTransport(D).then(w=>{let T=ds.spawn(S,h,_);return!T||!T.pid?Promise.reject(`Launching server using runtime ${S} failed.`):(this._serverProcess=T,T.stderr.on("data",P=>this.outputChannel.append(kt.string(P)?P:P.toString(e))),T.stdout.on("data",P=>this.outputChannel.append(kt.string(P)?P:P.toString(e))),w.onConnected().then(P=>({reader:P[0],writer:P[1]})))});if(ho.isSocket(m))return Lt.createClientSocketTransport(m.port).then(w=>{let T=ds.spawn(S,h,_);return!T||!T.pid?Promise.reject(`Launching server using runtime ${S} failed.`):(this._serverProcess=T,T.stderr.on("data",P=>this.outputChannel.append(kt.string(P)?P:P.toString(e))),T.stdout.on("data",P=>this.outputChannel.append(kt.string(P)?P:P.toString(e))),w.onConnected().then(P=>({reader:P[0],writer:P[1]})))})}}else{let h;return new Promise((y,_)=>{let S=d.args&&d.args.slice()||[];m===Zt.ipc?S.push("--node-ipc"):m===Zt.stdio?S.push("--stdio"):m===Zt.pipe?(h=Lt.generateRandomPipeName(),S.push(`--pipe=${h}`)):ho.isSocket(m)&&S.push(`--socket=${m.port}`),S.push(`--clientProcessId=${process.pid.toString()}`);let D=d.options||Object.create(null);if(D.env=r(D.env,!0),D.execArgv=D.execArgv||[],D.cwd=f,D.silent=!0,m===Zt.ipc||m===Zt.stdio){let w=ds.fork(d.module,S||[],D);o(w),this._serverProcess=w,w.stderr.on("data",T=>this.outputChannel.append(kt.string(T)?T:T.toString(e))),m===Zt.ipc?(w.stdout.on("data",T=>this.outputChannel.append(kt.string(T)?T:T.toString(e))),y({reader:new Lt.IPCMessageReader(this._serverProcess),writer:new Lt.IPCMessageWriter(this._serverProcess)})):y({reader:new Lt.StreamMessageReader(w.stdout),writer:new Lt.StreamMessageWriter(w.stdin)})}else m===Zt.pipe?Lt.createClientPipeTransport(h).then(w=>{let T=ds.fork(d.module,S||[],D);o(T),this._serverProcess=T,T.stderr.on("data",P=>this.outputChannel.append(kt.string(P)?P:P.toString(e))),T.stdout.on("data",P=>this.outputChannel.append(kt.string(P)?P:P.toString(e))),w.onConnected().then(P=>{y({reader:P[0],writer:P[1]})})}):ho.isSocket(m)&&Lt.createClientSocketTransport(m.port).then(w=>{let T=ds.fork(d.module,S||[],D);o(T),this._serverProcess=T,T.stderr.on("data",P=>this.outputChannel.append(kt.string(P)?P:P.toString(e))),T.stdout.on("data",P=>this.outputChannel.append(kt.string(P)?P:P.toString(e))),w.onConnected().then(P=>{y({reader:P[0],writer:P[1]})})})})}}else if(bg.is(a)&&a.command){let d=a,m=d.args||[],h=Object.assign({},d.options);h.cwd=h.cwd||f;let y=ds.spawn(d.command,m,h);return!y||!y.pid?Promise.reject(`Launching server using command ${d.command} failed.`):(y.stderr.on("data",_=>this.outputChannel.append(kt.string(_)?_:_.toString(e))),this._serverProcess=y,this._isDetached=!!h.detached,Promise.resolve({reader:new Lt.StreamMessageReader(y.stdout),writer:new Lt.StreamMessageWriter(y.stdin)}))}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(u,null,4)))})}_getRuntimePath(e,r){if(Eg.isAbsolute(e))return e;let n=this._mainGetRootPath();if(n!==void 0){let i=Eg.join(n,e);if(wg.existsSync(i))return i}if(r!==void 0){let i=Eg.join(r,e);if(wg.existsSync(i))return i}return e}_mainGetRootPath(){let e=vi.workspace.workspaceFolders;if(!e||e.length===0)return;let r=e[0];if(r.uri.scheme==="file")return r.uri.fsPath}_getServerWorkingDir(e){let r=e&&e.cwd;return r||(r=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),r?new Promise(n=>{wg.lstat(r,(i,s)=>{n(!i&&s.isDirectory()?r:void 0)})}):Promise.resolve(void 0)}getLocale(){let e=process.env.VSCODE_NLS_CONFIG;if(e===void 0)return"en";let r;try{r=JSON.parse(e)}catch{}return r===void 0||typeof r.locale!="string"?"en":r.locale}};mr.LanguageClient=Rg;var Dg=class{constructor(e,r){this._client=e,this._setting=r,this._listeners=[]}start(){return vi.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new vi.Disposable(()=>{this._client.needsStop()&&this._client.stop()})}onDidChangeConfiguration(){let e=this._setting.indexOf("."),r=e>=0?this._setting.substr(0,e):this._setting,n=e>=0?this._setting.substr(e+1):void 0,i=n?vi.workspace.getConfiguration(r).get(n,!1):vi.workspace.getConfiguration(r);i&&this._client.needsStart()?this._client.start():!i&&this._client.needsStop()&&this._client.stop()}};mr.SettingMonitor=Dg});var SS=L((X7,CS)=>{"use strict";CS.exports=Ya()});var xS=L(Og=>{var hs=require("path"),_i=process.platform==="win32",yi=require("fs"),nB=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function iB(){var t;if(nB){var e=new Error;t=r}else t=n;return t;function r(i){i&&(e.message=i.message,i=e,n(i))}function n(i){if(i){if(process.throwDeprecation)throw i;if(!process.noDeprecation){var s="fs: missing callback "+(i.stack||i.message);process.traceDeprecation?console.trace(s):console.error(s)}}}}function sB(t){return typeof t=="function"?t:iB()}var Q7=hs.normalize;_i?Mn=/(.*?)(?:[\/\\]+|$)/g:Mn=/(.*?)(?:[\/]+|$)/g;var Mn;_i?Ja=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:Ja=/^[\/]*/;var Ja;Og.realpathSync=function(e,r){if(e=hs.resolve(e),r&&Object.prototype.hasOwnProperty.call(r,e))return r[e];var n=e,i={},s={},o,u,a,c;f();function f(){var S=Ja.exec(e);o=S[0].length,u=S[0],a=S[0],c="",_i&&!s[a]&&(yi.lstatSync(a),s[a]=!0)}for(;o<e.length;){Mn.lastIndex=o;var d=Mn.exec(e);if(c=u,u+=d[0],a=c+d[1],o=Mn.lastIndex,!(s[a]||r&&r[a]===a)){var m;if(r&&Object.prototype.hasOwnProperty.call(r,a))m=r[a];else{var h=yi.lstatSync(a);if(!h.isSymbolicLink()){s[a]=!0,r&&(r[a]=a);continue}var y=null;if(!_i){var _=h.dev.toString(32)+":"+h.ino.toString(32);i.hasOwnProperty(_)&&(y=i[_])}y===null&&(yi.statSync(a),y=yi.readlinkSync(a)),m=hs.resolve(c,y),r&&(r[a]=m),_i||(i[_]=y)}e=hs.resolve(m,e.slice(o)),f()}}return r&&(r[n]=e),e};Og.realpath=function(e,r,n){if(typeof n!="function"&&(n=sB(r),r=null),e=hs.resolve(e),r&&Object.prototype.hasOwnProperty.call(r,e))return process.nextTick(n.bind(null,null,r[e]));var i=e,s={},o={},u,a,c,f;d();function d(){var S=Ja.exec(e);u=S[0].length,a=S[0],c=S[0],f="",_i&&!o[c]?yi.lstat(c,function(D){if(D)return n(D);o[c]=!0,m()}):process.nextTick(m)}function m(){if(u>=e.length)return r&&(r[i]=e),n(null,e);Mn.lastIndex=u;var S=Mn.exec(e);return f=a,a+=S[0],c=f+S[1],u=Mn.lastIndex,o[c]||r&&r[c]===c?process.nextTick(m):r&&Object.prototype.hasOwnProperty.call(r,c)?_(r[c]):yi.lstat(c,h)}function h(S,D){if(S)return n(S);if(!D.isSymbolicLink())return o[c]=!0,r&&(r[c]=c),process.nextTick(m);if(!_i){var w=D.dev.toString(32)+":"+D.ino.toString(32);if(s.hasOwnProperty(w))return y(null,s[w],c)}yi.stat(c,function(T){if(T)return n(T);yi.readlink(c,function(P,M){_i||(s[w]=M),y(P,M)})})}function y(S,D,w){if(S)return n(S);var T=hs.resolve(f,D);r&&(r[w]=T),_(T)}function _(S){e=hs.resolve(S,e.slice(u)),d()}}});var Ng=L((t9,FS)=>{FS.exports=wi;wi.realpath=wi;wi.sync=Ig;wi.realpathSync=Ig;wi.monkeypatch=aB;wi.unmonkeypatch=uB;var po=require("fs"),xg=po.realpath,Pg=po.realpathSync,oB=process.version,PS=/^v[0-5]\./.test(oB),IS=xS();function NS(t){return t&&t.syscall==="realpath"&&(t.code==="ELOOP"||t.code==="ENOMEM"||t.code==="ENAMETOOLONG")}function wi(t,e,r){if(PS)return xg(t,e,r);typeof e=="function"&&(r=e,e=null),xg(t,e,function(n,i){NS(n)?IS.realpath(t,e,r):r(n,i)})}function Ig(t,e){if(PS)return Pg(t,e);try{return Pg(t,e)}catch(r){if(NS(r))return IS.realpathSync(t,e);throw r}}function aB(){po.realpath=wi,po.realpathSync=Ig}function uB(){po.realpath=xg,po.realpathSync=Pg}});var LS=L((r9,Fg)=>{typeof Object.create=="function"?Fg.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Fg.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var Mt=L((n9,kg)=>{try{if(Lg=require("util"),typeof Lg.inherits!="function")throw"";kg.exports=Lg.inherits}catch{kg.exports=LS()}var Lg});var Il=L((i9,Pl)=>{"use strict";function kS(t){return t.charAt(0)==="/"}function AS(t){var e=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,r=e.exec(t),n=r[1]||"",i=Boolean(n&&n.charAt(1)!==":");return Boolean(r[2]||i)}Pl.exports=process.platform==="win32"?AS:kS;Pl.exports.posix=kS;Pl.exports.win32=AS});var qg=L(mn=>{mn.alphasort=US;mn.alphasorti=jS;mn.setopts=dB;mn.ownProp=qS;mn.makeAbs=Za;mn.finish=hB;mn.mark=pB;mn.isIgnored=BS;mn.childrenIgnored=mB;function qS(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var mo=require("path"),cB=Va(),MS=Il(),Ag=cB.Minimatch;function jS(t,e){return t.toLowerCase().localeCompare(e.toLowerCase())}function US(t,e){return t.localeCompare(e)}function lB(t,e){t.ignore=e.ignore||[],Array.isArray(t.ignore)||(t.ignore=[t.ignore]),t.ignore.length&&(t.ignore=t.ignore.map(fB))}function fB(t){var e=null;if(t.slice(-3)==="/**"){var r=t.replace(/(\/\*\*)+$/,"");e=new Ag(r,{dot:!0})}return{matcher:new Ag(t,{dot:!0}),gmatcher:e}}function dB(t,e,r){if(r||(r={}),r.matchBase&&e.indexOf("/")===-1){if(r.noglobstar)throw new Error("base matching requires globstar");e="**/"+e}t.silent=!!r.silent,t.pattern=e,t.strict=r.strict!==!1,t.realpath=!!r.realpath,t.realpathCache=r.realpathCache||Object.create(null),t.follow=!!r.follow,t.dot=!!r.dot,t.mark=!!r.mark,t.nodir=!!r.nodir,t.nodir&&(t.mark=!0),t.sync=!!r.sync,t.nounique=!!r.nounique,t.nonull=!!r.nonull,t.nosort=!!r.nosort,t.nocase=!!r.nocase,t.stat=!!r.stat,t.noprocess=!!r.noprocess,t.absolute=!!r.absolute,t.maxLength=r.maxLength||1/0,t.cache=r.cache||Object.create(null),t.statCache=r.statCache||Object.create(null),t.symlinks=r.symlinks||Object.create(null),lB(t,r),t.changedCwd=!1;var n=process.cwd();qS(r,"cwd")?(t.cwd=mo.resolve(r.cwd),t.changedCwd=t.cwd!==n):t.cwd=n,t.root=r.root||mo.resolve(t.cwd,"/"),t.root=mo.resolve(t.root),process.platform==="win32"&&(t.root=t.root.replace(/\\/g,"/")),t.cwdAbs=MS(t.cwd)?t.cwd:Za(t,t.cwd),process.platform==="win32"&&(t.cwdAbs=t.cwdAbs.replace(/\\/g,"/")),t.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,t.minimatch=new Ag(e,r),t.options=t.minimatch.options}function hB(t){for(var e=t.nounique,r=e?[]:Object.create(null),n=0,i=t.matches.length;n<i;n++){var s=t.matches[n];if(!s||Object.keys(s).length===0){if(t.nonull){var o=t.minimatch.globSet[n];e?r.push(o):r[o]=!0}}else{var u=Object.keys(s);e?r.push.apply(r,u):u.forEach(function(a){r[a]=!0})}}if(e||(r=Object.keys(r)),t.nosort||(r=r.sort(t.nocase?jS:US)),t.mark){for(var n=0;n<r.length;n++)r[n]=t._mark(r[n]);t.nodir&&(r=r.filter(function(a){var c=!/\/$/.test(a),f=t.cache[a]||t.cache[Za(t,a)];return c&&f&&(c=f!=="DIR"&&!Array.isArray(f)),c}))}t.ignore.length&&(r=r.filter(function(a){return!BS(t,a)})),t.found=r}function pB(t,e){var r=Za(t,e),n=t.cache[r],i=e;if(n){var s=n==="DIR"||Array.isArray(n),o=e.slice(-1)==="/";if(s&&!o?i+="/":!s&&o&&(i=i.slice(0,-1)),i!==e){var u=Za(t,i);t.statCache[u]=t.statCache[r],t.cache[u]=t.cache[r]}}return i}function Za(t,e){var r=e;return e.charAt(0)==="/"?r=mo.join(t.root,e):MS(e)||e===""?r=e:t.changedCwd?r=mo.resolve(t.cwd,e):r=mo.resolve(e),process.platform==="win32"&&(r=r.replace(/\\/g,"/")),r}function BS(t,e){return t.ignore.length?t.ignore.some(function(r){return r.matcher.match(e)||!!(r.gmatcher&&r.gmatcher.match(e))}):!1}function mB(t,e){return t.ignore.length?t.ignore.some(function(r){return!!(r.gmatcher&&r.gmatcher.match(e))}):!1}});var GS=L((f9,zS)=>{zS.exports=$S;$S.GlobSync=jt;var Fl=require("fs"),gB=Ng(),HS=Va(),o9=HS.Minimatch,a9=Ll().Glob,u9=require("util"),Mg=require("path"),WS=require("assert"),Nl=Il(),jn=qg(),c9=jn.alphasort,l9=jn.alphasorti,vB=jn.setopts,jg=jn.ownProp,yB=jn.childrenIgnored,_B=jn.isIgnored;function $S(t,e){if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new jt(t,e).found}function jt(t,e){if(!t)throw new Error("must provide pattern");if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof jt))return new jt(t,e);if(vB(this,t,e),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}jt.prototype._finish=function(){if(WS(this instanceof jt),this.realpath){var t=this;this.matches.forEach(function(e,r){var n=t.matches[r]=Object.create(null);for(var i in e)try{i=t._makeAbs(i);var s=gB.realpathSync(i,t.realpathCache);n[s]=!0}catch(o){if(o.syscall==="stat")n[t._makeAbs(i)]=!0;else throw o}})}jn.finish(this)};jt.prototype._process=function(t,e,r){WS(this instanceof jt);for(var n=0;typeof t[n]=="string";)n++;var i;switch(n){case t.length:this._processSimple(t.join("/"),e);return;case 0:i=null;break;default:i=t.slice(0,n).join("/");break}var s=t.slice(n),o;i===null?o=".":((Nl(i)||Nl(t.join("/")))&&(!i||!Nl(i))&&(i="/"+i),o=i);var u=this._makeAbs(o);if(!yB(this,o)){var a=s[0]===HS.GLOBSTAR;a?this._processGlobStar(i,o,u,s,e,r):this._processReaddir(i,o,u,s,e,r)}};jt.prototype._processReaddir=function(t,e,r,n,i,s){var o=this._readdir(r,s);if(o){for(var u=n[0],a=!!this.minimatch.negate,c=u._glob,f=this.dot||c.charAt(0)===".",d=[],m=0;m<o.length;m++){var h=o[m];if(h.charAt(0)!=="."||f){var y;a&&!t?y=!h.match(u):y=h.match(u),y&&d.push(h)}}var _=d.length;if(_!==0){if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var m=0;m<_;m++){var h=d[m];t&&(t.slice(-1)!=="/"?h=t+"/"+h:h=t+h),h.charAt(0)==="/"&&!this.nomount&&(h=Mg.join(this.root,h)),this._emitMatch(i,h)}return}n.shift();for(var m=0;m<_;m++){var h=d[m],S;t?S=[t,h]:S=[h],this._process(S.concat(n),i,s)}}}};jt.prototype._emitMatch=function(t,e){if(!_B(this,e)){var r=this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[t][e]=!0,this.stat&&this._stat(e)}}};jt.prototype._readdirInGlobStar=function(t){if(this.follow)return this._readdir(t,!1);var e,r,n;try{r=Fl.lstatSync(t)}catch(s){if(s.code==="ENOENT")return null}var i=r&&r.isSymbolicLink();return this.symlinks[t]=i,!i&&r&&!r.isDirectory()?this.cache[t]="FILE":e=this._readdir(t,!1),e};jt.prototype._readdir=function(t,e){var r;if(e&&!jg(this.symlinks,t))return this._readdirInGlobStar(t);if(jg(this.cache,t)){var n=this.cache[t];if(!n||n==="FILE")return null;if(Array.isArray(n))return n}try{return this._readdirEntries(t,Fl.readdirSync(t))}catch(i){return this._readdirError(t,i),null}};jt.prototype._readdirEntries=function(t,e){if(!this.mark&&!this.stat)for(var r=0;r<e.length;r++){var n=e[r];t==="/"?n=t+n:n=t+"/"+n,this.cache[n]=!0}return this.cache[t]=e,e};jt.prototype._readdirError=function(t,e){switch(e.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(t);if(this.cache[r]="FILE",r===this.cwdAbs){var n=new Error(e.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=e.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:if(this.cache[this._makeAbs(t)]=!1,this.strict)throw e;this.silent||console.error("glob error",e);break}};jt.prototype._processGlobStar=function(t,e,r,n,i,s){var o=this._readdir(r,s);if(o){var u=n.slice(1),a=t?[t]:[],c=a.concat(u);this._process(c,i,!1);var f=o.length,d=this.symlinks[r];if(!(d&&s))for(var m=0;m<f;m++){var h=o[m];if(!(h.charAt(0)==="."&&!this.dot)){var y=a.concat(o[m],u);this._process(y,i,!0);var _=a.concat(o[m],n);this._process(_,i,!0)}}}};jt.prototype._processSimple=function(t,e){var r=this._stat(t);if(this.matches[e]||(this.matches[e]=Object.create(null)),!!r){if(t&&Nl(t)&&!this.nomount){var n=/[\/\\]$/.test(t);t.charAt(0)==="/"?t=Mg.join(this.root,t):(t=Mg.resolve(this.root,t),n&&(t+="/"))}process.platform==="win32"&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t)}};jt.prototype._stat=function(t){var e=this._makeAbs(t),r=t.slice(-1)==="/";if(t.length>this.maxLength)return!1;if(!this.stat&&jg(this.cache,e)){var o=this.cache[e];if(Array.isArray(o)&&(o="DIR"),!r||o==="DIR")return o;if(r&&o==="FILE")return!1}var n,i=this.statCache[e];if(!i){var s;try{s=Fl.lstatSync(e)}catch(u){if(u&&(u.code==="ENOENT"||u.code==="ENOTDIR"))return this.statCache[e]=!1,!1}if(s&&s.isSymbolicLink())try{i=Fl.statSync(e)}catch{i=s}else i=s}this.statCache[e]=i;var o=!0;return i&&(o=i.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||o,r&&o==="FILE"?!1:o};jt.prototype._mark=function(t){return jn.mark(this,t)};jt.prototype._makeAbs=function(t){return jn.makeAbs(this,t)}});var Ug=L((d9,KS)=>{KS.exports=VS;function VS(t,e){if(t&&e)return VS(t)(e);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(n){r[n]=t[n]}),r;function r(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var s=t.apply(this,n),o=n[n.length-1];return typeof s=="function"&&s!==o&&Object.keys(o).forEach(function(u){s[u]=o[u]}),s}}});var Hg=L((h9,Bg)=>{var XS=Ug();Bg.exports=XS(kl);Bg.exports.strict=XS(YS);kl.proto=kl(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return kl(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return YS(this)},configurable:!0})});function kl(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function YS(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}});var ZS=L((p9,JS)=>{var wB=Ug(),Qa=Object.create(null),EB=Hg();JS.exports=wB(bB);function bB(t,e){return Qa[t]?(Qa[t].push(e),null):(Qa[t]=[e],CB(t))}function CB(t){return EB(function e(){var r=Qa[t],n=r.length,i=SB(arguments);try{for(var s=0;s<n;s++)r[s].apply(null,i)}finally{r.length>n?(r.splice(0,n),process.nextTick(function(){e.apply(null,i)})):delete Qa[t]}})}function SB(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n]=t[n];return r}});var Ll=L((_9,eT)=>{eT.exports=ps;var Al=require("fs"),TB=Ng(),QS=Va(),m9=QS.Minimatch,RB=Mt(),DB=require("events").EventEmitter,Wg=require("path"),$g=require("assert"),eu=Il(),Gg=GS(),Un=qg(),g9=Un.alphasort,v9=Un.alphasorti,OB=Un.setopts,zg=Un.ownProp,Vg=ZS(),y9=require("util"),xB=Un.childrenIgnored,PB=Un.isIgnored,IB=Hg();function ps(t,e,r){if(typeof e=="function"&&(r=e,e={}),e||(e={}),e.sync){if(r)throw new TypeError("callback provided to sync glob");return Gg(t,e)}return new tt(t,e,r)}ps.sync=Gg;var NB=ps.GlobSync=Gg.GlobSync;ps.glob=ps;function FB(t,e){if(e===null||typeof e!="object")return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}ps.hasMagic=function(t,e){var r=FB({},e);r.noprocess=!0;var n=new tt(t,r),i=n.minimatch.set;if(!t)return!1;if(i.length>1)return!0;for(var s=0;s<i[0].length;s++)if(typeof i[0][s]!="string")return!0;return!1};ps.Glob=tt;RB(tt,DB);function tt(t,e,r){if(typeof e=="function"&&(r=e,e=null),e&&e.sync){if(r)throw new TypeError("callback provided to sync glob");return new NB(t,e)}if(!(this instanceof tt))return new tt(t,e,r);OB(this,t,e),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),typeof r=="function"&&(r=IB(r),this.on("error",r),this.on("end",function(a){r(null,a)}));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(n===0)return u();for(var s=!0,o=0;o<n;o++)this._process(this.minimatch.set[o],o,!1,u);s=!1;function u(){--i._processing,i._processing<=0&&(s?process.nextTick(function(){i._finish()}):i._finish())}}tt.prototype._finish=function(){if($g(this instanceof tt),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();Un.finish(this),this.emit("end",this.found)}};tt.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var t=this.matches.length;if(t===0)return this._finish();for(var e=this,r=0;r<this.matches.length;r++)this._realpathSet(r,n);function n(){--t===0&&e._finish()}};tt.prototype._realpathSet=function(t,e){var r=this.matches[t];if(!r)return e();var n=Object.keys(r),i=this,s=n.length;if(s===0)return e();var o=this.matches[t]=Object.create(null);n.forEach(function(u,a){u=i._makeAbs(u),TB.realpath(u,i.realpathCache,function(c,f){c?c.syscall==="stat"?o[u]=!0:i.emit("error",c):o[f]=!0,--s===0&&(i.matches[t]=o,e())})})};tt.prototype._mark=function(t){return Un.mark(this,t)};tt.prototype._makeAbs=function(t){return Un.makeAbs(this,t)};tt.prototype.abort=function(){this.aborted=!0,this.emit("abort")};tt.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};tt.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var t=this._emitQueue.slice(0);this._emitQueue.length=0;for(var e=0;e<t.length;e++){var r=t[e];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);this._processQueue.length=0;for(var e=0;e<n.length;e++){var i=n[e];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}};tt.prototype._process=function(t,e,r,n){if($g(this instanceof tt),$g(typeof n=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([t,e,r,n]);return}for(var i=0;typeof t[i]=="string";)i++;var s;switch(i){case t.length:this._processSimple(t.join("/"),e,n);return;case 0:s=null;break;default:s=t.slice(0,i).join("/");break}var o=t.slice(i),u;s===null?u=".":((eu(s)||eu(t.join("/")))&&(!s||!eu(s))&&(s="/"+s),u=s);var a=this._makeAbs(u);if(xB(this,u))return n();var c=o[0]===QS.GLOBSTAR;c?this._processGlobStar(s,u,a,o,e,r,n):this._processReaddir(s,u,a,o,e,r,n)}};tt.prototype._processReaddir=function(t,e,r,n,i,s,o){var u=this;this._readdir(r,s,function(a,c){return u._processReaddir2(t,e,r,n,i,s,c,o)})};tt.prototype._processReaddir2=function(t,e,r,n,i,s,o,u){if(!o)return u();for(var a=n[0],c=!!this.minimatch.negate,f=a._glob,d=this.dot||f.charAt(0)===".",m=[],h=0;h<o.length;h++){var y=o[h];if(y.charAt(0)!=="."||d){var _;c&&!t?_=!y.match(a):_=y.match(a),_&&m.push(y)}}var S=m.length;if(S===0)return u();if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var h=0;h<S;h++){var y=m[h];t&&(t!=="/"?y=t+"/"+y:y=t+y),y.charAt(0)==="/"&&!this.nomount&&(y=Wg.join(this.root,y)),this._emitMatch(i,y)}return u()}n.shift();for(var h=0;h<S;h++){var y=m[h],D;t&&(t!=="/"?y=t+"/"+y:y=t+y),this._process([y].concat(n),i,s,u)}u()};tt.prototype._emitMatch=function(t,e){if(!this.aborted&&!PB(this,e)){if(this.paused){this._emitQueue.push([t,e]);return}var r=eu(e)?e:this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[t][e]=!0;var i=this.statCache[r];i&&this.emit("stat",e,i),this.emit("match",e)}}};tt.prototype._readdirInGlobStar=function(t,e){if(this.aborted)return;if(this.follow)return this._readdir(t,!1,e);var r="lstat\0"+t,n=this,i=Vg(r,s);i&&Al.lstat(t,i);function s(o,u){if(o&&o.code==="ENOENT")return e();var a=u&&u.isSymbolicLink();n.symlinks[t]=a,!a&&u&&!u.isDirectory()?(n.cache[t]="FILE",e()):n._readdir(t,!1,e)}};tt.prototype._readdir=function(t,e,r){if(!this.aborted&&(r=Vg("readdir\0"+t+"\0"+e,r),!!r)){if(e&&!zg(this.symlinks,t))return this._readdirInGlobStar(t,r);if(zg(this.cache,t)){var n=this.cache[t];if(!n||n==="FILE")return r();if(Array.isArray(n))return r(null,n)}var i=this;Al.readdir(t,LB(this,t,r))}};function LB(t,e,r){return function(n,i){n?t._readdirError(e,n,r):t._readdirEntries(e,i,r)}}tt.prototype._readdirEntries=function(t,e,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<e.length;n++){var i=e[n];t==="/"?i=t+i:i=t+"/"+i,this.cache[i]=!0}return this.cache[t]=e,r(null,e)}};tt.prototype._readdirError=function(t,e,r){if(!this.aborted){switch(e.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(t);if(this.cache[n]="FILE",n===this.cwdAbs){var i=new Error(e.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=e.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:this.cache[this._makeAbs(t)]=!1,this.strict&&(this.emit("error",e),this.abort()),this.silent||console.error("glob error",e);break}return r()}};tt.prototype._processGlobStar=function(t,e,r,n,i,s,o){var u=this;this._readdir(r,s,function(a,c){u._processGlobStar2(t,e,r,n,i,s,c,o)})};tt.prototype._processGlobStar2=function(t,e,r,n,i,s,o,u){if(!o)return u();var a=n.slice(1),c=t?[t]:[],f=c.concat(a);this._process(f,i,!1,u);var d=this.symlinks[r],m=o.length;if(d&&s)return u();for(var h=0;h<m;h++){var y=o[h];if(!(y.charAt(0)==="."&&!this.dot)){var _=c.concat(o[h],a);this._process(_,i,!0,u);var S=c.concat(o[h],n);this._process(S,i,!0,u)}}u()};tt.prototype._processSimple=function(t,e,r){var n=this;this._stat(t,function(i,s){n._processSimple2(t,e,i,s,r)})};tt.prototype._processSimple2=function(t,e,r,n,i){if(this.matches[e]||(this.matches[e]=Object.create(null)),!n)return i();if(t&&eu(t)&&!this.nomount){var s=/[\/\\]$/.test(t);t.charAt(0)==="/"?t=Wg.join(this.root,t):(t=Wg.resolve(this.root,t),s&&(t+="/"))}process.platform==="win32"&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t),i()};tt.prototype._stat=function(t,e){var r=this._makeAbs(t),n=t.slice(-1)==="/";if(t.length>this.maxLength)return e();if(!this.stat&&zg(this.cache,r)){var i=this.cache[r];if(Array.isArray(i)&&(i="DIR"),!n||i==="DIR")return e(null,i);if(n&&i==="FILE")return e()}var s,o=this.statCache[r];if(o!==void 0){if(o===!1)return e(null,o);var u=o.isDirectory()?"DIR":"FILE";return n&&u==="FILE"?e():e(null,u,o)}var a=this,c=Vg("stat\0"+r,f);c&&Al.lstat(r,c);function f(d,m){if(m&&m.isSymbolicLink())return Al.stat(r,function(h,y){h?a._stat2(t,r,null,m,e):a._stat2(t,r,h,y,e)});a._stat2(t,r,d,m,e)}};tt.prototype._stat2=function(t,e,r,n,i){if(r&&(r.code==="ENOENT"||r.code==="ENOTDIR"))return this.statCache[e]=!1,i();var s=t.slice(-1)==="/";if(this.statCache[e]=n,e.slice(-1)==="/"&&n&&!n.isDirectory())return i(null,!1,n);var o=!0;return n&&(o=n.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||o,s&&o==="FILE"?i():i(null,o,n)}});var dT=L(Ei=>{"use strict";Object.defineProperty(Ei,"__esModule",{value:!0});var an=require("path"),Ur=require("fs"),uT=Object.prototype.toString;function Ml(t){return typeof t<"u"}function UB(t){return uT.call(t)==="[object Number]"}function Bn(t){return uT.call(t)==="[object String]"}function BB(t){return t===!0||t===!1}function yo(t){return JSON.parse(Ur.readFileSync(t,"utf8"))}var vo;(function(t){t.file="file",t.bundle="bundle",t.both="both"})(vo=Ei.MessageFormat||(Ei.MessageFormat={}));var cT;(function(t){t.standalone="standalone",t.languagePack="languagePack"})(cT=Ei.BundleFormat||(Ei.BundleFormat={}));var oT;(function(t){function e(r){var n=r;return n&&Ml(n.key)&&Ml(n.comment)}t.is=e})(oT||(oT={}));var lT,jl,je,Ul;function HB(){if(je={locale:void 0,language:void 0,languagePackSupport:!1,cacheLanguageResolution:!0,messageFormat:vo.bundle},Bn(process.env.VSCODE_NLS_CONFIG))try{var t=JSON.parse(process.env.VSCODE_NLS_CONFIG),e=void 0,r=void 0;if(t.availableLanguages){var n=t.availableLanguages["*"];Bn(n)&&(e=n)}if(Bn(t.locale)&&(je.locale=t.locale.toLowerCase()),e===void 0?je.language=je.locale:e!=="en"&&(je.language=e),BB(t._languagePackSupport)&&(je.languagePackSupport=t._languagePackSupport),Bn(t._cacheRoot)&&(je.cacheRoot=t._cacheRoot),Bn(t._languagePackId)&&(je.languagePackId=t._languagePackId),Bn(t._translationsConfigFile)){je.translationsConfigFile=t._translationsConfigFile;try{je.translationsConfig=yo(je.translationsConfigFile)}catch{if(t._corruptedFile){var i=an.dirname(t._corruptedFile);Ur.exists(i,function(o){o&&Ur.writeFile(t._corruptedFile,"corrupted","utf8",function(u){console.error(u)})})}}}}catch{}Ul=je.locale==="pseudo",lT=void 0,jl=Object.create(null)}HB();function WB(){return je.languagePackSupport===!0&&je.cacheRoot!==void 0&&je.languagePackId!==void 0&&je.translationsConfigFile!==void 0&&je.translationsConfig!==void 0}function tv(t,e){var r;return Ul&&(t="\uFF3B"+t.replace(/[aouei]/g,"$&$&")+"\uFF3D"),e.length===0?r=t:r=t.replace(/\{(\d+)\}/g,function(n,i){var s=i[0],o=e[s],u=n;return typeof o=="string"?u=o:(typeof o=="number"||typeof o=="boolean"||o===void 0||o===null)&&(u=String(o)),u}),r}function Qg(t){return function(e,r){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(UB(e)){if(e>=t.length){console.error(`Broken localize call found. Index out of bounds. Stacktrace is
: `+new Error("").stack);return}return tv(t[e],n)}else{if(Bn(r))return console.warn("Message "+r+" didn't get externalized correctly."),tv(r,n);console.error(`Broken localize call found. Stacktrace is
: `+new Error("").stack)}}}function $B(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return tv(e,r)}function zB(t){var e;if(je.cacheLanguageResolution&&e)e=e;else{if(Ul||!je.language)e=".nls.json";else for(var r=je.language;r;){var n=".nls."+r+".json";if(Ur.existsSync(t+n)){e=n;break}else{var i=r.lastIndexOf("-");i>0?r=r.substring(0,i):(e=".nls.json",r=null)}}je.cacheLanguageResolution&&(e=e)}return t+e}function GB(t){for(var e=je.language;e;){var r=an.join(t,"nls.bundle."+e+".json");if(Ur.existsSync(r))return r;var n=e.lastIndexOf("-");n>0?e=e.substring(0,n):e=void 0}if(e===void 0){var r=an.join(t,"nls.bundle.json");if(Ur.existsSync(r))return r}}function VB(t){var e=yo(an.join(t,"nls.metadata.json")),r=Object.create(null);for(var n in e){var i=e[n];r[n]=i.messages}return r}function KB(t,e){var r=je.translationsConfig[t.id];if(r){var n=yo(r).contents,i=yo(an.join(e,"nls.metadata.json")),s=Object.create(null);for(var o in i){var u=i[o],a=n[t.outDir+"/"+o];if(a){for(var c=[],f=0;f<u.keys.length;f++){var d=u.keys[f],m=Bn(d)?d:d.key,h=a[m];h===void 0&&(h=u.messages[f]),c.push(h)}s[o]=c}else s[o]=u.messages}return s}}function XB(t){var e=new Date;Ur.utimes(t,e,e,function(){})}function ev(t,e){return jl[t]=e,e}function YB(t,e){var r,n=an.join(je.cacheRoot,t.id+"-"+t.hash+".json"),i=!1,s=!1;try{return r=JSON.parse(Ur.readFileSync(n,{encoding:"utf8",flag:"r"})),XB(n),r}catch(o){if(o.code==="ENOENT")s=!0;else if(o instanceof SyntaxError)console.log("Syntax error parsing message bundle: "+o.message+"."),Ur.unlink(n,function(u){u&&console.error("Deleting corrupted bundle "+n+" failed.")}),i=!0;else throw o}if(r=KB(t,e),!r||i)return r;if(s)try{Ur.writeFileSync(n,JSON.stringify(r),{encoding:"utf8",flag:"wx"})}catch(o){if(o.code==="EEXIST")return r;throw o}return r}function aT(t){try{return VB(t)}catch(e){console.log("Generating default bundle from meta data failed.",e);return}}function JB(t,e){var r;if(WB())try{r=YB(t,e)}catch(i){console.log("Load or create bundle failed ",i)}if(!r){if(je.languagePackSupport)return aT(e);var n=GB(e);if(n)try{return yo(n)}catch(i){console.log("Loading in the box message bundle failed.",i)}r=aT(e)}return r}function ZB(t){for(var e,r=an.dirname(t);e=an.join(r,"nls.metadata.header.json"),!Ur.existsSync(e);){var n=an.dirname(r);if(n===r){e=void 0;break}else r=n}return e}function fT(t){if(!t)return $B;var e=an.extname(t);if(e&&(t=t.substr(0,t.length-e.length)),je.messageFormat===vo.both||je.messageFormat===vo.bundle){var r=ZB(t);if(r){var n=an.dirname(r),i=jl[n];if(i===void 0)try{var s=JSON.parse(Ur.readFileSync(r,"utf8"));try{var o=JB(s,n);i=ev(n,o?{header:s,nlsBundle:o}:null)}catch(f){console.error("Failed to load nls bundle",f),i=ev(n,null)}}catch(f){console.error("Failed to read header file",f),i=ev(n,null)}if(i){var u=t.substr(n.length+1).replace(/\\/g,"/"),a=i.nlsBundle[u];return a===void 0?(console.error("Messages for file "+t+" not found. See console for details."),function(){return"Messages not found."}):Qg(a)}}}if(je.messageFormat===vo.both||je.messageFormat===vo.file)try{var c=yo(zB(t));return Array.isArray(c)?Qg(c):Ml(c.messages)&&Ml(c.keys)?Qg(c.messages):(console.error("String bundle '"+t+"' uses an unsupported format."),function(){return"File bundle has unsupported format. See console for details"})}catch(f){f.code!=="ENOENT"&&console.error("Failed to load single file bundle",f)}return console.error("Failed to load message bundle for file "+t),function(){return"Failed to load message bundle. See console for details."}}Ei.loadMessageBundle=fT;function QB(t){return t&&(Bn(t.locale)&&(je.locale=t.locale.toLowerCase(),je.language=je.locale,lT=void 0,jl=Object.create(null)),t.messageFormat!==void 0&&(je.messageFormat=t.messageFormat),t.bundleFormat===cT.standalone&&je.languagePackSupport===!0&&(je.languagePackSupport=!1)),Ul=je.locale==="pseudo",fT}Ei.config=QB});var mT=L(()=>{"use strict";var pT=require("url"),ms=require("https"),hT="__agent_base_https_request_patched__";ms.request[hT]||(ms.request=function(t){return function(e,r){let n;return typeof e=="string"?n=pT.parse(e):n=Object.assign({},e),n.port==null&&(n.port=443),n.secureEndpoint=!0,t.call(ms,n,r)}}(ms.request),ms.request[hT]=!0);ms.get=function(t,e,r){let n;typeof t=="string"&&e&&typeof e!="function"?n=Object.assign({},pT.parse(t),e):!e&&!r?n=t:r||(n=t,r=e);let i=ms.request(n,r);return i.end(),i}});var gT=L((rv,nv)=>{(function(t,e){typeof rv=="object"&&typeof nv<"u"?nv.exports=e():typeof define=="function"&&define.amd?define(e):t.ES6Promise=e()})(rv,function(){"use strict";function t(Z){var X=typeof Z;return Z!==null&&(X==="object"||X==="function")}function e(Z){return typeof Z=="function"}var r=void 0;Array.isArray?r=Array.isArray:r=function(Z){return Object.prototype.toString.call(Z)==="[object Array]"};var n=r,i=0,s=void 0,o=void 0,u=function(X,j){P[i]=X,P[i+1]=j,i+=2,i===2&&(o?o(M):$())};function a(Z){o=Z}function c(Z){u=Z}var f=typeof window<"u"?window:void 0,d=f||{},m=d.MutationObserver||d.WebKitMutationObserver,h=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",y=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function _(){return function(){return process.nextTick(M)}}function S(){return typeof s<"u"?function(){s(M)}:T()}function D(){var Z=0,X=new m(M),j=document.createTextNode("");return X.observe(j,{characterData:!0}),function(){j.data=Z=++Z%2}}function w(){var Z=new MessageChannel;return Z.port1.onmessage=M,function(){return Z.port2.postMessage(0)}}function T(){var Z=setTimeout;return function(){return Z(M,1)}}var P=new Array(1e3);function M(){for(var Z=0;Z<i;Z+=2){var X=P[Z],j=P[Z+1];X(j),P[Z]=void 0,P[Z+1]=void 0}i=0}function U(){try{var Z=Function("return this")().require("vertx");return s=Z.runOnLoop||Z.runOnContext,S()}catch{return T()}}var $=void 0;h?$=_():m?$=D():y?$=w():f===void 0&&typeof require=="function"?$=U():$=T();function k(Z,X){var j=this,v=new this.constructor(ne);v[ie]===void 0&&ke(v);var R=j._state;if(R){var E=arguments[R-1];u(function(){return I(R,v,E,j._result)})}else Ue(j,v,Z,X);return v}function K(Z){var X=this;if(Z&&typeof Z=="object"&&Z.constructor===X)return Z;var j=new X(ne);return ue(j,Z),j}var ie=Math.random().toString(36).substring(2);function ne(){}var G=void 0,te=1,se=2;function le(){return new TypeError("You cannot resolve a promise with itself")}function q(){return new TypeError("A promises callback cannot return that same promise.")}function z(Z,X,j,v){try{Z.call(X,j,v)}catch(R){return R}}function Y(Z,X,j){u(function(v){var R=!1,E=z(j,X,function(C){R||(R=!0,X!==C?ue(v,C):_e(v,C))},function(C){R||(R=!0,Re(v,C))},"Settle: "+(v._label||" unknown promise"));!R&&E&&(R=!0,Re(v,E))},Z)}function J(Z,X){X._state===te?_e(Z,X._result):X._state===se?Re(Z,X._result):Ue(X,void 0,function(j){return ue(Z,j)},function(j){return Re(Z,j)})}function oe(Z,X,j){X.constructor===Z.constructor&&j===k&&X.constructor.resolve===K?J(Z,X):j===void 0?_e(Z,X):e(j)?Y(Z,X,j):_e(Z,X)}function ue(Z,X){if(Z===X)Re(Z,le());else if(t(X)){var j=void 0;try{j=X.then}catch(v){Re(Z,v);return}oe(Z,X,j)}else _e(Z,X)}function we(Z){Z._onerror&&Z._onerror(Z._result),F(Z)}function _e(Z,X){Z._state===G&&(Z._result=X,Z._state=te,Z._subscribers.length!==0&&u(F,Z))}function Re(Z,X){Z._state===G&&(Z._state=se,Z._result=X,u(we,Z))}function Ue(Z,X,j,v){var R=Z._subscribers,E=R.length;Z._onerror=null,R[E]=X,R[E+te]=j,R[E+se]=v,E===0&&Z._state&&u(F,Z)}function F(Z){var X=Z._subscribers,j=Z._state;if(X.length!==0){for(var v=void 0,R=void 0,E=Z._result,C=0;C<X.length;C+=3)v=X[C],R=X[C+j],v?I(j,v,R,E):R(E);Z._subscribers.length=0}}function I(Z,X,j,v){var R=e(j),E=void 0,C=void 0,b=!0;if(R){try{E=j(v)}catch(O){b=!1,C=O}if(X===E){Re(X,q());return}}else E=v;X._state!==G||(R&&b?ue(X,E):b===!1?Re(X,C):Z===te?_e(X,E):Z===se&&Re(X,E))}function Q(Z,X){try{X(function(v){ue(Z,v)},function(v){Re(Z,v)})}catch(j){Re(Z,j)}}var V=0;function Se(){return V++}function ke(Z){Z[ie]=V++,Z._state=void 0,Z._result=void 0,Z._subscribers=[]}function Fe(){return new Error("Array Methods must be provided an Array")}var Je=function(){function Z(X,j){this._instanceConstructor=X,this.promise=new X(ne),this.promise[ie]||ke(this.promise),n(j)?(this.length=j.length,this._remaining=j.length,this._result=new Array(this.length),this.length===0?_e(this.promise,this._result):(this.length=this.length||0,this._enumerate(j),this._remaining===0&&_e(this.promise,this._result))):Re(this.promise,Fe())}return Z.prototype._enumerate=function(j){for(var v=0;this._state===G&&v<j.length;v++)this._eachEntry(j[v],v)},Z.prototype._eachEntry=function(j,v){var R=this._instanceConstructor,E=R.resolve;if(E===K){var C=void 0,b=void 0,O=!1;try{C=j.then}catch(p){O=!0,b=p}if(C===k&&j._state!==G)this._settledAt(j._state,v,j._result);else if(typeof C!="function")this._remaining--,this._result[v]=j;else if(R===Qe){var N=new R(ne);O?Re(N,b):oe(N,j,C),this._willSettleAt(N,v)}else this._willSettleAt(new R(function(p){return p(j)}),v)}else this._willSettleAt(E(j),v)},Z.prototype._settledAt=function(j,v,R){var E=this.promise;E._state===G&&(this._remaining--,j===se?Re(E,R):this._result[v]=R),this._remaining===0&&_e(E,this._result)},Z.prototype._willSettleAt=function(j,v){var R=this;Ue(j,void 0,function(E){return R._settledAt(te,v,E)},function(E){return R._settledAt(se,v,E)})},Z}();function rt(Z){return new Je(this,Z).promise}function Rt(Z){var X=this;return n(Z)?new X(function(j,v){for(var R=Z.length,E=0;E<R;E++)X.resolve(Z[E]).then(j,v)}):new X(function(j,v){return v(new TypeError("You must pass an array to race."))})}function Ce(Z){var X=this,j=new X(ne);return Re(j,Z),j}function Ze(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function Dt(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var Qe=function(){function Z(X){this[ie]=Se(),this._result=this._state=void 0,this._subscribers=[],ne!==X&&(typeof X!="function"&&Ze(),this instanceof Z?Q(this,X):Dt())}return Z.prototype.catch=function(j){return this.then(null,j)},Z.prototype.finally=function(j){var v=this,R=v.constructor;return e(j)?v.then(function(E){return R.resolve(j()).then(function(){return E})},function(E){return R.resolve(j()).then(function(){throw E})}):v.then(j,j)},Z}();Qe.prototype.then=k,Qe.all=rt,Qe.race=Rt,Qe.resolve=K,Qe.reject=Ce,Qe._setScheduler=a,Qe._setAsap=c,Qe._asap=u;function nt(){var Z=void 0;if(typeof global<"u")Z=global;else if(typeof self<"u")Z=self;else try{Z=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var X=Z.Promise;if(X){var j=null;try{j=Object.prototype.toString.call(X.resolve())}catch{}if(j==="[object Promise]"&&!X.cast)return}Z.Promise=Qe}return Qe.polyfill=nt,Qe.Promise=Qe,Qe})});var yT=L((D9,vT)=>{"use strict";vT.exports=function(){"use strict";var t=void 0;function e(n){return typeof n=="function"}global!==void 0?t=global:window!==void 0&&window.document?t=window:t=self;var r=function(){if(!t.hasOwnProperty("Promise"))return!1;var n=t.Promise;return!n.hasOwnProperty("resolve")||!n.hasOwnProperty("reject")||!n.hasOwnProperty("all")||!n.hasOwnProperty("race")?!1:function(){var i=void 0,s=new t.Promise(function(o){i=o});return s?e(i):!1}()}();return r?t.Promise:gT().Promise}()});var wT=L((O9,_T)=>{"use strict";_T.exports=function(){"use strict";var t=yT();function e(r){return r&&typeof r.then=="function"&&typeof r.catch=="function"}return function(n,i){return function(){for(var s=arguments.length,o=Array(s),u=0;u<s;u++)o[u]=arguments[u];var a=i&&i.multiArgs,c=void 0;return i&&i.thisArg?c=i.thisArg:i&&(c=i),new t(function(f,d){o.push(function(y){if(y)return d(y);for(var _=arguments.length,S=Array(_>1?_-1:0),D=1;D<_;D++)S[D-1]=arguments[D];if(!a)return f(S[0]);f(S)});var m=n.apply(c,o);e(m)&&f(m)})}}}()});var iv=L((x9,bT)=>{"use strict";mT();var eH=require("util").inherits,tH=wT(),ET=require("events").EventEmitter;bT.exports=gs;function rH(t){return t&&typeof t.addRequest=="function"}function gs(t,e){if(!(this instanceof gs))return new gs(t,e);ET.call(this),this._promisifiedCallback=!1;let r=e;typeof t=="function"?this.callback=t:t&&(r=t),this.timeout=r&&r.timeout||null,this.options=r}eH(gs,ET);gs.prototype.callback=function(e,r){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')};gs.prototype.addRequest=function(e,r){let n=Object.assign({},r);n.host==null&&(n.host="localhost"),n.port==null&&(n.port=n.secureEndpoint?443:80);let i=Object.assign({},this.options,n);i.host&&i.path&&delete i.path,delete i.agent,delete i.hostname,delete i._defaultAgent,delete i.defaultPort,delete i.createConnection,e._last=!0,e.shouldKeepAlive=!1;let s,o=!1,u=this.timeout,a=this.freeSocket;function c(h){e._hadError||(e.emit("error",h),e._hadError=!0)}function f(){s=null,o=!0;let h=new Error('A "socket" was not created for HTTP request before '+u+"ms");h.code="ETIMEOUT",c(h)}function d(h){o||(s!=null&&(clearTimeout(s),s=null),c(h))}function m(h){if(!o)if(s!=null&&(clearTimeout(s),s=null),rH(h))h.addRequest(e,i);else if(h){let y=function(){a(h,i)};h.on("free",y),e.onSocket(h)}else{let y=new Error("no Duplex stream was returned to agent-base for `"+e.method+" "+e.path+"`");c(y)}}!this._promisifiedCallback&&this.callback.length>=3&&(this.callback=tH(this.callback,this),this._promisifiedCallback=!0),u>0&&(s=setTimeout(f,u));try{Promise.resolve(this.callback(e,i)).then(m,d)}catch(h){Promise.reject(h).catch(d)}};gs.prototype.freeSocket=function(e,r){e.destroy()}});var ST=L((P9,CT)=>{var nu=1e3,iu=nu*60,su=iu*60,ou=su*24,nH=ou*365.25;CT.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return iH(t);if(r==="number"&&isNaN(t)===!1)return e.long?oH(t):sH(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function iH(t){if(t=String(t),!(t.length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*nH;case"days":case"day":case"d":return r*ou;case"hours":case"hour":case"hrs":case"hr":case"h":return r*su;case"minutes":case"minute":case"mins":case"min":case"m":return r*iu;case"seconds":case"second":case"secs":case"sec":case"s":return r*nu;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function sH(t){return t>=ou?Math.round(t/ou)+"d":t>=su?Math.round(t/su)+"h":t>=iu?Math.round(t/iu)+"m":t>=nu?Math.round(t/nu)+"s":t+"ms"}function oH(t){return Bl(t,ou,"day")||Bl(t,su,"hour")||Bl(t,iu,"minute")||Bl(t,nu,"second")||t+" ms"}function Bl(t,e,r){if(!(t<e))return t<e*1.5?Math.floor(t/e)+" "+r:Math.ceil(t/e)+" "+r+"s"}});var ov=L((Me,TT)=>{Me=TT.exports=sv.debug=sv.default=sv;Me.coerce=dH;Me.disable=lH;Me.enable=cH;Me.enabled=fH;Me.humanize=ST();Me.instances=[];Me.names=[];Me.skips=[];Me.formatters={};function aH(t){var e=0,r;for(r in t)e=(e<<5)-e+t.charCodeAt(r),e|=0;return Me.colors[Math.abs(e)%Me.colors.length]}function sv(t){var e;function r(){if(r.enabled){var n=r,i=+new Date,s=i-(e||i);n.diff=s,n.prev=e,n.curr=i,e=i;for(var o=new Array(arguments.length),u=0;u<o.length;u++)o[u]=arguments[u];o[0]=Me.coerce(o[0]),typeof o[0]!="string"&&o.unshift("%O");var a=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(f,d){if(f==="%%")return f;a++;var m=Me.formatters[d];if(typeof m=="function"){var h=o[a];f=m.call(n,h),o.splice(a,1),a--}return f}),Me.formatArgs.call(n,o);var c=r.log||Me.log||console.log.bind(console);c.apply(n,o)}}return r.namespace=t,r.enabled=Me.enabled(t),r.useColors=Me.useColors(),r.color=aH(t),r.destroy=uH,typeof Me.init=="function"&&Me.init(r),Me.instances.push(r),r}function uH(){var t=Me.instances.indexOf(this);return t!==-1?(Me.instances.splice(t,1),!0):!1}function cH(t){Me.save(t),Me.names=[],Me.skips=[];var e,r=(typeof t=="string"?t:"").split(/[\s,]+/),n=r.length;for(e=0;e<n;e++)r[e]&&(t=r[e].replace(/\*/g,".*?"),t[0]==="-"?Me.skips.push(new RegExp("^"+t.substr(1)+"$")):Me.names.push(new RegExp("^"+t+"$")));for(e=0;e<Me.instances.length;e++){var i=Me.instances[e];i.enabled=Me.enabled(i.namespace)}}function lH(){Me.enable("")}function fH(t){if(t[t.length-1]==="*")return!0;var e,r;for(e=0,r=Me.skips.length;e<r;e++)if(Me.skips[e].test(t))return!1;for(e=0,r=Me.names.length;e<r;e++)if(Me.names[e].test(t))return!0;return!1}function dH(t){return t instanceof Error?t.stack||t.message:t}});var OT=L((gr,DT)=>{gr=DT.exports=ov();gr.log=mH;gr.formatArgs=pH;gr.save=gH;gr.load=RT;gr.useColors=hH;gr.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:vH();gr.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function hH(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}gr.formatters.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}};function pH(t){var e=this.useColors;if(t[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+t[0]+(e?"%c ":" ")+"+"+gr.humanize(this.diff),!!e){var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,function(s){s!=="%%"&&(n++,s==="%c"&&(i=n))}),t.splice(i,0,r)}}function mH(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function gH(t){try{t==null?gr.storage.removeItem("debug"):gr.storage.debug=t}catch{}}function RT(){var t;try{t=gr.storage.debug}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}gr.enable(RT());function vH(){try{return window.localStorage}catch{}}});var PT=L((I9,xT)=>{"use strict";xT.exports=(t,e=process.argv)=>{let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),i=e.indexOf("--");return n!==-1&&(i===-1||n<i)}});var cv=L((N9,NT)=>{"use strict";var yH=require("os"),IT=require("tty"),Br=PT(),{env:Gt}=process,bi;Br("no-color")||Br("no-colors")||Br("color=false")||Br("color=never")?bi=0:(Br("color")||Br("colors")||Br("color=true")||Br("color=always"))&&(bi=1);"FORCE_COLOR"in Gt&&(Gt.FORCE_COLOR==="true"?bi=1:Gt.FORCE_COLOR==="false"?bi=0:bi=Gt.FORCE_COLOR.length===0?1:Math.min(parseInt(Gt.FORCE_COLOR,10),3));function av(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function uv(t,e){if(bi===0)return 0;if(Br("color=16m")||Br("color=full")||Br("color=truecolor"))return 3;if(Br("color=256"))return 2;if(t&&!e&&bi===void 0)return 0;let r=bi||0;if(Gt.TERM==="dumb")return r;if(process.platform==="win32"){let n=yH.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in Gt)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in Gt)||Gt.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in Gt)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Gt.TEAMCITY_VERSION)?1:0;if(Gt.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Gt){let n=parseInt((Gt.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Gt.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Gt.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Gt.TERM)||"COLORTERM"in Gt?1:r}function _H(t){let e=uv(t,t&&t.isTTY);return av(e)}NT.exports={supportsColor:_H,stdout:av(uv(!0,IT.isatty(1))),stderr:av(uv(!0,IT.isatty(2)))}});var kT=L((At,LT)=>{var wH=require("tty"),Hl=require("util");At=LT.exports=ov();At.init=RH;At.log=SH;At.formatArgs=bH;At.save=TH;At.load=FT;At.useColors=EH;At.colors=[6,2,3,4,5,1];try{lv=cv(),lv&&lv.level>=2&&(At.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}var lv;At.inspectOpts=Object.keys(process.env).filter(function(t){return/^debug_/i.test(t)}).reduce(function(t,e){var r=e.substring(6).toLowerCase().replace(/_([a-z])/g,function(i,s){return s.toUpperCase()}),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),t[r]=n,t},{});function EH(){return"colors"in At.inspectOpts?Boolean(At.inspectOpts.colors):wH.isatty(process.stderr.fd)}At.formatters.o=function(t){return this.inspectOpts.colors=this.useColors,Hl.inspect(t,this.inspectOpts).split(`
`).map(function(e){return e.trim()}).join(" ")};At.formatters.O=function(t){return this.inspectOpts.colors=this.useColors,Hl.inspect(t,this.inspectOpts)};function bH(t){var e=this.namespace,r=this.useColors;if(r){var n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),s="  "+i+";1m"+e+" \x1B[0m";t[0]=s+t[0].split(`
`).join(`
`+s),t.push(i+"m+"+At.humanize(this.diff)+"\x1B[0m")}else t[0]=CH()+e+" "+t[0]}function CH(){return At.inspectOpts.hideDate?"":new Date().toISOString()+" "}function SH(){return process.stderr.write(Hl.format.apply(Hl,arguments)+`
`)}function TH(t){t==null?delete process.env.DEBUG:process.env.DEBUG=t}function FT(){return process.env.DEBUG}function RH(t){t.inspectOpts={};for(var e=Object.keys(At.inspectOpts),r=0;r<e.length;r++)t.inspectOpts[e[r]]=At.inspectOpts[e[r]]}At.enable(FT())});var AT=L((F9,fv)=>{typeof process>"u"||process.type==="renderer"?fv.exports=OT():fv.exports=kT()});var jT=L((L9,MT)=>{var DH=require("net"),OH=require("tls"),dv=require("url"),qT=iv(),xH=require("util").inherits,Wl=AT()("http-proxy-agent");MT.exports=au;function au(t){if(!(this instanceof au))return new au(t);if(typeof t=="string"&&(t=dv.parse(t)),!t)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");Wl("creating new HttpProxyAgent instance: %o",t),qT.call(this,t);var e=Object.assign({},t);this.secureProxy=e.protocol?/^https:?$/i.test(e.protocol):!1,e.host=e.hostname||e.host,e.port=+e.port||(this.secureProxy?443:80),e.host&&e.path&&(delete e.path,delete e.pathname),this.proxy=e}xH(au,qT);au.prototype.callback=function(e,r,n){var i=this.proxy,s=dv.parse(e.path);s.protocol==null&&(s.protocol="http:"),s.hostname==null&&(s.hostname=r.hostname||r.host),s.port==null&&(s.port=r.port),s.port==80&&delete s.port;var o=dv.format(s);e.path=o,i.auth&&e.setHeader("Proxy-Authorization","Basic "+Buffer.from(i.auth).toString("base64"));var u;if(this.secureProxy?u=OH.connect(i):u=DH.connect(i),e._header&&(Wl("regenerating stored HTTP header string for request"),e._header=null,e._implicitHeader(),e.output&&e.output.length>0)){Wl("patching connection write() output buffer with updated header");var a=e.output[0],c=a.indexOf(`\r
\r
`)+4;e.output[0]=e._header+a.substring(c),Wl("output buffer: %o",e.output)}n(null,u)}});var BT=L((k9,UT)=>{var _o=1e3,wo=_o*60,Eo=wo*60,vs=Eo*24,PH=vs*7,IH=vs*365.25;UT.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return NH(t);if(r==="number"&&isFinite(t))return e.long?LH(t):FH(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function NH(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*IH;case"weeks":case"week":case"w":return r*PH;case"days":case"day":case"d":return r*vs;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Eo;case"minutes":case"minute":case"mins":case"min":case"m":return r*wo;case"seconds":case"second":case"secs":case"sec":case"s":return r*_o;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function FH(t){var e=Math.abs(t);return e>=vs?Math.round(t/vs)+"d":e>=Eo?Math.round(t/Eo)+"h":e>=wo?Math.round(t/wo)+"m":e>=_o?Math.round(t/_o)+"s":t+"ms"}function LH(t){var e=Math.abs(t);return e>=vs?$l(t,e,vs,"day"):e>=Eo?$l(t,e,Eo,"hour"):e>=wo?$l(t,e,wo,"minute"):e>=_o?$l(t,e,_o,"second"):t+" ms"}function $l(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var hv=L((A9,HT)=>{"use strict";function kH(t){r.debug=r,r.default=r,r.coerce=a,r.disable=o,r.enable=s,r.enabled=u,r.humanize=BT(),Object.keys(t).forEach(function(c){r[c]=t[c]}),r.instances=[],r.names=[],r.skips=[],r.formatters={};function e(c){for(var f=0,d=0;d<c.length;d++)f=(f<<5)-f+c.charCodeAt(d),f|=0;return r.colors[Math.abs(f)%r.colors.length]}r.selectColor=e;function r(c){var f;function d(){if(d.enabled){for(var m=arguments.length,h=new Array(m),y=0;y<m;y++)h[y]=arguments[y];var _=d,S=Number(new Date),D=S-(f||S);_.diff=D,_.prev=f,_.curr=S,f=S,h[0]=r.coerce(h[0]),typeof h[0]!="string"&&h.unshift("%O");var w=0;h[0]=h[0].replace(/%([a-zA-Z%])/g,function(P,M){if(P==="%%")return P;w++;var U=r.formatters[M];if(typeof U=="function"){var $=h[w];P=U.call(_,$),h.splice(w,1),w--}return P}),r.formatArgs.call(_,h);var T=_.log||r.log;T.apply(_,h)}}return d.namespace=c,d.enabled=r.enabled(c),d.useColors=r.useColors(),d.color=e(c),d.destroy=n,d.extend=i,typeof r.init=="function"&&r.init(d),r.instances.push(d),d}function n(){var c=r.instances.indexOf(this);return c!==-1?(r.instances.splice(c,1),!0):!1}function i(c,f){return r(this.namespace+(typeof f>"u"?":":f)+c)}function s(c){r.save(c),r.names=[],r.skips=[];var f,d=(typeof c=="string"?c:"").split(/[\s,]+/),m=d.length;for(f=0;f<m;f++)d[f]&&(c=d[f].replace(/\*/g,".*?"),c[0]==="-"?r.skips.push(new RegExp("^"+c.substr(1)+"$")):r.names.push(new RegExp("^"+c+"$")));for(f=0;f<r.instances.length;f++){var h=r.instances[f];h.enabled=r.enabled(h.namespace)}}function o(){r.enable("")}function u(c){if(c[c.length-1]==="*")return!0;var f,d;for(f=0,d=r.skips.length;f<d;f++)if(r.skips[f].test(c))return!1;for(f=0,d=r.names.length;f<d;f++)if(r.names[f].test(c))return!0;return!1}function a(c){return c instanceof Error?c.stack||c.message:c}return r.enable(r.load()),r}HT.exports=kH});var WT=L((Hr,Gl)=>{"use strict";function zl(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zl=function(r){return typeof r}:zl=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},zl(t)}Hr.log=MH;Hr.formatArgs=qH;Hr.save=jH;Hr.load=UH;Hr.useColors=AH;Hr.storage=BH();Hr.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function AH(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function qH(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+Gl.exports.humanize(this.diff),!!this.useColors){var e="color: "+this.color;t.splice(1,0,e,"color: inherit");var r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,function(i){i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}}function MH(){var t;return(typeof console>"u"?"undefined":zl(console))==="object"&&console.log&&(t=console).log.apply(t,arguments)}function jH(t){try{t?Hr.storage.setItem("debug",t):Hr.storage.removeItem("debug")}catch{}}function UH(){var t;try{t=Hr.storage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function BH(){try{return localStorage}catch{}}Gl.exports=hv()(Hr);var HH=Gl.exports.formatters;HH.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var zT=L((ir,Xl)=>{"use strict";var WH=require("tty"),Kl=require("util");ir.init=YH;ir.log=VH;ir.formatArgs=zH;ir.save=KH;ir.load=XH;ir.useColors=$H;ir.colors=[6,2,3,4,5,1];try{Vl=cv(),Vl&&(Vl.stderr||Vl).level>=2&&(ir.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}var Vl;ir.inspectOpts=Object.keys(process.env).filter(function(t){return/^debug_/i.test(t)}).reduce(function(t,e){var r=e.substring(6).toLowerCase().replace(/_([a-z])/g,function(i,s){return s.toUpperCase()}),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),t[r]=n,t},{});function $H(){return"colors"in ir.inspectOpts?Boolean(ir.inspectOpts.colors):WH.isatty(process.stderr.fd)}function zH(t){var e=this.namespace,r=this.useColors;if(r){var n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),s="  ".concat(i,";1m").concat(e," \x1B[0m");t[0]=s+t[0].split(`
`).join(`
`+s),t.push(i+"m+"+Xl.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=GH()+e+" "+t[0]}function GH(){return ir.inspectOpts.hideDate?"":new Date().toISOString()+" "}function VH(){return process.stderr.write(Kl.format.apply(Kl,arguments)+`
`)}function KH(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function XH(){return process.env.DEBUG}function YH(t){t.inspectOpts={};for(var e=Object.keys(ir.inspectOpts),r=0;r<e.length;r++)t.inspectOpts[e[r]]=ir.inspectOpts[e[r]]}Xl.exports=hv()(ir);var $T=Xl.exports.formatters;$T.o=function(t){return this.inspectOpts.colors=this.useColors,Kl.inspect(t,this.inspectOpts).split(`
`).map(function(e){return e.trim()}).join(" ")};$T.O=function(t){return this.inspectOpts.colors=this.useColors,Kl.inspect(t,this.inspectOpts)}});var GT=L((q9,pv)=>{"use strict";typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?pv.exports=WT():pv.exports=zT()});var JT=L((M9,YT)=>{var VT=require("net"),KT=require("tls"),JH=require("url"),ZH=require("assert"),XT=iv(),QH=require("util").inherits,ys=GT()("https-proxy-agent");YT.exports=uu;function uu(t){if(!(this instanceof uu))return new uu(t);if(typeof t=="string"&&(t=JH.parse(t)),!t)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");ys("creating new HttpsProxyAgent instance: %o",t),XT.call(this,t);var e=Object.assign({},t);this.secureProxy=e.protocol?/^https:?$/i.test(e.protocol):!1,e.host=e.hostname||e.host,e.port=+e.port||(this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in e)&&(e.ALPNProtocols=["http 1.1"]),e.host&&e.path&&(delete e.path,delete e.pathname),this.proxy=e,this.defaultPort=443}QH(uu,XT);uu.prototype.callback=function(e,r,n){var i=this.proxy,s;this.secureProxy?s=KT.connect(i):s=VT.connect(i);var o=[],u=0;function a(){var T=s.read();T?h(T):s.once("readable",a)}function c(){s.removeListener("end",d),s.removeListener("error",m),s.removeListener("close",f),s.removeListener("readable",a)}function f(T){ys("onclose had error %o",T)}function d(){ys("onend")}function m(T){c(),n(T)}function h(T){o.push(T),u+=T.length;var P=Buffer.concat(o,u),M=P.toString("ascii");if(!~M.indexOf(`\r
\r
`)){ys("have not received end of HTTP headers yet..."),a();return}var U=M.substring(0,M.indexOf(`\r
`)),$=+U.split(" ")[1];if(ys("got proxy server response: %o",U),$==200){var k=s;o=P=null,r.secureEndpoint&&(ys("upgrading proxy-connected socket to TLS connection: %o",r.host),r.socket=s,r.servername=r.servername||r.host,r.host=null,r.hostname=null,r.port=null,k=KT.connect(r)),c(),e.once("socket",eW),n(null,k)}else c(),s.destroy(),s=new VT.Socket,s.readable=!0,o=P,e.once("socket",y),n(null,s)}function y(T){ys("replaying proxy buffer for failed request"),ZH(T.listenerCount("data")>0),T.push(o),o=null}s.on("error",m),s.on("close",f),s.on("end",d),a();var _=r.host+":"+r.port,S="CONNECT "+_+` HTTP/1.1\r
`,D=Object.assign({},i.headers);i.auth&&(D["Proxy-Authorization"]="Basic "+Buffer.from(i.auth).toString("base64"));var w=r.host;tW(r.port,r.secureEndpoint)||(w+=":"+r.port),D.Host=w,D.Connection="close",Object.keys(D).forEach(function(T){S+=T+": "+D[T]+`\r
`}),s.write(S+`\r
`)};function eW(t){t.resume()}function tW(t,e){return Boolean(!e&&t===80||e&&t===443)}});var bo=L((H9,nR)=>{"use strict";var rR=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]);nR.exports=t=>t?Object.keys(t).map(e=>[rR.has(e)?rR.get(e):e,t[e]]).reduce((e,r)=>(e[r[0]]=r[1],e),Object.create(null)):{}});var af=L(hR=>{"use strict";var iR=typeof process=="object"&&process?process:{stdout:null,stderr:null},uW=require("events"),sR=require("stream"),cW=require("string_decoder"),oR=cW.StringDecoder,Hn=Symbol("EOF"),Wn=Symbol("maybeEmitEnd"),Ci=Symbol("emittedEnd"),ef=Symbol("emittingEnd"),cu=Symbol("emittedError"),tf=Symbol("closed"),aR=Symbol("read"),rf=Symbol("flush"),uR=Symbol("flushChunk"),br=Symbol("encoding"),$n=Symbol("decoder"),nf=Symbol("flowing"),lu=Symbol("paused"),Co=Symbol("resume"),Pt=Symbol("buffer"),gn=Symbol("pipes"),Vt=Symbol("bufferLength"),wv=Symbol("bufferPush"),Ev=Symbol("bufferShift"),Qt=Symbol("objectMode"),It=Symbol("destroyed"),bv=Symbol("error"),Cv=Symbol("emitData"),cR=Symbol("emitEnd"),Sv=Symbol("emitEnd2"),zn=Symbol("async"),Tv=Symbol("abort"),sf=Symbol("aborted"),_s=Symbol("signal"),fu=t=>Promise.resolve().then(t),dR=global._MP_NO_ITERATOR_SYMBOLS_!=="1",lR=dR&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),fR=dR&&Symbol.iterator||Symbol("iterator not implemented"),lW=t=>t==="end"||t==="finish"||t==="prefinish",fW=t=>t instanceof ArrayBuffer||typeof t=="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0,dW=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t),of=class{constructor(e,r,n){this.src=e,this.dest=r,this.opts=n,this.ondrain=()=>e[Co](),r.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},Rv=class extends of{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,r,n){super(e,r,n),this.proxyErrors=i=>r.emit("error",i),e.on("error",this.proxyErrors)}},du=class extends sR{constructor(e){super(),this[nf]=!1,this[lu]=!1,this[gn]=[],this[Pt]=[],this[Qt]=e&&e.objectMode||!1,this[Qt]?this[br]=null:this[br]=e&&e.encoding||null,this[br]==="buffer"&&(this[br]=null),this[zn]=e&&!!e.async||!1,this[$n]=this[br]?new oR(this[br]):null,this[Hn]=!1,this[Ci]=!1,this[ef]=!1,this[tf]=!1,this[cu]=null,this.writable=!0,this.readable=!0,this[Vt]=0,this[It]=!1,e&&e.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[Pt]}),e&&e.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[gn]}),this[_s]=e&&e.signal,this[sf]=!1,this[_s]&&(this[_s].addEventListener("abort",()=>this[Tv]()),this[_s].aborted&&this[Tv]())}get bufferLength(){return this[Vt]}get encoding(){return this[br]}set encoding(e){if(this[Qt])throw new Error("cannot set encoding in objectMode");if(this[br]&&e!==this[br]&&(this[$n]&&this[$n].lastNeed||this[Vt]))throw new Error("cannot change encoding");this[br]!==e&&(this[$n]=e?new oR(e):null,this[Pt].length&&(this[Pt]=this[Pt].map(r=>this[$n].write(r)))),this[br]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[Qt]}set objectMode(e){this[Qt]=this[Qt]||!!e}get async(){return this[zn]}set async(e){this[zn]=this[zn]||!!e}[Tv](){this[sf]=!0,this.emit("abort",this[_s].reason),this.destroy(this[_s].reason)}get aborted(){return this[sf]}set aborted(e){}write(e,r,n){if(this[sf])return!1;if(this[Hn])throw new Error("write after end");if(this[It])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof r=="function"&&(n=r,r="utf8"),r||(r="utf8");let i=this[zn]?fu:s=>s();return!this[Qt]&&!Buffer.isBuffer(e)&&(dW(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):fW(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),this[Qt]?(this.flowing&&this[Vt]!==0&&this[rf](!0),this.flowing?this.emit("data",e):this[wv](e),this[Vt]!==0&&this.emit("readable"),n&&i(n),this.flowing):e.length?(typeof e=="string"&&!(r===this[br]&&!this[$n].lastNeed)&&(e=Buffer.from(e,r)),Buffer.isBuffer(e)&&this[br]&&(e=this[$n].write(e)),this.flowing&&this[Vt]!==0&&this[rf](!0),this.flowing?this.emit("data",e):this[wv](e),this[Vt]!==0&&this.emit("readable"),n&&i(n),this.flowing):(this[Vt]!==0&&this.emit("readable"),n&&i(n),this.flowing)}read(e){if(this[It])return null;if(this[Vt]===0||e===0||e>this[Vt])return this[Wn](),null;this[Qt]&&(e=null),this[Pt].length>1&&!this[Qt]&&(this.encoding?this[Pt]=[this[Pt].join("")]:this[Pt]=[Buffer.concat(this[Pt],this[Vt])]);let r=this[aR](e||null,this[Pt][0]);return this[Wn](),r}[aR](e,r){return e===r.length||e===null?this[Ev]():(this[Pt][0]=r.slice(e),r=r.slice(0,e),this[Vt]-=e),this.emit("data",r),!this[Pt].length&&!this[Hn]&&this.emit("drain"),r}end(e,r,n){return typeof e=="function"&&(n=e,e=null),typeof r=="function"&&(n=r,r="utf8"),e&&this.write(e,r),n&&this.once("end",n),this[Hn]=!0,this.writable=!1,(this.flowing||!this[lu])&&this[Wn](),this}[Co](){this[It]||(this[lu]=!1,this[nf]=!0,this.emit("resume"),this[Pt].length?this[rf]():this[Hn]?this[Wn]():this.emit("drain"))}resume(){return this[Co]()}pause(){this[nf]=!1,this[lu]=!0}get destroyed(){return this[It]}get flowing(){return this[nf]}get paused(){return this[lu]}[wv](e){this[Qt]?this[Vt]+=1:this[Vt]+=e.length,this[Pt].push(e)}[Ev](){return this[Qt]?this[Vt]-=1:this[Vt]-=this[Pt][0].length,this[Pt].shift()}[rf](e){do;while(this[uR](this[Ev]())&&this[Pt].length);!e&&!this[Pt].length&&!this[Hn]&&this.emit("drain")}[uR](e){return this.emit("data",e),this.flowing}pipe(e,r){if(this[It])return;let n=this[Ci];return r=r||{},e===iR.stdout||e===iR.stderr?r.end=!1:r.end=r.end!==!1,r.proxyErrors=!!r.proxyErrors,n?r.end&&e.end():(this[gn].push(r.proxyErrors?new Rv(this,e,r):new of(this,e,r)),this[zn]?fu(()=>this[Co]()):this[Co]()),e}unpipe(e){let r=this[gn].find(n=>n.dest===e);r&&(this[gn].splice(this[gn].indexOf(r),1),r.unpipe())}addListener(e,r){return this.on(e,r)}on(e,r){let n=super.on(e,r);return e==="data"&&!this[gn].length&&!this.flowing?this[Co]():e==="readable"&&this[Vt]!==0?super.emit("readable"):lW(e)&&this[Ci]?(super.emit(e),this.removeAllListeners(e)):e==="error"&&this[cu]&&(this[zn]?fu(()=>r.call(this,this[cu])):r.call(this,this[cu])),n}get emittedEnd(){return this[Ci]}[Wn](){!this[ef]&&!this[Ci]&&!this[It]&&this[Pt].length===0&&this[Hn]&&(this[ef]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[tf]&&this.emit("close"),this[ef]=!1)}emit(e,r,...n){if(e!=="error"&&e!=="close"&&e!==It&&this[It])return;if(e==="data")return!this[Qt]&&!r?!1:this[zn]?fu(()=>this[Cv](r)):this[Cv](r);if(e==="end")return this[cR]();if(e==="close"){if(this[tf]=!0,!this[Ci]&&!this[It])return;let s=super.emit("close");return this.removeAllListeners("close"),s}else if(e==="error"){this[cu]=r,super.emit(bv,r);let s=!this[_s]||this.listeners("error").length?super.emit("error",r):!1;return this[Wn](),s}else if(e==="resume"){let s=super.emit("resume");return this[Wn](),s}else if(e==="finish"||e==="prefinish"){let s=super.emit(e);return this.removeAllListeners(e),s}let i=super.emit(e,r,...n);return this[Wn](),i}[Cv](e){for(let n of this[gn])n.dest.write(e)===!1&&this.pause();let r=super.emit("data",e);return this[Wn](),r}[cR](){this[Ci]||(this[Ci]=!0,this.readable=!1,this[zn]?fu(()=>this[Sv]()):this[Sv]())}[Sv](){if(this[$n]){let r=this[$n].end();if(r){for(let n of this[gn])n.dest.write(r);super.emit("data",r)}}for(let r of this[gn])r.end();let e=super.emit("end");return this.removeAllListeners("end"),e}collect(){let e=[];this[Qt]||(e.dataLength=0);let r=this.promise();return this.on("data",n=>{e.push(n),this[Qt]||(e.dataLength+=n.length)}),r.then(()=>e)}concat(){return this[Qt]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[Qt]?Promise.reject(new Error("cannot concat in objectMode")):this[br]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,r)=>{this.on(It,()=>r(new Error("stream destroyed"))),this.on("error",n=>r(n)),this.on("end",()=>e())})}[lR](){let e=!1,r=()=>(this.pause(),e=!0,Promise.resolve({done:!0}));return{next:()=>{if(e)return r();let i=this.read();if(i!==null)return Promise.resolve({done:!1,value:i});if(this[Hn])return r();let s=null,o=null,u=d=>{this.removeListener("data",a),this.removeListener("end",c),this.removeListener(It,f),r(),o(d)},a=d=>{this.removeListener("error",u),this.removeListener("end",c),this.removeListener(It,f),this.pause(),s({value:d,done:!!this[Hn]})},c=()=>{this.removeListener("error",u),this.removeListener("data",a),this.removeListener(It,f),r(),s({done:!0})},f=()=>u(new Error("stream destroyed"));return new Promise((d,m)=>{o=m,s=d,this.once(It,f),this.once("error",u),this.once("end",c),this.once("data",a)})},throw:r,return:r,[lR](){return this}}}[fR](){let e=!1,r=()=>(this.pause(),this.removeListener(bv,r),this.removeListener(It,r),this.removeListener("end",r),e=!0,{done:!0}),n=()=>{if(e)return r();let i=this.read();return i===null?r():{value:i}};return this.once("end",r),this.once(bv,r),this.once(It,r),{next:n,throw:r,return:r,[fR](){return this}}}destroy(e){return this[It]?(e?this.emit("error",e):this.emit(It),this):(this[It]=!0,this[Pt].length=0,this[Vt]=0,typeof this.close=="function"&&!this[tf]&&this.close(),e?this.emit("error",e):this.emit(It),this)}static isStream(e){return!!e&&(e instanceof du||e instanceof sR||e instanceof uW&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}};hR.Minipass=du});var mR=L(($9,pR)=>{var hW=require("zlib").constants||{ZLIB_VERNUM:4736};pR.exports=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:1/0,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},hW))});var Nv=L((z9,SR)=>{"use strict";var gR=typeof process=="object"&&process?process:{stdout:null,stderr:null},pW=require("events"),vR=require("stream"),yR=require("string_decoder").StringDecoder,Gn=Symbol("EOF"),Vn=Symbol("maybeEmitEnd"),Si=Symbol("emittedEnd"),uf=Symbol("emittingEnd"),hu=Symbol("emittedError"),cf=Symbol("closed"),_R=Symbol("read"),lf=Symbol("flush"),wR=Symbol("flushChunk"),Cr=Symbol("encoding"),Kn=Symbol("decoder"),ff=Symbol("flowing"),pu=Symbol("paused"),So=Symbol("resume"),Kt=Symbol("bufferLength"),Dv=Symbol("bufferPush"),Ov=Symbol("bufferShift"),sr=Symbol("objectMode"),or=Symbol("destroyed"),xv=Symbol("emitData"),ER=Symbol("emitEnd"),Pv=Symbol("emitEnd2"),Xn=Symbol("async"),mu=t=>Promise.resolve().then(t),bR=global._MP_NO_ITERATOR_SYMBOLS_!=="1",mW=bR&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),gW=bR&&Symbol.iterator||Symbol("iterator not implemented"),vW=t=>t==="end"||t==="finish"||t==="prefinish",yW=t=>t instanceof ArrayBuffer||typeof t=="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0,_W=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t),df=class{constructor(e,r,n){this.src=e,this.dest=r,this.opts=n,this.ondrain=()=>e[So](),r.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},Iv=class extends df{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,r,n){super(e,r,n),this.proxyErrors=i=>r.emit("error",i),e.on("error",this.proxyErrors)}};SR.exports=class CR extends vR{constructor(e){super(),this[ff]=!1,this[pu]=!1,this.pipes=[],this.buffer=[],this[sr]=e&&e.objectMode||!1,this[sr]?this[Cr]=null:this[Cr]=e&&e.encoding||null,this[Cr]==="buffer"&&(this[Cr]=null),this[Xn]=e&&!!e.async||!1,this[Kn]=this[Cr]?new yR(this[Cr]):null,this[Gn]=!1,this[Si]=!1,this[uf]=!1,this[cf]=!1,this[hu]=null,this.writable=!0,this.readable=!0,this[Kt]=0,this[or]=!1}get bufferLength(){return this[Kt]}get encoding(){return this[Cr]}set encoding(e){if(this[sr])throw new Error("cannot set encoding in objectMode");if(this[Cr]&&e!==this[Cr]&&(this[Kn]&&this[Kn].lastNeed||this[Kt]))throw new Error("cannot change encoding");this[Cr]!==e&&(this[Kn]=e?new yR(e):null,this.buffer.length&&(this.buffer=this.buffer.map(r=>this[Kn].write(r)))),this[Cr]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[sr]}set objectMode(e){this[sr]=this[sr]||!!e}get async(){return this[Xn]}set async(e){this[Xn]=this[Xn]||!!e}write(e,r,n){if(this[Gn])throw new Error("write after end");if(this[or])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof r=="function"&&(n=r,r="utf8"),r||(r="utf8");let i=this[Xn]?mu:s=>s();return!this[sr]&&!Buffer.isBuffer(e)&&(_W(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):yW(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),this[sr]?(this.flowing&&this[Kt]!==0&&this[lf](!0),this.flowing?this.emit("data",e):this[Dv](e),this[Kt]!==0&&this.emit("readable"),n&&i(n),this.flowing):e.length?(typeof e=="string"&&!(r===this[Cr]&&!this[Kn].lastNeed)&&(e=Buffer.from(e,r)),Buffer.isBuffer(e)&&this[Cr]&&(e=this[Kn].write(e)),this.flowing&&this[Kt]!==0&&this[lf](!0),this.flowing?this.emit("data",e):this[Dv](e),this[Kt]!==0&&this.emit("readable"),n&&i(n),this.flowing):(this[Kt]!==0&&this.emit("readable"),n&&i(n),this.flowing)}read(e){if(this[or])return null;if(this[Kt]===0||e===0||e>this[Kt])return this[Vn](),null;this[sr]&&(e=null),this.buffer.length>1&&!this[sr]&&(this.encoding?this.buffer=[this.buffer.join("")]:this.buffer=[Buffer.concat(this.buffer,this[Kt])]);let r=this[_R](e||null,this.buffer[0]);return this[Vn](),r}[_R](e,r){return e===r.length||e===null?this[Ov]():(this.buffer[0]=r.slice(e),r=r.slice(0,e),this[Kt]-=e),this.emit("data",r),!this.buffer.length&&!this[Gn]&&this.emit("drain"),r}end(e,r,n){return typeof e=="function"&&(n=e,e=null),typeof r=="function"&&(n=r,r="utf8"),e&&this.write(e,r),n&&this.once("end",n),this[Gn]=!0,this.writable=!1,(this.flowing||!this[pu])&&this[Vn](),this}[So](){this[or]||(this[pu]=!1,this[ff]=!0,this.emit("resume"),this.buffer.length?this[lf]():this[Gn]?this[Vn]():this.emit("drain"))}resume(){return this[So]()}pause(){this[ff]=!1,this[pu]=!0}get destroyed(){return this[or]}get flowing(){return this[ff]}get paused(){return this[pu]}[Dv](e){this[sr]?this[Kt]+=1:this[Kt]+=e.length,this.buffer.push(e)}[Ov](){return this.buffer.length&&(this[sr]?this[Kt]-=1:this[Kt]-=this.buffer[0].length),this.buffer.shift()}[lf](e){do;while(this[wR](this[Ov]()));!e&&!this.buffer.length&&!this[Gn]&&this.emit("drain")}[wR](e){return e?(this.emit("data",e),this.flowing):!1}pipe(e,r){if(this[or])return;let n=this[Si];return r=r||{},e===gR.stdout||e===gR.stderr?r.end=!1:r.end=r.end!==!1,r.proxyErrors=!!r.proxyErrors,n?r.end&&e.end():(this.pipes.push(r.proxyErrors?new Iv(this,e,r):new df(this,e,r)),this[Xn]?mu(()=>this[So]()):this[So]()),e}unpipe(e){let r=this.pipes.find(n=>n.dest===e);r&&(this.pipes.splice(this.pipes.indexOf(r),1),r.unpipe())}addListener(e,r){return this.on(e,r)}on(e,r){let n=super.on(e,r);return e==="data"&&!this.pipes.length&&!this.flowing?this[So]():e==="readable"&&this[Kt]!==0?super.emit("readable"):vW(e)&&this[Si]?(super.emit(e),this.removeAllListeners(e)):e==="error"&&this[hu]&&(this[Xn]?mu(()=>r.call(this,this[hu])):r.call(this,this[hu])),n}get emittedEnd(){return this[Si]}[Vn](){!this[uf]&&!this[Si]&&!this[or]&&this.buffer.length===0&&this[Gn]&&(this[uf]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[cf]&&this.emit("close"),this[uf]=!1)}emit(e,r,...n){if(e!=="error"&&e!=="close"&&e!==or&&this[or])return;if(e==="data")return r?this[Xn]?mu(()=>this[xv](r)):this[xv](r):!1;if(e==="end")return this[ER]();if(e==="close"){if(this[cf]=!0,!this[Si]&&!this[or])return;let s=super.emit("close");return this.removeAllListeners("close"),s}else if(e==="error"){this[hu]=r;let s=super.emit("error",r);return this[Vn](),s}else if(e==="resume"){let s=super.emit("resume");return this[Vn](),s}else if(e==="finish"||e==="prefinish"){let s=super.emit(e);return this.removeAllListeners(e),s}let i=super.emit(e,r,...n);return this[Vn](),i}[xv](e){for(let n of this.pipes)n.dest.write(e)===!1&&this.pause();let r=super.emit("data",e);return this[Vn](),r}[ER](){this[Si]||(this[Si]=!0,this.readable=!1,this[Xn]?mu(()=>this[Pv]()):this[Pv]())}[Pv](){if(this[Kn]){let r=this[Kn].end();if(r){for(let n of this.pipes)n.dest.write(r);super.emit("data",r)}}for(let r of this.pipes)r.end();let e=super.emit("end");return this.removeAllListeners("end"),e}collect(){let e=[];this[sr]||(e.dataLength=0);let r=this.promise();return this.on("data",n=>{e.push(n),this[sr]||(e.dataLength+=n.length)}),r.then(()=>e)}concat(){return this[sr]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[sr]?Promise.reject(new Error("cannot concat in objectMode")):this[Cr]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,r)=>{this.on(or,()=>r(new Error("stream destroyed"))),this.on("error",n=>r(n)),this.on("end",()=>e())})}[mW](){return{next:()=>{let r=this.read();if(r!==null)return Promise.resolve({done:!1,value:r});if(this[Gn])return Promise.resolve({done:!0});let n=null,i=null,s=c=>{this.removeListener("data",o),this.removeListener("end",u),i(c)},o=c=>{this.removeListener("error",s),this.removeListener("end",u),this.pause(),n({value:c,done:!!this[Gn]})},u=()=>{this.removeListener("error",s),this.removeListener("data",o),n({done:!0})},a=()=>s(new Error("stream destroyed"));return new Promise((c,f)=>{i=f,n=c,this.once(or,a),this.once("error",s),this.once("end",u),this.once("data",o)})}}}[gW](){return{next:()=>{let r=this.read();return{value:r,done:r===null}}}}destroy(e){return this[or]?(e?this.emit("error",e):this.emit(or),this):(this[or]=!0,this.buffer.length=0,this[Kt]=0,typeof this.close=="function"&&!this[cf]&&this.close(),e?this.emit("error",e):this.emit(or),this)}static isStream(e){return!!e&&(e instanceof CR||e instanceof vR||e instanceof pW&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}}});var Kv=L(Ir=>{"use strict";var qv=require("assert"),Ti=require("buffer").Buffer,DR=require("zlib"),ws=Ir.constants=mR(),wW=Nv(),TR=Ti.concat,Es=Symbol("_superWrite"),Ro=class extends Error{constructor(e){super("zlib: "+e.message),this.code=e.code,this.errno=e.errno,this.code||(this.code="ZLIB_ERROR"),this.message="zlib: "+e.message,Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}},EW=Symbol("opts"),gu=Symbol("flushFlag"),RR=Symbol("finishFlushFlag"),Vv=Symbol("fullFlushFlag"),dt=Symbol("handle"),hf=Symbol("onError"),To=Symbol("sawError"),Fv=Symbol("level"),Lv=Symbol("strategy"),kv=Symbol("ended"),G9=Symbol("_defaultFullFlush"),pf=class extends wW{constructor(e,r){if(!e||typeof e!="object")throw new TypeError("invalid options for ZlibBase constructor");super(e),this[To]=!1,this[kv]=!1,this[EW]=e,this[gu]=e.flush,this[RR]=e.finishFlush;try{this[dt]=new DR[r](e)}catch(n){throw new Ro(n)}this[hf]=n=>{this[To]||(this[To]=!0,this.close(),this.emit("error",n))},this[dt].on("error",n=>this[hf](new Ro(n))),this.once("end",()=>this.close)}close(){this[dt]&&(this[dt].close(),this[dt]=null,this.emit("close"))}reset(){if(!this[To])return qv(this[dt],"zlib binding closed"),this[dt].reset()}flush(e){this.ended||(typeof e!="number"&&(e=this[Vv]),this.write(Object.assign(Ti.alloc(0),{[gu]:e})))}end(e,r,n){return e&&this.write(e,r),this.flush(this[RR]),this[kv]=!0,super.end(null,null,n)}get ended(){return this[kv]}write(e,r,n){if(typeof r=="function"&&(n=r,r="utf8"),typeof e=="string"&&(e=Ti.from(e,r)),this[To])return;qv(this[dt],"zlib binding closed");let i=this[dt]._handle,s=i.close;i.close=()=>{};let o=this[dt].close;this[dt].close=()=>{},Ti.concat=c=>c;let u;try{let c=typeof e[gu]=="number"?e[gu]:this[gu];u=this[dt]._processChunk(e,c),Ti.concat=TR}catch(c){Ti.concat=TR,this[hf](new Ro(c))}finally{this[dt]&&(this[dt]._handle=i,i.close=s,this[dt].close=o,this[dt].removeAllListeners("error"))}this[dt]&&this[dt].on("error",c=>this[hf](new Ro(c)));let a;if(u)if(Array.isArray(u)&&u.length>0){a=this[Es](Ti.from(u[0]));for(let c=1;c<u.length;c++)a=this[Es](u[c])}else a=this[Es](Ti.from(u));return n&&n(),a}[Es](e){return super.write(e)}},Yn=class extends pf{constructor(e,r){e=e||{},e.flush=e.flush||ws.Z_NO_FLUSH,e.finishFlush=e.finishFlush||ws.Z_FINISH,super(e,r),this[Vv]=ws.Z_FULL_FLUSH,this[Fv]=e.level,this[Lv]=e.strategy}params(e,r){if(!this[To]){if(!this[dt])throw new Error("cannot switch params when binding is closed");if(!this[dt].params)throw new Error("not supported in this implementation");if(this[Fv]!==e||this[Lv]!==r){this.flush(ws.Z_SYNC_FLUSH),qv(this[dt],"zlib binding closed");let n=this[dt].flush;this[dt].flush=(i,s)=>{this.flush(i),s()};try{this[dt].params(e,r)}finally{this[dt].flush=n}this[dt]&&(this[Fv]=e,this[Lv]=r)}}}},Mv=class extends Yn{constructor(e){super(e,"Deflate")}},jv=class extends Yn{constructor(e){super(e,"Inflate")}},Av=Symbol("_portable"),Uv=class extends Yn{constructor(e){super(e,"Gzip"),this[Av]=e&&!!e.portable}[Es](e){return this[Av]?(this[Av]=!1,e[9]=255,super[Es](e)):super[Es](e)}},Bv=class extends Yn{constructor(e){super(e,"Gunzip")}},Hv=class extends Yn{constructor(e){super(e,"DeflateRaw")}},Wv=class extends Yn{constructor(e){super(e,"InflateRaw")}},$v=class extends Yn{constructor(e){super(e,"Unzip")}},mf=class extends pf{constructor(e,r){e=e||{},e.flush=e.flush||ws.BROTLI_OPERATION_PROCESS,e.finishFlush=e.finishFlush||ws.BROTLI_OPERATION_FINISH,super(e,r),this[Vv]=ws.BROTLI_OPERATION_FLUSH}},zv=class extends mf{constructor(e){super(e,"BrotliCompress")}},Gv=class extends mf{constructor(e){super(e,"BrotliDecompress")}};Ir.Deflate=Mv;Ir.Inflate=jv;Ir.Gzip=Uv;Ir.Gunzip=Bv;Ir.DeflateRaw=Hv;Ir.InflateRaw=Wv;Ir.Unzip=$v;typeof DR.BrotliCompress=="function"?(Ir.BrotliCompress=zv,Ir.BrotliDecompress=Gv):Ir.BrotliCompress=Ir.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}}});var Do=L((X9,OR)=>{var bW=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform;OR.exports=bW!=="win32"?t=>t:t=>t&&t.replace(/\\/g,"/")});var gf=L((J9,xR)=>{"use strict";var{Minipass:CW}=af(),Xv=Do(),Yv=Symbol("slurp");xR.exports=class extends CW{constructor(e,r,n){switch(super(),this.pause(),this.extended=r,this.globalExtended=n,this.header=e,this.startBlockSize=512*Math.ceil(e.size/512),this.blockRemain=this.startBlockSize,this.remain=e.size,this.type=e.type,this.meta=!1,this.ignore=!1,this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=!0;break;default:this.ignore=!0}this.path=Xv(e.path),this.mode=e.mode,this.mode&&(this.mode=this.mode&4095),this.uid=e.uid,this.gid=e.gid,this.uname=e.uname,this.gname=e.gname,this.size=e.size,this.mtime=e.mtime,this.atime=e.atime,this.ctime=e.ctime,this.linkpath=Xv(e.linkpath),this.uname=e.uname,this.gname=e.gname,r&&this[Yv](r),n&&this[Yv](n,!0)}write(e){let r=e.length;if(r>this.blockRemain)throw new Error("writing more to entry than is appropriate");let n=this.remain,i=this.blockRemain;return this.remain=Math.max(0,n-r),this.blockRemain=Math.max(0,i-r),this.ignore?!0:n>=r?super.write(e):super.write(e.slice(0,n))}[Yv](e,r){for(let n in e)e[n]!==null&&e[n]!==void 0&&!(r&&n==="path")&&(this[n]=n==="path"||n==="linkpath"?Xv(e[n]):e[n])}}});var Jv=L(vf=>{"use strict";vf.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]);vf.code=new Map(Array.from(vf.name).map(t=>[t[1],t[0]]))});var FR=L((Q9,NR)=>{"use strict";var SW=(t,e)=>{if(Number.isSafeInteger(t))t<0?RW(t,e):TW(t,e);else throw Error("cannot encode number outside of javascript safe integer range");return e},TW=(t,e)=>{e[0]=128;for(var r=e.length;r>1;r--)e[r-1]=t&255,t=Math.floor(t/256)},RW=(t,e)=>{e[0]=255;var r=!1;t=t*-1;for(var n=e.length;n>1;n--){var i=t&255;t=Math.floor(t/256),r?e[n-1]=PR(i):i===0?e[n-1]=0:(r=!0,e[n-1]=IR(i))}},DW=t=>{let e=t[0],r=e===128?xW(t.slice(1,t.length)):e===255?OW(t):null;if(r===null)throw Error("invalid base256 encoding");if(!Number.isSafeInteger(r))throw Error("parsed number outside of javascript safe integer range");return r},OW=t=>{for(var e=t.length,r=0,n=!1,i=e-1;i>-1;i--){var s=t[i],o;n?o=PR(s):s===0?o=s:(n=!0,o=IR(s)),o!==0&&(r-=o*Math.pow(256,e-i-1))}return r},xW=t=>{for(var e=t.length,r=0,n=e-1;n>-1;n--){var i=t[n];i!==0&&(r+=i*Math.pow(256,e-n-1))}return r},PR=t=>(255^t)&255,IR=t=>(255^t)+1&255;NR.exports={encode:SW,parse:DW}});var xo=L((eK,kR)=>{"use strict";var Zv=Jv(),Oo=require("path").posix,LR=FR(),Qv=Symbol("slurp"),Nr=Symbol("type"),ry=class{constructor(e,r,n,i){this.cksumValid=!1,this.needPax=!1,this.nullBlock=!1,this.block=null,this.path=null,this.mode=null,this.uid=null,this.gid=null,this.size=null,this.mtime=null,this.cksum=null,this[Nr]="0",this.linkpath=null,this.uname=null,this.gname=null,this.devmaj=0,this.devmin=0,this.atime=null,this.ctime=null,Buffer.isBuffer(e)?this.decode(e,r||0,n,i):e&&this.set(e)}decode(e,r,n,i){if(r||(r=0),!e||!(e.length>=r+512))throw new Error("need 512 bytes for header");if(this.path=bs(e,r,100),this.mode=Ri(e,r+100,8),this.uid=Ri(e,r+108,8),this.gid=Ri(e,r+116,8),this.size=Ri(e,r+124,12),this.mtime=ey(e,r+136,12),this.cksum=Ri(e,r+148,12),this[Qv](n),this[Qv](i,!0),this[Nr]=bs(e,r+156,1),this[Nr]===""&&(this[Nr]="0"),this[Nr]==="0"&&this.path.slice(-1)==="/"&&(this[Nr]="5"),this[Nr]==="5"&&(this.size=0),this.linkpath=bs(e,r+157,100),e.slice(r+257,r+265).toString()==="ustar\x0000")if(this.uname=bs(e,r+265,32),this.gname=bs(e,r+297,32),this.devmaj=Ri(e,r+329,8),this.devmin=Ri(e,r+337,8),e[r+475]!==0){let o=bs(e,r+345,155);this.path=o+"/"+this.path}else{let o=bs(e,r+345,130);o&&(this.path=o+"/"+this.path),this.atime=ey(e,r+476,12),this.ctime=ey(e,r+488,12)}let s=8*32;for(let o=r;o<r+148;o++)s+=e[o];for(let o=r+156;o<r+512;o++)s+=e[o];this.cksumValid=s===this.cksum,this.cksum===null&&s===8*32&&(this.nullBlock=!0)}[Qv](e,r){for(let n in e)e[n]!==null&&e[n]!==void 0&&!(r&&n==="path")&&(this[n]=e[n])}encode(e,r){if(e||(e=this.block=Buffer.alloc(512),r=0),r||(r=0),!(e.length>=r+512))throw new Error("need 512 bytes for header");let n=this.ctime||this.atime?130:155,i=PW(this.path||"",n),s=i[0],o=i[1];this.needPax=i[2],this.needPax=Cs(e,r,100,s)||this.needPax,this.needPax=Di(e,r+100,8,this.mode)||this.needPax,this.needPax=Di(e,r+108,8,this.uid)||this.needPax,this.needPax=Di(e,r+116,8,this.gid)||this.needPax,this.needPax=Di(e,r+124,12,this.size)||this.needPax,this.needPax=ty(e,r+136,12,this.mtime)||this.needPax,e[r+156]=this[Nr].charCodeAt(0),this.needPax=Cs(e,r+157,100,this.linkpath)||this.needPax,e.write("ustar\x0000",r+257,8),this.needPax=Cs(e,r+265,32,this.uname)||this.needPax,this.needPax=Cs(e,r+297,32,this.gname)||this.needPax,this.needPax=Di(e,r+329,8,this.devmaj)||this.needPax,this.needPax=Di(e,r+337,8,this.devmin)||this.needPax,this.needPax=Cs(e,r+345,n,o)||this.needPax,e[r+475]!==0?this.needPax=Cs(e,r+345,155,o)||this.needPax:(this.needPax=Cs(e,r+345,130,o)||this.needPax,this.needPax=ty(e,r+476,12,this.atime)||this.needPax,this.needPax=ty(e,r+488,12,this.ctime)||this.needPax);let u=8*32;for(let a=r;a<r+148;a++)u+=e[a];for(let a=r+156;a<r+512;a++)u+=e[a];return this.cksum=u,Di(e,r+148,8,this.cksum),this.cksumValid=!0,this.needPax}set(e){for(let r in e)e[r]!==null&&e[r]!==void 0&&(this[r]=e[r])}get type(){return Zv.name.get(this[Nr])||this[Nr]}get typeKey(){return this[Nr]}set type(e){Zv.code.has(e)?this[Nr]=Zv.code.get(e):this[Nr]=e}},PW=(t,e)=>{let n=t,i="",s,o=Oo.parse(t).root||".";if(Buffer.byteLength(n)<100)s=[n,i,!1];else{i=Oo.dirname(n),n=Oo.basename(n);do Buffer.byteLength(n)<=100&&Buffer.byteLength(i)<=e?s=[n,i,!1]:Buffer.byteLength(n)>100&&Buffer.byteLength(i)<=e?s=[n.slice(0,100-1),i,!0]:(n=Oo.join(Oo.basename(i),n),i=Oo.dirname(i));while(i!==o&&!s);s||(s=[t.slice(0,100-1),"",!0])}return s},bs=(t,e,r)=>t.slice(e,e+r).toString("utf8").replace(/\0.*/,""),ey=(t,e,r)=>IW(Ri(t,e,r)),IW=t=>t===null?null:new Date(t*1e3),Ri=(t,e,r)=>t[e]&128?LR.parse(t.slice(e,e+r)):FW(t,e,r),NW=t=>isNaN(t)?null:t,FW=(t,e,r)=>NW(parseInt(t.slice(e,e+r).toString("utf8").replace(/\0.*$/,"").trim(),8)),LW={12:8589934591,8:2097151},Di=(t,e,r,n)=>n===null?!1:n>LW[r]||n<0?(LR.encode(n,t.slice(e,e+r)),!0):(kW(t,e,r,n),!1),kW=(t,e,r,n)=>t.write(AW(n,r),e,r,"ascii"),AW=(t,e)=>qW(Math.floor(t).toString(8),e),qW=(t,e)=>(t.length===e-1?t:new Array(e-t.length-1).join("0")+t+" ")+"\0",ty=(t,e,r,n)=>n===null?!1:Di(t,e,r,n.getTime()/1e3),MW=new Array(156).join("\0"),Cs=(t,e,r,n)=>n===null?!1:(t.write(n+MW,e,r,"utf8"),n.length!==Buffer.byteLength(n)||n.length>r);kR.exports=ry});var yf=L((tK,AR)=>{"use strict";var jW=xo(),UW=require("path"),vu=class{constructor(e,r){this.atime=e.atime||null,this.charset=e.charset||null,this.comment=e.comment||null,this.ctime=e.ctime||null,this.gid=e.gid||null,this.gname=e.gname||null,this.linkpath=e.linkpath||null,this.mtime=e.mtime||null,this.path=e.path||null,this.size=e.size||null,this.uid=e.uid||null,this.uname=e.uname||null,this.dev=e.dev||null,this.ino=e.ino||null,this.nlink=e.nlink||null,this.global=r||!1}encode(){let e=this.encodeBody();if(e==="")return null;let r=Buffer.byteLength(e),n=512*Math.ceil(1+r/512),i=Buffer.allocUnsafe(n);for(let s=0;s<512;s++)i[s]=0;new jW({path:("PaxHeader/"+UW.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:r,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(i),i.write(e,512,r,"utf8");for(let s=r+512;s<i.length;s++)i[s]=0;return i}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(e){if(this[e]===null||this[e]===void 0)return"";let r=this[e]instanceof Date?this[e].getTime()/1e3:this[e],n=" "+(e==="dev"||e==="ino"||e==="nlink"?"SCHILY.":"")+e+"="+r+`
`,i=Buffer.byteLength(n),s=Math.floor(Math.log(i)/Math.log(10))+1;return i+s>=Math.pow(10,s)&&(s+=1),s+i+n}};vu.parse=(t,e,r)=>new vu(BW(HW(t),e),r);var BW=(t,e)=>e?Object.keys(t).reduce((r,n)=>(r[n]=t[n],r),e):t,HW=t=>t.replace(/\n$/,"").split(`
`).reduce(WW,Object.create(null)),WW=(t,e)=>{let r=parseInt(e,10);if(r!==Buffer.byteLength(e)+1)return t;e=e.slice((r+" ").length);let n=e.split("="),i=n.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!i)return t;let s=n.join("=");return t[i]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(i)?new Date(s*1e3):/^[0-9]+$/.test(s)?+s:s,t};AR.exports=vu});var Po=L((rK,qR)=>{qR.exports=t=>{let e=t.length-1,r=-1;for(;e>-1&&t.charAt(e)==="/";)r=e,e--;return r===-1?t:t.slice(0,r)}});var _f=L((nK,MR)=>{"use strict";MR.exports=t=>class extends t{warn(e,r,n={}){this.file&&(n.file=this.file),this.cwd&&(n.cwd=this.cwd),n.code=r instanceof Error&&r.code||e,n.tarCode=e,!this.strict&&n.recoverable!==!1?(r instanceof Error&&(n=Object.assign(r,n),r=r.message),this.emit("warn",n.tarCode,r,n)):r instanceof Error?this.emit("error",Object.assign(r,n)):this.emit("error",Object.assign(new Error(`${e}: ${r}`),n))}}});var iy=L((sK,jR)=>{"use strict";var wf=["|","<",">","?",":"],ny=wf.map(t=>String.fromCharCode(61440+t.charCodeAt(0))),$W=new Map(wf.map((t,e)=>[t,ny[e]])),zW=new Map(ny.map((t,e)=>[t,wf[e]]));jR.exports={encode:t=>wf.reduce((e,r)=>e.split(r).join($W.get(r)),t),decode:t=>ny.reduce((e,r)=>e.split(r).join(zW.get(r)),t)}});var sy=L((oK,BR)=>{var{isAbsolute:GW,parse:UR}=require("path").win32;BR.exports=t=>{let e="",r=UR(t);for(;GW(t)||r.root;){let n=t.charAt(0)==="/"&&t.slice(0,4)!=="//?/"?"/":r.root;t=t.slice(n.length),e+=n,r=UR(t)}return[e,t]}});var WR=L((aK,HR)=>{"use strict";HR.exports=(t,e,r)=>(t&=4095,r&&(t=(t|384)&-19),e&&(t&256&&(t|=64),t&32&&(t|=8),t&4&&(t|=1)),t)});var my=L((lK,nD)=>{"use strict";var{Minipass:YR}=af(),JR=yf(),ZR=xo(),yn=require("fs"),$R=require("path"),vn=Do(),VW=Po(),QR=(t,e)=>e?(t=vn(t).replace(/^\.(\/|$)/,""),VW(e)+"/"+t):vn(t),KW=16*1024*1024,zR=Symbol("process"),GR=Symbol("file"),VR=Symbol("directory"),ay=Symbol("symlink"),KR=Symbol("hardlink"),yu=Symbol("header"),Ef=Symbol("read"),uy=Symbol("lstat"),bf=Symbol("onlstat"),cy=Symbol("onread"),ly=Symbol("onreadlink"),fy=Symbol("openfile"),dy=Symbol("onopenfile"),Oi=Symbol("close"),Cf=Symbol("mode"),hy=Symbol("awaitDrain"),oy=Symbol("ondrain"),_n=Symbol("prefix"),XR=Symbol("hadError"),eD=_f(),XW=iy(),tD=sy(),rD=WR(),Sf=eD(class extends YR{constructor(e,r){if(r=r||{},super(r),typeof e!="string")throw new TypeError("path is required");this.path=vn(e),this.portable=!!r.portable,this.myuid=process.getuid&&process.getuid()||0,this.myuser=process.env.USER||"",this.maxReadSize=r.maxReadSize||KW,this.linkCache=r.linkCache||new Map,this.statCache=r.statCache||new Map,this.preservePaths=!!r.preservePaths,this.cwd=vn(r.cwd||process.cwd()),this.strict=!!r.strict,this.noPax=!!r.noPax,this.noMtime=!!r.noMtime,this.mtime=r.mtime||null,this.prefix=r.prefix?vn(r.prefix):null,this.fd=null,this.blockLen=null,this.blockRemain=null,this.buf=null,this.offset=null,this.length=null,this.pos=null,this.remain=null,typeof r.onwarn=="function"&&this.on("warn",r.onwarn);let n=!1;if(!this.preservePaths){let[i,s]=tD(this.path);i&&(this.path=s,n=i)}this.win32=!!r.win32||process.platform==="win32",this.win32&&(this.path=XW.decode(this.path.replace(/\\/g,"/")),e=e.replace(/\\/g,"/")),this.absolute=vn(r.absolute||$R.resolve(this.cwd,e)),this.path===""&&(this.path="./"),n&&this.warn("TAR_ENTRY_INFO",`stripping ${n} from absolute path`,{entry:this,path:n+this.path}),this.statCache.has(this.absolute)?this[bf](this.statCache.get(this.absolute)):this[uy]()}emit(e,...r){return e==="error"&&(this[XR]=!0),super.emit(e,...r)}[uy](){yn.lstat(this.absolute,(e,r)=>{if(e)return this.emit("error",e);this[bf](r)})}[bf](e){this.statCache.set(this.absolute,e),this.stat=e,e.isFile()||(e.size=0),this.type=JW(e),this.emit("stat",e),this[zR]()}[zR](){switch(this.type){case"File":return this[GR]();case"Directory":return this[VR]();case"SymbolicLink":return this[ay]();default:return this.end()}}[Cf](e){return rD(e,this.type==="Directory",this.portable)}[_n](e){return QR(e,this.prefix)}[yu](){this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.header=new ZR({path:this[_n](this.path),linkpath:this.type==="Link"?this[_n](this.linkpath):this.linkpath,mode:this[Cf](this.stat.mode),uid:this.portable?null:this.stat.uid,gid:this.portable?null:this.stat.gid,size:this.stat.size,mtime:this.noMtime?null:this.mtime||this.stat.mtime,type:this.type,uname:this.portable?null:this.stat.uid===this.myuid?this.myuser:"",atime:this.portable?null:this.stat.atime,ctime:this.portable?null:this.stat.ctime}),this.header.encode()&&!this.noPax&&super.write(new JR({atime:this.portable?null:this.header.atime,ctime:this.portable?null:this.header.ctime,gid:this.portable?null:this.header.gid,mtime:this.noMtime?null:this.mtime||this.header.mtime,path:this[_n](this.path),linkpath:this.type==="Link"?this[_n](this.linkpath):this.linkpath,size:this.header.size,uid:this.portable?null:this.header.uid,uname:this.portable?null:this.header.uname,dev:this.portable?null:this.stat.dev,ino:this.portable?null:this.stat.ino,nlink:this.portable?null:this.stat.nlink}).encode()),super.write(this.header.block)}[VR](){this.path.slice(-1)!=="/"&&(this.path+="/"),this.stat.size=0,this[yu](),this.end()}[ay](){yn.readlink(this.absolute,(e,r)=>{if(e)return this.emit("error",e);this[ly](r)})}[ly](e){this.linkpath=vn(e),this[yu](),this.end()}[KR](e){this.type="Link",this.linkpath=vn($R.relative(this.cwd,e)),this.stat.size=0,this[yu](),this.end()}[GR](){if(this.stat.nlink>1){let e=this.stat.dev+":"+this.stat.ino;if(this.linkCache.has(e)){let r=this.linkCache.get(e);if(r.indexOf(this.cwd)===0)return this[KR](r)}this.linkCache.set(e,this.absolute)}if(this[yu](),this.stat.size===0)return this.end();this[fy]()}[fy](){yn.open(this.absolute,"r",(e,r)=>{if(e)return this.emit("error",e);this[dy](r)})}[dy](e){if(this.fd=e,this[XR])return this[Oi]();this.blockLen=512*Math.ceil(this.stat.size/512),this.blockRemain=this.blockLen;let r=Math.min(this.blockLen,this.maxReadSize);this.buf=Buffer.allocUnsafe(r),this.offset=0,this.pos=0,this.remain=this.stat.size,this.length=this.buf.length,this[Ef]()}[Ef](){let{fd:e,buf:r,offset:n,length:i,pos:s}=this;yn.read(e,r,n,i,s,(o,u)=>{if(o)return this[Oi](()=>this.emit("error",o));this[cy](u)})}[Oi](e){yn.close(this.fd,e)}[cy](e){if(e<=0&&this.remain>0){let i=new Error("encountered unexpected EOF");return i.path=this.absolute,i.syscall="read",i.code="EOF",this[Oi](()=>this.emit("error",i))}if(e>this.remain){let i=new Error("did not encounter expected EOF");return i.path=this.absolute,i.syscall="read",i.code="EOF",this[Oi](()=>this.emit("error",i))}if(e===this.remain)for(let i=e;i<this.length&&e<this.blockRemain;i++)this.buf[i+this.offset]=0,e++,this.remain++;let r=this.offset===0&&e===this.buf.length?this.buf:this.buf.slice(this.offset,this.offset+e);this.write(r)?this[oy]():this[hy](()=>this[oy]())}[hy](e){this.once("drain",e)}write(e){if(this.blockRemain<e.length){let r=new Error("writing more data than expected");return r.path=this.absolute,this.emit("error",r)}return this.remain-=e.length,this.blockRemain-=e.length,this.pos+=e.length,this.offset+=e.length,super.write(e)}[oy](){if(!this.remain)return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),this[Oi](e=>e?this.emit("error",e):this.end());this.offset>=this.length&&(this.buf=Buffer.allocUnsafe(Math.min(this.blockRemain,this.buf.length)),this.offset=0),this.length=this.buf.length-this.offset,this[Ef]()}}),py=class extends Sf{[uy](){this[bf](yn.lstatSync(this.absolute))}[ay](){this[ly](yn.readlinkSync(this.absolute))}[fy](){this[dy](yn.openSync(this.absolute,"r"))}[Ef](){let e=!0;try{let{fd:r,buf:n,offset:i,length:s,pos:o}=this,u=yn.readSync(r,n,i,s,o);this[cy](u),e=!1}finally{if(e)try{this[Oi](()=>{})}catch{}}}[hy](e){e()}[Oi](e){yn.closeSync(this.fd),e()}},YW=eD(class extends YR{constructor(e,r){r=r||{},super(r),this.preservePaths=!!r.preservePaths,this.portable=!!r.portable,this.strict=!!r.strict,this.noPax=!!r.noPax,this.noMtime=!!r.noMtime,this.readEntry=e,this.type=e.type,this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.prefix=r.prefix||null,this.path=vn(e.path),this.mode=this[Cf](e.mode),this.uid=this.portable?null:e.uid,this.gid=this.portable?null:e.gid,this.uname=this.portable?null:e.uname,this.gname=this.portable?null:e.gname,this.size=e.size,this.mtime=this.noMtime?null:r.mtime||e.mtime,this.atime=this.portable?null:e.atime,this.ctime=this.portable?null:e.ctime,this.linkpath=vn(e.linkpath),typeof r.onwarn=="function"&&this.on("warn",r.onwarn);let n=!1;if(!this.preservePaths){let[i,s]=tD(this.path);i&&(this.path=s,n=i)}this.remain=e.size,this.blockRemain=e.startBlockSize,this.header=new ZR({path:this[_n](this.path),linkpath:this.type==="Link"?this[_n](this.linkpath):this.linkpath,mode:this.mode,uid:this.portable?null:this.uid,gid:this.portable?null:this.gid,size:this.size,mtime:this.noMtime?null:this.mtime,type:this.type,uname:this.portable?null:this.uname,atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime}),n&&this.warn("TAR_ENTRY_INFO",`stripping ${n} from absolute path`,{entry:this,path:n+this.path}),this.header.encode()&&!this.noPax&&super.write(new JR({atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime,gid:this.portable?null:this.gid,mtime:this.noMtime?null:this.mtime,path:this[_n](this.path),linkpath:this.type==="Link"?this[_n](this.linkpath):this.linkpath,size:this.size,uid:this.portable?null:this.uid,uname:this.portable?null:this.uname,dev:this.portable?null:this.readEntry.dev,ino:this.portable?null:this.readEntry.ino,nlink:this.portable?null:this.readEntry.nlink}).encode()),super.write(this.header.block),e.pipe(this)}[_n](e){return QR(e,this.prefix)}[Cf](e){return rD(e,this.type==="Directory",this.portable)}write(e){let r=e.length;if(r>this.blockRemain)throw new Error("writing more to entry than is appropriate");return this.blockRemain-=r,super.write(e)}end(){return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),super.end()}});Sf.Sync=py;Sf.Tar=YW;var JW=t=>t.isFile()?"File":t.isDirectory()?"Directory":t.isSymbolicLink()?"SymbolicLink":"Unsupported";nD.exports=Sf});var sD=L((fK,iD)=>{"use strict";iD.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var gy=L((dK,oD)=>{"use strict";oD.exports=$e;$e.Node=Ss;$e.create=$e;function $e(t){var e=this;if(e instanceof $e||(e=new $e),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}$e.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};$e.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};$e.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};$e.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)QW(this,arguments[t]);return this.length};$e.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)e6(this,arguments[t]);return this.length};$e.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};$e.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};$e.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};$e.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};$e.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};$e.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};$e.prototype.map=function(t,e){e=e||this;for(var r=new $e,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};$e.prototype.mapReverse=function(t,e){e=e||this;for(var r=new $e,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};$e.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};$e.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};$e.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};$e.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};$e.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new $e;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};$e.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new $e;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};$e.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var s=[],n=0;i&&n<e;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=ZW(this,i,r[n]);return s};$e.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function ZW(t,e,r){var n=e===t.head?new Ss(r,null,e,t):new Ss(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function QW(t,e){t.tail=new Ss(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function e6(t,e){t.head=new Ss(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function Ss(t,e,r,n){if(!(this instanceof Ss))return new Ss(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{sD()($e)}catch{}});var Ff=L((pK,hD)=>{"use strict";var If=class{constructor(e,r){this.path=e||"./",this.absolute=r,this.entry=null,this.stat=null,this.readdir=null,this.pending=!1,this.ignore=!1,this.piped=!1}},{Minipass:t6}=af(),r6=Kv(),n6=gf(),Ty=my(),i6=Ty.Sync,s6=Ty.Tar,o6=gy(),aD=Buffer.alloc(1024),Df=Symbol("onStat"),Tf=Symbol("ended"),wn=Symbol("queue"),Io=Symbol("current"),Ts=Symbol("process"),Rf=Symbol("processing"),uD=Symbol("processJob"),En=Symbol("jobs"),vy=Symbol("jobDone"),Of=Symbol("addFSEntry"),cD=Symbol("addTarEntry"),Ey=Symbol("stat"),by=Symbol("readdir"),xf=Symbol("onreaddir"),Pf=Symbol("pipe"),lD=Symbol("entry"),yy=Symbol("entryOpt"),Cy=Symbol("writeEntryClass"),dD=Symbol("write"),_y=Symbol("ondrain"),Nf=require("fs"),fD=require("path"),a6=_f(),wy=Do(),Ry=a6(class extends t6{constructor(e){super(e),e=e||Object.create(null),this.opt=e,this.file=e.file||"",this.cwd=e.cwd||process.cwd(),this.maxReadSize=e.maxReadSize,this.preservePaths=!!e.preservePaths,this.strict=!!e.strict,this.noPax=!!e.noPax,this.prefix=wy(e.prefix||""),this.linkCache=e.linkCache||new Map,this.statCache=e.statCache||new Map,this.readdirCache=e.readdirCache||new Map,this[Cy]=Ty,typeof e.onwarn=="function"&&this.on("warn",e.onwarn),this.portable=!!e.portable,this.zip=null,e.gzip?(typeof e.gzip!="object"&&(e.gzip={}),this.portable&&(e.gzip.portable=!0),this.zip=new r6.Gzip(e.gzip),this.zip.on("data",r=>super.write(r)),this.zip.on("end",r=>super.end()),this.zip.on("drain",r=>this[_y]()),this.on("resume",r=>this.zip.resume())):this.on("drain",this[_y]),this.noDirRecurse=!!e.noDirRecurse,this.follow=!!e.follow,this.noMtime=!!e.noMtime,this.mtime=e.mtime||null,this.filter=typeof e.filter=="function"?e.filter:r=>!0,this[wn]=new o6,this[En]=0,this.jobs=+e.jobs||4,this[Rf]=!1,this[Tf]=!1}[dD](e){return super.write(e)}add(e){return this.write(e),this}end(e){return e&&this.write(e),this[Tf]=!0,this[Ts](),this}write(e){if(this[Tf])throw new Error("write after end");return e instanceof n6?this[cD](e):this[Of](e),this.flowing}[cD](e){let r=wy(fD.resolve(this.cwd,e.path));if(!this.filter(e.path,e))e.resume();else{let n=new If(e.path,r,!1);n.entry=new s6(e,this[yy](n)),n.entry.on("end",i=>this[vy](n)),this[En]+=1,this[wn].push(n)}this[Ts]()}[Of](e){let r=wy(fD.resolve(this.cwd,e));this[wn].push(new If(e,r)),this[Ts]()}[Ey](e){e.pending=!0,this[En]+=1;let r=this.follow?"stat":"lstat";Nf[r](e.absolute,(n,i)=>{e.pending=!1,this[En]-=1,n?this.emit("error",n):this[Df](e,i)})}[Df](e,r){this.statCache.set(e.absolute,r),e.stat=r,this.filter(e.path,r)||(e.ignore=!0),this[Ts]()}[by](e){e.pending=!0,this[En]+=1,Nf.readdir(e.absolute,(r,n)=>{if(e.pending=!1,this[En]-=1,r)return this.emit("error",r);this[xf](e,n)})}[xf](e,r){this.readdirCache.set(e.absolute,r),e.readdir=r,this[Ts]()}[Ts](){if(!this[Rf]){this[Rf]=!0;for(let e=this[wn].head;e!==null&&this[En]<this.jobs;e=e.next)if(this[uD](e.value),e.value.ignore){let r=e.next;this[wn].removeNode(e),e.next=r}this[Rf]=!1,this[Tf]&&!this[wn].length&&this[En]===0&&(this.zip?this.zip.end(aD):(super.write(aD),super.end()))}}get[Io](){return this[wn]&&this[wn].head&&this[wn].head.value}[vy](e){this[wn].shift(),this[En]-=1,this[Ts]()}[uD](e){if(!e.pending){if(e.entry){e===this[Io]&&!e.piped&&this[Pf](e);return}if(e.stat||(this.statCache.has(e.absolute)?this[Df](e,this.statCache.get(e.absolute)):this[Ey](e)),!!e.stat&&!e.ignore&&!(!this.noDirRecurse&&e.stat.isDirectory()&&!e.readdir&&(this.readdirCache.has(e.absolute)?this[xf](e,this.readdirCache.get(e.absolute)):this[by](e),!e.readdir))){if(e.entry=this[lD](e),!e.entry){e.ignore=!0;return}e===this[Io]&&!e.piped&&this[Pf](e)}}}[yy](e){return{onwarn:(r,n,i)=>this.warn(r,n,i),noPax:this.noPax,cwd:this.cwd,absolute:e.absolute,preservePaths:this.preservePaths,maxReadSize:this.maxReadSize,strict:this.strict,portable:this.portable,linkCache:this.linkCache,statCache:this.statCache,noMtime:this.noMtime,mtime:this.mtime,prefix:this.prefix}}[lD](e){this[En]+=1;try{return new this[Cy](e.path,this[yy](e)).on("end",()=>this[vy](e)).on("error",r=>this.emit("error",r))}catch(r){this.emit("error",r)}}[_y](){this[Io]&&this[Io].entry&&this[Io].entry.resume()}[Pf](e){e.piped=!0,e.readdir&&e.readdir.forEach(i=>{let s=e.path,o=s==="./"?"":s.replace(/\/*$/,"/");this[Of](o+i)});let r=e.entry,n=this.zip;n?r.on("data",i=>{n.write(i)||r.pause()}):r.on("data",i=>{super.write(i)||r.pause()})}pause(){return this.zip&&this.zip.pause(),super.pause()}}),Sy=class extends Ry{constructor(e){super(e),this[Cy]=i6}pause(){}resume(){}[Ey](e){let r=this.follow?"statSync":"lstatSync";this[Df](e,Nf[r](e.absolute))}[by](e,r){this[xf](e,Nf.readdirSync(e.absolute))}[Pf](e){let r=e.entry,n=this.zip;e.readdir&&e.readdir.forEach(i=>{let s=e.path,o=s==="./"?"":s.replace(/\/*$/,"/");this[Of](o+i)}),n?r.on("data",i=>{n.write(i)}):r.on("data",i=>{super[dD](i)})}};Ry.Sync=Sy;hD.exports=Ry});var jo=L(wu=>{"use strict";var u6=Nv(),c6=require("events").EventEmitter,Sr=require("fs"),xy=Sr.writev;if(!xy){let t=process.binding("fs"),e=t.FSReqWrap||t.FSReqCallback;xy=(r,n,i,s)=>{let o=(a,c)=>s(a,c,n),u=new e;u.oncomplete=o,t.writeBuffers(r,n,i,u)}}var qo=Symbol("_autoClose"),un=Symbol("_close"),_u=Symbol("_ended"),at=Symbol("_fd"),pD=Symbol("_finished"),Pi=Symbol("_flags"),Dy=Symbol("_flush"),Py=Symbol("_handleChunk"),Iy=Symbol("_makeBuf"),Mf=Symbol("_mode"),Lf=Symbol("_needDrain"),ko=Symbol("_onerror"),Mo=Symbol("_onopen"),Oy=Symbol("_onread"),Fo=Symbol("_onwrite"),Ii=Symbol("_open"),Jn=Symbol("_path"),Rs=Symbol("_pos"),bn=Symbol("_queue"),Lo=Symbol("_read"),mD=Symbol("_readSize"),xi=Symbol("_reading"),kf=Symbol("_remain"),gD=Symbol("_size"),Af=Symbol("_write"),No=Symbol("_writing"),qf=Symbol("_defaultFlag"),Ao=Symbol("_errored"),jf=class extends u6{constructor(e,r){if(r=r||{},super(r),this.readable=!0,this.writable=!1,typeof e!="string")throw new TypeError("path must be a string");this[Ao]=!1,this[at]=typeof r.fd=="number"?r.fd:null,this[Jn]=e,this[mD]=r.readSize||16*1024*1024,this[xi]=!1,this[gD]=typeof r.size=="number"?r.size:1/0,this[kf]=this[gD],this[qo]=typeof r.autoClose=="boolean"?r.autoClose:!0,typeof this[at]=="number"?this[Lo]():this[Ii]()}get fd(){return this[at]}get path(){return this[Jn]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[Ii](){Sr.open(this[Jn],"r",(e,r)=>this[Mo](e,r))}[Mo](e,r){e?this[ko](e):(this[at]=r,this.emit("open",r),this[Lo]())}[Iy](){return Buffer.allocUnsafe(Math.min(this[mD],this[kf]))}[Lo](){if(!this[xi]){this[xi]=!0;let e=this[Iy]();if(e.length===0)return process.nextTick(()=>this[Oy](null,0,e));Sr.read(this[at],e,0,e.length,null,(r,n,i)=>this[Oy](r,n,i))}}[Oy](e,r,n){this[xi]=!1,e?this[ko](e):this[Py](r,n)&&this[Lo]()}[un](){if(this[qo]&&typeof this[at]=="number"){let e=this[at];this[at]=null,Sr.close(e,r=>r?this.emit("error",r):this.emit("close"))}}[ko](e){this[xi]=!0,this[un](),this.emit("error",e)}[Py](e,r){let n=!1;return this[kf]-=e,e>0&&(n=super.write(e<r.length?r.slice(0,e):r)),(e===0||this[kf]<=0)&&(n=!1,this[un](),super.end()),n}emit(e,r){switch(e){case"prefinish":case"finish":break;case"drain":typeof this[at]=="number"&&this[Lo]();break;case"error":return this[Ao]?void 0:(this[Ao]=!0,super.emit(e,r));default:return super.emit(e,r)}}},Ny=class extends jf{[Ii](){let e=!0;try{this[Mo](null,Sr.openSync(this[Jn],"r")),e=!1}finally{e&&this[un]()}}[Lo](){let e=!0;try{if(!this[xi]){this[xi]=!0;do{let r=this[Iy](),n=r.length===0?0:Sr.readSync(this[at],r,0,r.length,null);if(!this[Py](n,r))break}while(!0);this[xi]=!1}e=!1}finally{e&&this[un]()}}[un](){if(this[qo]&&typeof this[at]=="number"){let e=this[at];this[at]=null,Sr.closeSync(e),this.emit("close")}}},Uf=class extends c6{constructor(e,r){r=r||{},super(r),this.readable=!1,this.writable=!0,this[Ao]=!1,this[No]=!1,this[_u]=!1,this[Lf]=!1,this[bn]=[],this[Jn]=e,this[at]=typeof r.fd=="number"?r.fd:null,this[Mf]=r.mode===void 0?438:r.mode,this[Rs]=typeof r.start=="number"?r.start:null,this[qo]=typeof r.autoClose=="boolean"?r.autoClose:!0;let n=this[Rs]!==null?"r+":"w";this[qf]=r.flags===void 0,this[Pi]=this[qf]?n:r.flags,this[at]===null&&this[Ii]()}emit(e,r){if(e==="error"){if(this[Ao])return;this[Ao]=!0}return super.emit(e,r)}get fd(){return this[at]}get path(){return this[Jn]}[ko](e){this[un](),this[No]=!0,this.emit("error",e)}[Ii](){Sr.open(this[Jn],this[Pi],this[Mf],(e,r)=>this[Mo](e,r))}[Mo](e,r){this[qf]&&this[Pi]==="r+"&&e&&e.code==="ENOENT"?(this[Pi]="w",this[Ii]()):e?this[ko](e):(this[at]=r,this.emit("open",r),this[Dy]())}end(e,r){return e&&this.write(e,r),this[_u]=!0,!this[No]&&!this[bn].length&&typeof this[at]=="number"&&this[Fo](null,0),this}write(e,r){return typeof e=="string"&&(e=Buffer.from(e,r)),this[_u]?(this.emit("error",new Error("write() after end()")),!1):this[at]===null||this[No]||this[bn].length?(this[bn].push(e),this[Lf]=!0,!1):(this[No]=!0,this[Af](e),!0)}[Af](e){Sr.write(this[at],e,0,e.length,this[Rs],(r,n)=>this[Fo](r,n))}[Fo](e,r){e?this[ko](e):(this[Rs]!==null&&(this[Rs]+=r),this[bn].length?this[Dy]():(this[No]=!1,this[_u]&&!this[pD]?(this[pD]=!0,this[un](),this.emit("finish")):this[Lf]&&(this[Lf]=!1,this.emit("drain"))))}[Dy](){if(this[bn].length===0)this[_u]&&this[Fo](null,0);else if(this[bn].length===1)this[Af](this[bn].pop());else{let e=this[bn];this[bn]=[],xy(this[at],e,this[Rs],(r,n)=>this[Fo](r,n))}}[un](){if(this[qo]&&typeof this[at]=="number"){let e=this[at];this[at]=null,Sr.close(e,r=>r?this.emit("error",r):this.emit("close"))}}},Fy=class extends Uf{[Ii](){let e;if(this[qf]&&this[Pi]==="r+")try{e=Sr.openSync(this[Jn],this[Pi],this[Mf])}catch(r){if(r.code==="ENOENT")return this[Pi]="w",this[Ii]();throw r}else e=Sr.openSync(this[Jn],this[Pi],this[Mf]);this[Mo](null,e)}[un](){if(this[qo]&&typeof this[at]=="number"){let e=this[at];this[at]=null,Sr.closeSync(e),this.emit("close")}}[Af](e){let r=!0;try{this[Fo](null,Sr.writeSync(this[at],e,0,e.length,this[Rs])),r=!1}finally{if(r)try{this[un]()}catch{}}}};wu.ReadStream=jf;wu.ReadStreamSync=Ny;wu.WriteStream=Uf;wu.WriteStreamSync=Fy});var Vf=L((vK,SD)=>{"use strict";var l6=_f(),f6=xo(),d6=require("events"),h6=gy(),p6=1024*1024,m6=gf(),vD=yf(),g6=Kv(),{nextTick:v6}=require("process"),Ly=Buffer.from([31,139]),Wr=Symbol("state"),Ds=Symbol("writeEntry"),Zn=Symbol("readEntry"),ky=Symbol("nextEntry"),yD=Symbol("processEntry"),$r=Symbol("extendedHeader"),Eu=Symbol("globalExtendedHeader"),Ni=Symbol("meta"),_D=Symbol("emitMeta"),wt=Symbol("buffer"),Qn=Symbol("queue"),Os=Symbol("ended"),wD=Symbol("emittedEnd"),xs=Symbol("emit"),Tr=Symbol("unzip"),Bf=Symbol("consumeChunk"),Hf=Symbol("consumeChunkSub"),Ay=Symbol("consumeBody"),ED=Symbol("consumeMeta"),bD=Symbol("consumeHeader"),Wf=Symbol("consuming"),qy=Symbol("bufferConcat"),My=Symbol("maybeEnd"),bu=Symbol("writing"),Fi=Symbol("aborted"),$f=Symbol("onDone"),Ps=Symbol("sawValidEntry"),zf=Symbol("sawNullBlock"),Gf=Symbol("sawEOF"),CD=Symbol("closeStream"),y6=t=>!0;SD.exports=l6(class extends d6{constructor(e){e=e||{},super(e),this.file=e.file||"",this[Ps]=null,this.on($f,r=>{(this[Wr]==="begin"||this[Ps]===!1)&&this.warn("TAR_BAD_ARCHIVE","Unrecognized archive format")}),e.ondone?this.on($f,e.ondone):this.on($f,r=>{this.emit("prefinish"),this.emit("finish"),this.emit("end")}),this.strict=!!e.strict,this.maxMetaEntrySize=e.maxMetaEntrySize||p6,this.filter=typeof e.filter=="function"?e.filter:y6,this.writable=!0,this.readable=!1,this[Qn]=new h6,this[wt]=null,this[Zn]=null,this[Ds]=null,this[Wr]="begin",this[Ni]="",this[$r]=null,this[Eu]=null,this[Os]=!1,this[Tr]=null,this[Fi]=!1,this[zf]=!1,this[Gf]=!1,this.on("end",()=>this[CD]()),typeof e.onwarn=="function"&&this.on("warn",e.onwarn),typeof e.onentry=="function"&&this.on("entry",e.onentry)}[bD](e,r){this[Ps]===null&&(this[Ps]=!1);let n;try{n=new f6(e,r,this[$r],this[Eu])}catch(i){return this.warn("TAR_ENTRY_INVALID",i)}if(n.nullBlock)this[zf]?(this[Gf]=!0,this[Wr]==="begin"&&(this[Wr]="header"),this[xs]("eof")):(this[zf]=!0,this[xs]("nullBlock"));else if(this[zf]=!1,!n.cksumValid)this.warn("TAR_ENTRY_INVALID","checksum failure",{header:n});else if(!n.path)this.warn("TAR_ENTRY_INVALID","path is required",{header:n});else{let i=n.type;if(/^(Symbolic)?Link$/.test(i)&&!n.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath required",{header:n});else if(!/^(Symbolic)?Link$/.test(i)&&n.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath forbidden",{header:n});else{let s=this[Ds]=new m6(n,this[$r],this[Eu]);if(!this[Ps])if(s.remain){let o=()=>{s.invalid||(this[Ps]=!0)};s.on("end",o)}else this[Ps]=!0;s.meta?s.size>this.maxMetaEntrySize?(s.ignore=!0,this[xs]("ignoredEntry",s),this[Wr]="ignore",s.resume()):s.size>0&&(this[Ni]="",s.on("data",o=>this[Ni]+=o),this[Wr]="meta"):(this[$r]=null,s.ignore=s.ignore||!this.filter(s.path,s),s.ignore?(this[xs]("ignoredEntry",s),this[Wr]=s.remain?"ignore":"header",s.resume()):(s.remain?this[Wr]="body":(this[Wr]="header",s.end()),this[Zn]?this[Qn].push(s):(this[Qn].push(s),this[ky]())))}}}[CD](){v6(()=>this.emit("close"))}[yD](e){let r=!0;return e?Array.isArray(e)?this.emit.apply(this,e):(this[Zn]=e,this.emit("entry",e),e.emittedEnd||(e.on("end",n=>this[ky]()),r=!1)):(this[Zn]=null,r=!1),r}[ky](){do;while(this[yD](this[Qn].shift()));if(!this[Qn].length){let e=this[Zn];!e||e.flowing||e.size===e.remain?this[bu]||this.emit("drain"):e.once("drain",n=>this.emit("drain"))}}[Ay](e,r){let n=this[Ds],i=n.blockRemain,s=i>=e.length&&r===0?e:e.slice(r,r+i);return n.write(s),n.blockRemain||(this[Wr]="header",this[Ds]=null,n.end()),s.length}[ED](e,r){let n=this[Ds],i=this[Ay](e,r);return this[Ds]||this[_D](n),i}[xs](e,r,n){!this[Qn].length&&!this[Zn]?this.emit(e,r,n):this[Qn].push([e,r,n])}[_D](e){switch(this[xs]("meta",this[Ni]),e.type){case"ExtendedHeader":case"OldExtendedHeader":this[$r]=vD.parse(this[Ni],this[$r],!1);break;case"GlobalExtendedHeader":this[Eu]=vD.parse(this[Ni],this[Eu],!0);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[$r]=this[$r]||Object.create(null),this[$r].path=this[Ni].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[$r]=this[$r]||Object.create(null),this[$r].linkpath=this[Ni].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+e.type)}}abort(e){this[Fi]=!0,this.emit("abort",e),this.warn("TAR_ABORT",e,{recoverable:!1})}write(e){if(this[Fi])return;if(this[Tr]===null&&e){if(this[wt]&&(e=Buffer.concat([this[wt],e]),this[wt]=null),e.length<Ly.length)return this[wt]=e,!0;for(let n=0;this[Tr]===null&&n<Ly.length;n++)e[n]!==Ly[n]&&(this[Tr]=!1);if(this[Tr]===null){let n=this[Os];this[Os]=!1,this[Tr]=new g6.Unzip,this[Tr].on("data",s=>this[Bf](s)),this[Tr].on("error",s=>this.abort(s)),this[Tr].on("end",s=>{this[Os]=!0,this[Bf]()}),this[bu]=!0;let i=this[Tr][n?"end":"write"](e);return this[bu]=!1,i}}this[bu]=!0,this[Tr]?this[Tr].write(e):this[Bf](e),this[bu]=!1;let r=this[Qn].length?!1:this[Zn]?this[Zn].flowing:!0;return!r&&!this[Qn].length&&this[Zn].once("drain",n=>this.emit("drain")),r}[qy](e){e&&!this[Fi]&&(this[wt]=this[wt]?Buffer.concat([this[wt],e]):e)}[My](){if(this[Os]&&!this[wD]&&!this[Fi]&&!this[Wf]){this[wD]=!0;let e=this[Ds];if(e&&e.blockRemain){let r=this[wt]?this[wt].length:0;this.warn("TAR_BAD_ARCHIVE",`Truncated input (needed ${e.blockRemain} more bytes, only ${r} available)`,{entry:e}),this[wt]&&e.write(this[wt]),e.end()}this[xs]($f)}}[Bf](e){if(this[Wf])this[qy](e);else if(!e&&!this[wt])this[My]();else{if(this[Wf]=!0,this[wt]){this[qy](e);let r=this[wt];this[wt]=null,this[Hf](r)}else this[Hf](e);for(;this[wt]&&this[wt].length>=512&&!this[Fi]&&!this[Gf];){let r=this[wt];this[wt]=null,this[Hf](r)}this[Wf]=!1}(!this[wt]||this[Os])&&this[My]()}[Hf](e){let r=0,n=e.length;for(;r+512<=n&&!this[Fi]&&!this[Gf];)switch(this[Wr]){case"begin":case"header":this[bD](e,r),r+=512;break;case"ignore":case"body":r+=this[Ay](e,r);break;case"meta":r+=this[ED](e,r);break;default:throw new Error("invalid state: "+this[Wr])}r<n&&(this[wt]?this[wt]=Buffer.concat([e.slice(r),this[wt]]):this[wt]=e.slice(r))}end(e){this[Fi]||(this[Tr]?this[Tr].end(e):(this[Os]=!0,this.write(e)))}})});var Kf=L((yK,OD)=>{"use strict";var _6=bo(),RD=Vf(),Uo=require("fs"),w6=jo(),TD=require("path"),jy=Po();OD.exports=(t,e,r)=>{typeof t=="function"?(r=t,e=null,t={}):Array.isArray(t)&&(e=t,t={}),typeof e=="function"&&(r=e,e=null),e?e=Array.from(e):e=[];let n=_6(t);if(n.sync&&typeof r=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof r=="function")throw new TypeError("callback only supported with file option");return e.length&&b6(n,e),n.noResume||E6(n),n.file&&n.sync?C6(n):n.file?S6(n,r):DD(n)};var E6=t=>{let e=t.onentry;t.onentry=e?r=>{e(r),r.resume()}:r=>r.resume()},b6=(t,e)=>{let r=new Map(e.map(s=>[jy(s),!0])),n=t.filter,i=(s,o)=>{let u=o||TD.parse(s).root||".",a=s===u?!1:r.has(s)?r.get(s):i(TD.dirname(s),u);return r.set(s,a),a};t.filter=n?(s,o)=>n(s,o)&&i(jy(s)):s=>i(jy(s))},C6=t=>{let e=DD(t),r=t.file,n=!0,i;try{let s=Uo.statSync(r),o=t.maxReadSize||16*1024*1024;if(s.size<o)e.end(Uo.readFileSync(r));else{let u=0,a=Buffer.allocUnsafe(o);for(i=Uo.openSync(r,"r");u<s.size;){let c=Uo.readSync(i,a,0,o,u);u+=c,e.write(a.slice(0,c))}e.end()}n=!1}finally{if(n&&i)try{Uo.closeSync(i)}catch{}}},S6=(t,e)=>{let r=new RD(t),n=t.maxReadSize||16*1024*1024,i=t.file,s=new Promise((o,u)=>{r.on("error",u),r.on("end",o),Uo.stat(i,(a,c)=>{if(a)u(a);else{let f=new w6.ReadStream(i,{readSize:n,size:c.size});f.on("error",u),f.pipe(r)}})});return e?s.then(e,e):s},DD=t=>new RD(t)});var LD=L((_K,FD)=>{"use strict";var T6=bo(),Xf=Ff(),xD=jo(),PD=Kf(),ID=require("path");FD.exports=(t,e,r)=>{if(typeof e=="function"&&(r=e),Array.isArray(t)&&(e=t,t={}),!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");e=Array.from(e);let n=T6(t);if(n.sync&&typeof r=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof r=="function")throw new TypeError("callback only supported with file option");return n.file&&n.sync?R6(n,e):n.file?D6(n,e,r):n.sync?O6(n,e):x6(n,e)};var R6=(t,e)=>{let r=new Xf.Sync(t),n=new xD.WriteStreamSync(t.file,{mode:t.mode||438});r.pipe(n),ND(r,e)},D6=(t,e,r)=>{let n=new Xf(t),i=new xD.WriteStream(t.file,{mode:t.mode||438});n.pipe(i);let s=new Promise((o,u)=>{i.on("error",u),i.on("close",o),n.on("error",u)});return Uy(n,e),r?s.then(r,r):s},ND=(t,e)=>{e.forEach(r=>{r.charAt(0)==="@"?PD({file:ID.resolve(t.cwd,r.slice(1)),sync:!0,noResume:!0,onentry:n=>t.add(n)}):t.add(r)}),t.end()},Uy=(t,e)=>{for(;e.length;){let r=e.shift();if(r.charAt(0)==="@")return PD({file:ID.resolve(t.cwd,r.slice(1)),noResume:!0,onentry:n=>t.add(n)}).then(n=>Uy(t,e));t.add(r)}t.end()},O6=(t,e)=>{let r=new Xf.Sync(t);return ND(r,e),r},x6=(t,e)=>{let r=new Xf(t);return Uy(r,e),r}});var By=L((wK,BD)=>{"use strict";var P6=bo(),kD=Ff(),Fr=require("fs"),AD=jo(),qD=Kf(),MD=require("path"),jD=xo();BD.exports=(t,e,r)=>{let n=P6(t);if(!n.file)throw new TypeError("file is required");if(n.gzip)throw new TypeError("cannot append to compressed archives");if(!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");return e=Array.from(e),n.sync?I6(n,e):F6(n,e,r)};var I6=(t,e)=>{let r=new kD.Sync(t),n=!0,i,s;try{try{i=Fr.openSync(t.file,"r+")}catch(a){if(a.code==="ENOENT")i=Fr.openSync(t.file,"w+");else throw a}let o=Fr.fstatSync(i),u=Buffer.alloc(512);e:for(s=0;s<o.size;s+=512){for(let f=0,d=0;f<512;f+=d){if(d=Fr.readSync(i,u,f,u.length-f,s+f),s===0&&u[0]===31&&u[1]===139)throw new Error("cannot append to compressed archives");if(!d)break e}let a=new jD(u);if(!a.cksumValid)break;let c=512*Math.ceil(a.size/512);if(s+c+512>o.size)break;s+=c,t.mtimeCache&&t.mtimeCache.set(a.path,a.mtime)}n=!1,N6(t,r,s,i,e)}finally{if(n)try{Fr.closeSync(i)}catch{}}},N6=(t,e,r,n,i)=>{let s=new AD.WriteStreamSync(t.file,{fd:n,start:r});e.pipe(s),L6(e,i)},F6=(t,e,r)=>{e=Array.from(e);let n=new kD(t),i=(o,u,a)=>{let c=(y,_)=>{y?Fr.close(o,S=>a(y)):a(null,_)},f=0;if(u===0)return c(null,0);let d=0,m=Buffer.alloc(512),h=(y,_)=>{if(y)return c(y);if(d+=_,d<512&&_)return Fr.read(o,m,d,m.length-d,f+d,h);if(f===0&&m[0]===31&&m[1]===139)return c(new Error("cannot append to compressed archives"));if(d<512)return c(null,f);let S=new jD(m);if(!S.cksumValid)return c(null,f);let D=512*Math.ceil(S.size/512);if(f+D+512>u||(f+=D+512,f>=u))return c(null,f);t.mtimeCache&&t.mtimeCache.set(S.path,S.mtime),d=0,Fr.read(o,m,0,512,f,h)};Fr.read(o,m,0,512,f,h)},s=new Promise((o,u)=>{n.on("error",u);let a="r+",c=(f,d)=>{if(f&&f.code==="ENOENT"&&a==="r+")return a="w+",Fr.open(t.file,a,c);if(f)return u(f);Fr.fstat(d,(m,h)=>{if(m)return Fr.close(d,()=>u(m));i(d,h.size,(y,_)=>{if(y)return u(y);let S=new AD.WriteStream(t.file,{fd:d,start:_});n.pipe(S),S.on("error",u),S.on("close",o),UD(n,e)})})};Fr.open(t.file,a,c)});return r?s.then(r,r):s},L6=(t,e)=>{e.forEach(r=>{r.charAt(0)==="@"?qD({file:MD.resolve(t.cwd,r.slice(1)),sync:!0,noResume:!0,onentry:n=>t.add(n)}):t.add(r)}),t.end()},UD=(t,e)=>{for(;e.length;){let r=e.shift();if(r.charAt(0)==="@")return qD({file:MD.resolve(t.cwd,r.slice(1)),noResume:!0,onentry:n=>t.add(n)}).then(n=>UD(t,e));t.add(r)}t.end()}});var WD=L((EK,HD)=>{"use strict";var k6=bo(),A6=By();HD.exports=(t,e,r)=>{let n=k6(t);if(!n.file)throw new TypeError("file is required");if(n.gzip)throw new TypeError("cannot append to compressed archives");if(!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");return e=Array.from(e),q6(n),A6(n,e,r)};var q6=t=>{let e=t.filter;t.mtimeCache||(t.mtimeCache=new Map),t.filter=e?(r,n)=>e(r,n)&&!(t.mtimeCache.get(r)>n.mtime):(r,n)=>!(t.mtimeCache.get(r)>n.mtime)}});var GD=L((bK,zD)=>{var{promisify:$D}=require("util"),Li=require("fs"),M6=t=>{if(!t)t={mode:511,fs:Li};else if(typeof t=="object")t={mode:511,fs:Li,...t};else if(typeof t=="number")t={mode:t,fs:Li};else if(typeof t=="string")t={mode:parseInt(t,8),fs:Li};else throw new TypeError("invalid options argument");return t.mkdir=t.mkdir||t.fs.mkdir||Li.mkdir,t.mkdirAsync=$D(t.mkdir),t.stat=t.stat||t.fs.stat||Li.stat,t.statAsync=$D(t.stat),t.statSync=t.statSync||t.fs.statSync||Li.statSync,t.mkdirSync=t.mkdirSync||t.fs.mkdirSync||Li.mkdirSync,t};zD.exports=M6});var KD=L((CK,VD)=>{var j6=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform,{resolve:U6,parse:B6}=require("path"),H6=t=>{if(/\0/.test(t))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:t,code:"ERR_INVALID_ARG_VALUE"});if(t=U6(t),j6==="win32"){let e=/[*|"<>?:]/,{root:r}=B6(t);if(e.test(t.substr(r.length)))throw Object.assign(new Error("Illegal characters in path."),{path:t,code:"EINVAL"})}return t};VD.exports=H6});var QD=L((SK,ZD)=>{var{dirname:XD}=require("path"),YD=(t,e,r=void 0)=>r===e?Promise.resolve():t.statAsync(e).then(n=>n.isDirectory()?r:void 0,n=>n.code==="ENOENT"?YD(t,XD(e),e):void 0),JD=(t,e,r=void 0)=>{if(r!==e)try{return t.statSync(e).isDirectory()?r:void 0}catch(n){return n.code==="ENOENT"?JD(t,XD(e),e):void 0}};ZD.exports={findMade:YD,findMadeSync:JD}});var $y=L((TK,tO)=>{var{dirname:eO}=require("path"),Hy=(t,e,r)=>{e.recursive=!1;let n=eO(t);return n===t?e.mkdirAsync(t,e).catch(i=>{if(i.code!=="EISDIR")throw i}):e.mkdirAsync(t,e).then(()=>r||t,i=>{if(i.code==="ENOENT")return Hy(n,e).then(s=>Hy(t,e,s));if(i.code!=="EEXIST"&&i.code!=="EROFS")throw i;return e.statAsync(t).then(s=>{if(s.isDirectory())return r;throw i},()=>{throw i})})},Wy=(t,e,r)=>{let n=eO(t);if(e.recursive=!1,n===t)try{return e.mkdirSync(t,e)}catch(i){if(i.code!=="EISDIR")throw i;return}try{return e.mkdirSync(t,e),r||t}catch(i){if(i.code==="ENOENT")return Wy(t,e,Wy(n,e,r));if(i.code!=="EEXIST"&&i.code!=="EROFS")throw i;try{if(!e.statSync(t).isDirectory())throw i}catch{throw i}}};tO.exports={mkdirpManual:Hy,mkdirpManualSync:Wy}});var iO=L((RK,nO)=>{var{dirname:rO}=require("path"),{findMade:W6,findMadeSync:$6}=QD(),{mkdirpManual:z6,mkdirpManualSync:G6}=$y(),V6=(t,e)=>(e.recursive=!0,rO(t)===t?e.mkdirAsync(t,e):W6(e,t).then(n=>e.mkdirAsync(t,e).then(()=>n).catch(i=>{if(i.code==="ENOENT")return z6(t,e);throw i}))),K6=(t,e)=>{if(e.recursive=!0,rO(t)===t)return e.mkdirSync(t,e);let n=$6(e,t);try{return e.mkdirSync(t,e),n}catch(i){if(i.code==="ENOENT")return G6(t,e);throw i}};nO.exports={mkdirpNative:V6,mkdirpNativeSync:K6}});var uO=L((DK,aO)=>{var sO=require("fs"),X6=process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version,zy=X6.replace(/^v/,"").split("."),oO=+zy[0]>10||+zy[0]==10&&+zy[1]>=12,Y6=oO?t=>t.mkdir===sO.mkdir:()=>!1,J6=oO?t=>t.mkdirSync===sO.mkdirSync:()=>!1;aO.exports={useNative:Y6,useNativeSync:J6}});var pO=L((OK,hO)=>{var Bo=GD(),Ho=KD(),{mkdirpNative:cO,mkdirpNativeSync:lO}=iO(),{mkdirpManual:fO,mkdirpManualSync:dO}=$y(),{useNative:Z6,useNativeSync:Q6}=uO(),Wo=(t,e)=>(t=Ho(t),e=Bo(e),Z6(e)?cO(t,e):fO(t,e)),e$=(t,e)=>(t=Ho(t),e=Bo(e),Q6(e)?lO(t,e):dO(t,e));Wo.sync=e$;Wo.native=(t,e)=>cO(Ho(t),Bo(e));Wo.manual=(t,e)=>fO(Ho(t),Bo(e));Wo.nativeSync=(t,e)=>lO(Ho(t),Bo(e));Wo.manualSync=(t,e)=>dO(Ho(t),Bo(e));hO.exports=Wo});var EO=L((xK,wO)=>{"use strict";var zr=require("fs"),Is=require("path"),t$=zr.lchown?"lchown":"chown",r$=zr.lchownSync?"lchownSync":"chownSync",gO=zr.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),mO=(t,e,r)=>{try{return zr[r$](t,e,r)}catch(n){if(n.code!=="ENOENT")throw n}},n$=(t,e,r)=>{try{return zr.chownSync(t,e,r)}catch(n){if(n.code!=="ENOENT")throw n}},i$=gO?(t,e,r,n)=>i=>{!i||i.code!=="EISDIR"?n(i):zr.chown(t,e,r,n)}:(t,e,r,n)=>n,Gy=gO?(t,e,r)=>{try{return mO(t,e,r)}catch(n){if(n.code!=="EISDIR")throw n;n$(t,e,r)}}:(t,e,r)=>mO(t,e,r),s$=process.version,vO=(t,e,r)=>zr.readdir(t,e,r),o$=(t,e)=>zr.readdirSync(t,e);/^v4\./.test(s$)&&(vO=(t,e,r)=>zr.readdir(t,r));var Yf=(t,e,r,n)=>{zr[t$](t,e,r,i$(t,e,r,i=>{n(i&&i.code!=="ENOENT"?i:null)}))},yO=(t,e,r,n,i)=>{if(typeof e=="string")return zr.lstat(Is.resolve(t,e),(s,o)=>{if(s)return i(s.code!=="ENOENT"?s:null);o.name=e,yO(t,o,r,n,i)});if(e.isDirectory())Vy(Is.resolve(t,e.name),r,n,s=>{if(s)return i(s);let o=Is.resolve(t,e.name);Yf(o,r,n,i)});else{let s=Is.resolve(t,e.name);Yf(s,r,n,i)}},Vy=(t,e,r,n)=>{vO(t,{withFileTypes:!0},(i,s)=>{if(i){if(i.code==="ENOENT")return n();if(i.code!=="ENOTDIR"&&i.code!=="ENOTSUP")return n(i)}if(i||!s.length)return Yf(t,e,r,n);let o=s.length,u=null,a=c=>{if(!u){if(c)return n(u=c);if(--o===0)return Yf(t,e,r,n)}};s.forEach(c=>yO(t,c,e,r,a))})},a$=(t,e,r,n)=>{if(typeof e=="string")try{let i=zr.lstatSync(Is.resolve(t,e));i.name=e,e=i}catch(i){if(i.code==="ENOENT")return;throw i}e.isDirectory()&&_O(Is.resolve(t,e.name),r,n),Gy(Is.resolve(t,e.name),r,n)},_O=(t,e,r)=>{let n;try{n=o$(t,{withFileTypes:!0})}catch(i){if(i.code==="ENOENT")return;if(i.code==="ENOTDIR"||i.code==="ENOTSUP")return Gy(t,e,r);throw i}return n&&n.length&&n.forEach(i=>a$(t,i,e,r)),Gy(t,e,r)};wO.exports=Vy;Vy.sync=_O});var TO=L((PK,Ky)=>{"use strict";var bO=pO(),Gr=require("fs"),Jf=require("path"),CO=EO(),cn=Do(),Zf=class extends Error{constructor(e,r){super("Cannot extract through symbolic link"),this.path=r,this.symlink=e}get name(){return"SylinkError"}},Qf=class extends Error{constructor(e,r){super(r+": Cannot cd into '"+e+"'"),this.path=e,this.code=r}get name(){return"CwdError"}},ed=(t,e)=>t.get(cn(e)),Cu=(t,e,r)=>t.set(cn(e),r),u$=(t,e)=>{Gr.stat(t,(r,n)=>{(r||!n.isDirectory())&&(r=new Qf(t,r&&r.code||"ENOTDIR")),e(r)})};Ky.exports=(t,e,r)=>{t=cn(t);let n=e.umask,i=e.mode|448,s=(i&n)!==0,o=e.uid,u=e.gid,a=typeof o=="number"&&typeof u=="number"&&(o!==e.processUid||u!==e.processGid),c=e.preserve,f=e.unlink,d=e.cache,m=cn(e.cwd),h=(S,D)=>{S?r(S):(Cu(d,t,!0),D&&a?CO(D,o,u,w=>h(w)):s?Gr.chmod(t,i,r):r())};if(d&&ed(d,t)===!0)return h();if(t===m)return u$(t,h);if(c)return bO(t,{mode:i}).then(S=>h(null,S),h);let _=cn(Jf.relative(m,t)).split("/");td(m,_,i,d,f,m,null,h)};var td=(t,e,r,n,i,s,o,u)=>{if(!e.length)return u(null,o);let a=e.shift(),c=cn(Jf.resolve(t+"/"+a));if(ed(n,c))return td(c,e,r,n,i,s,o,u);Gr.mkdir(c,r,SO(c,e,r,n,i,s,o,u))},SO=(t,e,r,n,i,s,o,u)=>a=>{a?Gr.lstat(t,(c,f)=>{if(c)c.path=c.path&&cn(c.path),u(c);else if(f.isDirectory())td(t,e,r,n,i,s,o,u);else if(i)Gr.unlink(t,d=>{if(d)return u(d);Gr.mkdir(t,r,SO(t,e,r,n,i,s,o,u))});else{if(f.isSymbolicLink())return u(new Zf(t,t+"/"+e.join("/")));u(a)}}):(o=o||t,td(t,e,r,n,i,s,o,u))},c$=t=>{let e=!1,r="ENOTDIR";try{e=Gr.statSync(t).isDirectory()}catch(n){r=n.code}finally{if(!e)throw new Qf(t,r)}};Ky.exports.sync=(t,e)=>{t=cn(t);let r=e.umask,n=e.mode|448,i=(n&r)!==0,s=e.uid,o=e.gid,u=typeof s=="number"&&typeof o=="number"&&(s!==e.processUid||o!==e.processGid),a=e.preserve,c=e.unlink,f=e.cache,d=cn(e.cwd),m=S=>{Cu(f,t,!0),S&&u&&CO.sync(S,s,o),i&&Gr.chmodSync(t,n)};if(f&&ed(f,t)===!0)return m();if(t===d)return c$(d),m();if(a)return m(bO.sync(t,n));let y=cn(Jf.relative(d,t)).split("/"),_=null;for(let S=y.shift(),D=d;S&&(D+="/"+S);S=y.shift())if(D=cn(Jf.resolve(D)),!ed(f,D))try{Gr.mkdirSync(D,n),_=_||D,Cu(f,D,!0)}catch{let T=Gr.lstatSync(D);if(T.isDirectory()){Cu(f,D,!0);continue}else if(c){Gr.unlinkSync(D),Gr.mkdirSync(D,n),_=_||D,Cu(f,D,!0);continue}else if(T.isSymbolicLink())return new Zf(D,D+"/"+y.join("/"))}return m(_)}});var Yy=L((IK,RO)=>{var Xy=Object.create(null),{hasOwnProperty:l$}=Object.prototype;RO.exports=t=>(l$.call(Xy,t)||(Xy[t]=t.normalize("NFKD")),Xy[t])});var PO=L((NK,xO)=>{var DO=require("assert"),f$=Yy(),d$=Po(),{join:OO}=require("path"),h$=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,p$=h$==="win32";xO.exports=()=>{let t=new Map,e=new Map,r=c=>c.split("/").slice(0,-1).reduce((d,m)=>(d.length&&(m=OO(d[d.length-1],m)),d.push(m||"/"),d),[]),n=new Set,i=c=>{let f=e.get(c);if(!f)throw new Error("function does not have any path reservations");return{paths:f.paths.map(d=>t.get(d)),dirs:[...f.dirs].map(d=>t.get(d))}},s=c=>{let{paths:f,dirs:d}=i(c);return f.every(m=>m[0]===c)&&d.every(m=>m[0]instanceof Set&&m[0].has(c))},o=c=>n.has(c)||!s(c)?!1:(n.add(c),c(()=>u(c)),!0),u=c=>{if(!n.has(c))return!1;let{paths:f,dirs:d}=e.get(c),m=new Set;return f.forEach(h=>{let y=t.get(h);DO.equal(y[0],c),y.length===1?t.delete(h):(y.shift(),typeof y[0]=="function"?m.add(y[0]):y[0].forEach(_=>m.add(_)))}),d.forEach(h=>{let y=t.get(h);DO(y[0]instanceof Set),y[0].size===1&&y.length===1?t.delete(h):y[0].size===1?(y.shift(),m.add(y[0])):y[0].delete(c)}),n.delete(c),m.forEach(h=>o(h)),!0};return{check:s,reserve:(c,f)=>{c=p$?["win32 parallelization disabled"]:c.map(m=>f$(d$(OO(m))).toLowerCase());let d=new Set(c.map(m=>r(m)).reduce((m,h)=>m.concat(h)));return e.set(f,{dirs:d,paths:c}),c.forEach(m=>{let h=t.get(m);h?h.push(f):t.set(m,[f])}),d.forEach(m=>{let h=t.get(m);h?h[h.length-1]instanceof Set?h[h.length-1].add(f):h.push(new Set([f])):t.set(m,[new Set([f])])}),o(f)}}}});var FO=L((FK,NO)=>{var m$=process.env.__FAKE_PLATFORM__||process.platform,g$=m$==="win32",v$=global.__FAKE_TESTING_FS__||require("fs"),{O_CREAT:y$,O_TRUNC:_$,O_WRONLY:w$,UV_FS_O_FILEMAP:IO=0}=v$.constants,E$=g$&&!!IO,b$=512*1024,C$=IO|_$|y$|w$;NO.exports=E$?t=>t<b$?C$:"w":()=>"w"});var s_=L((LK,VO)=>{"use strict";var S$=require("assert"),T$=Vf(),ze=require("fs"),R$=jo(),ei=require("path"),$O=TO(),LO=iy(),D$=PO(),O$=sy(),Lr=Do(),x$=Po(),P$=Yy(),kO=Symbol("onEntry"),Qy=Symbol("checkFs"),AO=Symbol("checkFs2"),id=Symbol("pruneCache"),e_=Symbol("isReusable"),Vr=Symbol("makeFs"),t_=Symbol("file"),r_=Symbol("directory"),sd=Symbol("link"),qO=Symbol("symlink"),MO=Symbol("hardlink"),jO=Symbol("unsupported"),UO=Symbol("checkPath"),ki=Symbol("mkdir"),ar=Symbol("onError"),rd=Symbol("pending"),BO=Symbol("pend"),$o=Symbol("unpend"),Jy=Symbol("ended"),Zy=Symbol("maybeClose"),n_=Symbol("skip"),Su=Symbol("doChown"),Tu=Symbol("uid"),Ru=Symbol("gid"),Du=Symbol("checkedCwd"),zO=require("crypto"),GO=FO(),I$=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,Ou=I$==="win32",N$=(t,e)=>{if(!Ou)return ze.unlink(t,e);let r=t+".DELETE."+zO.randomBytes(16).toString("hex");ze.rename(t,r,n=>{if(n)return e(n);ze.unlink(r,e)})},F$=t=>{if(!Ou)return ze.unlinkSync(t);let e=t+".DELETE."+zO.randomBytes(16).toString("hex");ze.renameSync(t,e),ze.unlinkSync(e)},HO=(t,e,r)=>t===t>>>0?t:e===e>>>0?e:r,WO=t=>P$(x$(Lr(t))).toLowerCase(),L$=(t,e)=>{e=WO(e);for(let r of t.keys()){let n=WO(r);(n===e||n.indexOf(e+"/")===0)&&t.delete(r)}},k$=t=>{for(let e of t.keys())t.delete(e)},xu=class extends T${constructor(e){if(e||(e={}),e.ondone=r=>{this[Jy]=!0,this[Zy]()},super(e),this[Du]=!1,this.reservations=D$(),this.transform=typeof e.transform=="function"?e.transform:null,this.writable=!0,this.readable=!1,this[rd]=0,this[Jy]=!1,this.dirCache=e.dirCache||new Map,typeof e.uid=="number"||typeof e.gid=="number"){if(typeof e.uid!="number"||typeof e.gid!="number")throw new TypeError("cannot set owner without number uid and gid");if(e.preserveOwner)throw new TypeError("cannot preserve owner in archive and also set owner explicitly");this.uid=e.uid,this.gid=e.gid,this.setOwner=!0}else this.uid=null,this.gid=null,this.setOwner=!1;e.preserveOwner===void 0&&typeof e.uid!="number"?this.preserveOwner=process.getuid&&process.getuid()===0:this.preserveOwner=!!e.preserveOwner,this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():null,this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():null,this.forceChown=e.forceChown===!0,this.win32=!!e.win32||Ou,this.newer=!!e.newer,this.keep=!!e.keep,this.noMtime=!!e.noMtime,this.preservePaths=!!e.preservePaths,this.unlink=!!e.unlink,this.cwd=Lr(ei.resolve(e.cwd||process.cwd())),this.strip=+e.strip||0,this.processUmask=e.noChmod?0:process.umask(),this.umask=typeof e.umask=="number"?e.umask:this.processUmask,this.dmode=e.dmode||511&~this.umask,this.fmode=e.fmode||438&~this.umask,this.on("entry",r=>this[kO](r))}warn(e,r,n={}){return(e==="TAR_BAD_ARCHIVE"||e==="TAR_ABORT")&&(n.recoverable=!1),super.warn(e,r,n)}[Zy](){this[Jy]&&this[rd]===0&&(this.emit("prefinish"),this.emit("finish"),this.emit("end"))}[UO](e){if(this.strip){let r=Lr(e.path).split("/");if(r.length<this.strip)return!1;if(e.path=r.slice(this.strip).join("/"),e.type==="Link"){let n=Lr(e.linkpath).split("/");if(n.length>=this.strip)e.linkpath=n.slice(this.strip).join("/");else return!1}}if(!this.preservePaths){let r=Lr(e.path),n=r.split("/");if(n.includes("..")||Ou&&/^[a-z]:\.\.$/i.test(n[0]))return this.warn("TAR_ENTRY_ERROR","path contains '..'",{entry:e,path:r}),!1;let[i,s]=O$(r);i&&(e.path=s,this.warn("TAR_ENTRY_INFO",`stripping ${i} from absolute path`,{entry:e,path:r}))}if(ei.isAbsolute(e.path)?e.absolute=Lr(ei.resolve(e.path)):e.absolute=Lr(ei.resolve(this.cwd,e.path)),!this.preservePaths&&e.absolute.indexOf(this.cwd+"/")!==0&&e.absolute!==this.cwd)return this.warn("TAR_ENTRY_ERROR","path escaped extraction target",{entry:e,path:Lr(e.path),resolvedPath:e.absolute,cwd:this.cwd}),!1;if(e.absolute===this.cwd&&e.type!=="Directory"&&e.type!=="GNUDumpDir")return!1;if(this.win32){let{root:r}=ei.win32.parse(e.absolute);e.absolute=r+LO.encode(e.absolute.slice(r.length));let{root:n}=ei.win32.parse(e.path);e.path=n+LO.encode(e.path.slice(n.length))}return!0}[kO](e){if(!this[UO](e))return e.resume();switch(S$.equal(typeof e.absolute,"string"),e.type){case"Directory":case"GNUDumpDir":e.mode&&(e.mode=e.mode|448);case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[Qy](e);case"CharacterDevice":case"BlockDevice":case"FIFO":default:return this[jO](e)}}[ar](e,r){e.name==="CwdError"?this.emit("error",e):(this.warn("TAR_ENTRY_ERROR",e,{entry:r}),this[$o](),r.resume())}[ki](e,r,n){$O(Lr(e),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:r,noChmod:this.noChmod},n)}[Su](e){return this.forceChown||this.preserveOwner&&(typeof e.uid=="number"&&e.uid!==this.processUid||typeof e.gid=="number"&&e.gid!==this.processGid)||typeof this.uid=="number"&&this.uid!==this.processUid||typeof this.gid=="number"&&this.gid!==this.processGid}[Tu](e){return HO(this.uid,e.uid,this.processUid)}[Ru](e){return HO(this.gid,e.gid,this.processGid)}[t_](e,r){let n=e.mode&4095||this.fmode,i=new R$.WriteStream(e.absolute,{flags:GO(e.size),mode:n,autoClose:!1});i.on("error",a=>{i.fd&&ze.close(i.fd,()=>{}),i.write=()=>!0,this[ar](a,e),r()});let s=1,o=a=>{if(a){i.fd&&ze.close(i.fd,()=>{}),this[ar](a,e),r();return}--s===0&&ze.close(i.fd,c=>{c?this[ar](c,e):this[$o](),r()})};i.on("finish",a=>{let c=e.absolute,f=i.fd;if(e.mtime&&!this.noMtime){s++;let d=e.atime||new Date,m=e.mtime;ze.futimes(f,d,m,h=>h?ze.utimes(c,d,m,y=>o(y&&h)):o())}if(this[Su](e)){s++;let d=this[Tu](e),m=this[Ru](e);ze.fchown(f,d,m,h=>h?ze.chown(c,d,m,y=>o(y&&h)):o())}o()});let u=this.transform&&this.transform(e)||e;u!==e&&(u.on("error",a=>{this[ar](a,e),r()}),e.pipe(u)),u.pipe(i)}[r_](e,r){let n=e.mode&4095||this.dmode;this[ki](e.absolute,n,i=>{if(i){this[ar](i,e),r();return}let s=1,o=u=>{--s===0&&(r(),this[$o](),e.resume())};e.mtime&&!this.noMtime&&(s++,ze.utimes(e.absolute,e.atime||new Date,e.mtime,o)),this[Su](e)&&(s++,ze.chown(e.absolute,this[Tu](e),this[Ru](e),o)),o()})}[jO](e){e.unsupported=!0,this.warn("TAR_ENTRY_UNSUPPORTED",`unsupported entry type: ${e.type}`,{entry:e}),e.resume()}[qO](e,r){this[sd](e,e.linkpath,"symlink",r)}[MO](e,r){let n=Lr(ei.resolve(this.cwd,e.linkpath));this[sd](e,n,"link",r)}[BO](){this[rd]++}[$o](){this[rd]--,this[Zy]()}[n_](e){this[$o](),e.resume()}[e_](e,r){return e.type==="File"&&!this.unlink&&r.isFile()&&r.nlink<=1&&!Ou}[Qy](e){this[BO]();let r=[e.path];e.linkpath&&r.push(e.linkpath),this.reservations.reserve(r,n=>this[AO](e,n))}[id](e){e.type==="SymbolicLink"?k$(this.dirCache):e.type!=="Directory"&&L$(this.dirCache,e.absolute)}[AO](e,r){this[id](e);let n=u=>{this[id](e),r(u)},i=()=>{this[ki](this.cwd,this.dmode,u=>{if(u){this[ar](u,e),n();return}this[Du]=!0,s()})},s=()=>{if(e.absolute!==this.cwd){let u=Lr(ei.dirname(e.absolute));if(u!==this.cwd)return this[ki](u,this.dmode,a=>{if(a){this[ar](a,e),n();return}o()})}o()},o=()=>{ze.lstat(e.absolute,(u,a)=>{if(a&&(this.keep||this.newer&&a.mtime>e.mtime)){this[n_](e),n();return}if(u||this[e_](e,a))return this[Vr](null,e,n);if(a.isDirectory()){if(e.type==="Directory"){let c=!this.noChmod&&e.mode&&(a.mode&4095)!==e.mode,f=d=>this[Vr](d,e,n);return c?ze.chmod(e.absolute,e.mode,f):f()}if(e.absolute!==this.cwd)return ze.rmdir(e.absolute,c=>this[Vr](c,e,n))}if(e.absolute===this.cwd)return this[Vr](null,e,n);N$(e.absolute,c=>this[Vr](c,e,n))})};this[Du]?s():i()}[Vr](e,r,n){if(e){this[ar](e,r),n();return}switch(r.type){case"File":case"OldFile":case"ContiguousFile":return this[t_](r,n);case"Link":return this[MO](r,n);case"SymbolicLink":return this[qO](r,n);case"Directory":case"GNUDumpDir":return this[r_](r,n)}}[sd](e,r,n,i){ze[n](r,e.absolute,s=>{s?this[ar](s,e):(this[$o](),e.resume()),i()})}},nd=t=>{try{return[null,t()]}catch(e){return[e,null]}},i_=class extends xu{[Vr](e,r){return super[Vr](e,r,()=>{})}[Qy](e){if(this[id](e),!this[Du]){let s=this[ki](this.cwd,this.dmode);if(s)return this[ar](s,e);this[Du]=!0}if(e.absolute!==this.cwd){let s=Lr(ei.dirname(e.absolute));if(s!==this.cwd){let o=this[ki](s,this.dmode);if(o)return this[ar](o,e)}}let[r,n]=nd(()=>ze.lstatSync(e.absolute));if(n&&(this.keep||this.newer&&n.mtime>e.mtime))return this[n_](e);if(r||this[e_](e,n))return this[Vr](null,e);if(n.isDirectory()){if(e.type==="Directory"){let o=!this.noChmod&&e.mode&&(n.mode&4095)!==e.mode,[u]=o?nd(()=>{ze.chmodSync(e.absolute,e.mode)}):[];return this[Vr](u,e)}let[s]=nd(()=>ze.rmdirSync(e.absolute));this[Vr](s,e)}let[i]=e.absolute===this.cwd?[]:nd(()=>F$(e.absolute));this[Vr](i,e)}[t_](e,r){let n=e.mode&4095||this.fmode,i=u=>{let a;try{ze.closeSync(s)}catch(c){a=c}(u||a)&&this[ar](u||a,e),r()},s;try{s=ze.openSync(e.absolute,GO(e.size),n)}catch(u){return i(u)}let o=this.transform&&this.transform(e)||e;o!==e&&(o.on("error",u=>this[ar](u,e)),e.pipe(o)),o.on("data",u=>{try{ze.writeSync(s,u,0,u.length)}catch(a){i(a)}}),o.on("end",u=>{let a=null;if(e.mtime&&!this.noMtime){let c=e.atime||new Date,f=e.mtime;try{ze.futimesSync(s,c,f)}catch(d){try{ze.utimesSync(e.absolute,c,f)}catch{a=d}}}if(this[Su](e)){let c=this[Tu](e),f=this[Ru](e);try{ze.fchownSync(s,c,f)}catch(d){try{ze.chownSync(e.absolute,c,f)}catch{a=a||d}}}i(a)})}[r_](e,r){let n=e.mode&4095||this.dmode,i=this[ki](e.absolute,n);if(i){this[ar](i,e),r();return}if(e.mtime&&!this.noMtime)try{ze.utimesSync(e.absolute,e.atime||new Date,e.mtime)}catch{}if(this[Su](e))try{ze.chownSync(e.absolute,this[Tu](e),this[Ru](e))}catch{}r(),e.resume()}[ki](e,r){try{return $O.sync(Lr(e),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:r})}catch(n){return n}}[sd](e,r,n,i){try{ze[n+"Sync"](r,e.absolute),i(),e.resume()}catch(s){return this[ar](s,e)}}};xu.Sync=i_;VO.exports=xu});var ZO=L((kK,JO)=>{"use strict";var A$=bo(),od=s_(),XO=require("fs"),YO=jo(),KO=require("path"),o_=Po();JO.exports=(t,e,r)=>{typeof t=="function"?(r=t,e=null,t={}):Array.isArray(t)&&(e=t,t={}),typeof e=="function"&&(r=e,e=null),e?e=Array.from(e):e=[];let n=A$(t);if(n.sync&&typeof r=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof r=="function")throw new TypeError("callback only supported with file option");return e.length&&q$(n,e),n.file&&n.sync?M$(n):n.file?j$(n,r):n.sync?U$(n):B$(n)};var q$=(t,e)=>{let r=new Map(e.map(s=>[o_(s),!0])),n=t.filter,i=(s,o)=>{let u=o||KO.parse(s).root||".",a=s===u?!1:r.has(s)?r.get(s):i(KO.dirname(s),u);return r.set(s,a),a};t.filter=n?(s,o)=>n(s,o)&&i(o_(s)):s=>i(o_(s))},M$=t=>{let e=new od.Sync(t),r=t.file,n=XO.statSync(r),i=t.maxReadSize||16*1024*1024;new YO.ReadStreamSync(r,{readSize:i,size:n.size}).pipe(e)},j$=(t,e)=>{let r=new od(t),n=t.maxReadSize||16*1024*1024,i=t.file,s=new Promise((o,u)=>{r.on("error",u),r.on("close",o),XO.stat(i,(a,c)=>{if(a)u(a);else{let f=new YO.ReadStream(i,{readSize:n,size:c.size});f.on("error",u),f.pipe(r)}})});return e?s.then(e,e):s},U$=t=>new od.Sync(t),B$=t=>new od(t)});var QO=L(Ut=>{"use strict";Ut.c=Ut.create=LD();Ut.r=Ut.replace=By();Ut.t=Ut.list=Kf();Ut.u=Ut.update=WD();Ut.x=Ut.extract=ZO();Ut.Pack=Ff();Ut.Unpack=s_();Ut.Parse=Vf();Ut.ReadEntry=gf();Ut.WriteEntry=my();Ut.Header=xo();Ut.Pax=yf();Ut.types=Jv()});var tx=L((qK,ex)=>{"use strict";var a_=require("events").listenerCount;a_=a_||function(t,e){var r=t&&t._events&&t._events[e];return Array.isArray(r)?r.length:typeof r=="function"?1:0};ex.exports=a_});var nx=L((MK,rx)=>{rx.exports=function(e){var r=process&&process.version?process.version:"v5.0.0",n=r.split(".")[0].replace("v","");return n<6?new Buffer(e):Buffer.from(e)}});var sx=L(()=>{"use strict";var Pu=nx();Buffer.prototype.indexOf||(Buffer.prototype.indexOf=function(t,e){e=e||0,typeof t=="string"||t instanceof String?t=Pu(t):(typeof t=="number"||t instanceof Number)&&(t=Pu([t]));for(var r=t.length,n=e;n<=this.length-r;n++){for(var i=!1,s=0;s<r;s++)if(this[n+s]!=t[s]){i=!0;break}if(!i)return n}return-1});function ix(t,e){typeof t=="string"||t instanceof String?t=Pu(t):(typeof t=="number"||t instanceof Number)&&(t=Pu([t]));var r=t.length;e=e||this.length-r;for(var n=e;n>=0;n--){for(var i=!1,s=0;s<r;s++)if(this[n+s]!=t[s]){i=!0;break}if(!i)return n}return-1}Buffer.prototype.lastIndexOf?Pu("ABC").lastIndexOf("ABC")===-1&&(Buffer.prototype.lastIndexOf=ix):Buffer.prototype.lastIndexOf=ix});var ax=L(ox=>{(function(t,e){"use strict";if(t.setImmediate)return;var r=1,n={},i=!1,s=t.document,o;function u(w){typeof w!="function"&&(w=new Function(""+w));for(var T=new Array(arguments.length-1),P=0;P<T.length;P++)T[P]=arguments[P+1];var M={callback:w,args:T};return n[r]=M,o(r),r++}function a(w){delete n[w]}function c(w){var T=w.callback,P=w.args;switch(P.length){case 0:T();break;case 1:T(P[0]);break;case 2:T(P[0],P[1]);break;case 3:T(P[0],P[1],P[2]);break;default:T.apply(e,P);break}}function f(w){if(i)setTimeout(f,0,w);else{var T=n[w];if(T){i=!0;try{c(T)}finally{a(w),i=!1}}}}function d(){o=function(w){process.nextTick(function(){f(w)})}}function m(){if(t.postMessage&&!t.importScripts){var w=!0,T=t.onmessage;return t.onmessage=function(){w=!1},t.postMessage("","*"),t.onmessage=T,w}}function h(){var w="setImmediate$"+Math.random()+"$",T=function(P){P.source===t&&typeof P.data=="string"&&P.data.indexOf(w)===0&&f(+P.data.slice(w.length))};t.addEventListener?t.addEventListener("message",T,!1):t.attachEvent("onmessage",T),o=function(P){t.postMessage(w+P,"*")}}function y(){var w=new MessageChannel;w.port1.onmessage=function(T){var P=T.data;f(P)},o=function(T){w.port2.postMessage(T)}}function _(){var w=s.documentElement;o=function(T){var P=s.createElement("script");P.onreadystatechange=function(){f(T),P.onreadystatechange=null,w.removeChild(P),P=null},w.appendChild(P)}}function S(){o=function(w){setTimeout(f,0,w)}}var D=Object.getPrototypeOf&&Object.getPrototypeOf(t);D=D&&D.setTimeout?D:t,{}.toString.call(t.process)==="[object process]"?d():m()?h():t.MessageChannel?y():s&&"onreadystatechange"in s.createElement("script")?_():S(),D.setImmediate=u,D.clearImmediate=a})(typeof self>"u"?typeof global>"u"?ox:global:self)});var fx=L((HK,lx)=>{lx.exports=ur;function ur(t){if(!(this instanceof ur))return new ur(t);this.value=t}ur.prototype.get=function(t){for(var e=this.value,r=0;r<t.length;r++){var n=t[r];if(!Object.hasOwnProperty.call(e,n)){e=void 0;break}e=e[n]}return e};ur.prototype.set=function(t,e){for(var r=this.value,n=0;n<t.length-1;n++){var i=t[n];Object.hasOwnProperty.call(r,i)||(r[i]={}),r=r[i]}return r[t[n]]=e,e};ur.prototype.map=function(t){return ux(this.value,t,!0)};ur.prototype.forEach=function(t){return this.value=ux(this.value,t,!1),this.value};ur.prototype.reduce=function(t,e){var r=arguments.length===1,n=r?this.value:e;return this.forEach(function(i){(!this.isRoot||!r)&&(n=t.call(this,n,i))}),n};ur.prototype.deepEqual=function(t){if(arguments.length!==1)throw new Error("deepEqual requires exactly one object to compare against");var e=!0,r=t;return this.forEach(function(n){var i=function(){e=!1}.bind(this);if(!this.isRoot){if(typeof r!="object")return i();r=r[this.key]}var s=r;this.post(function(){r=s});var o=function(d){return Object.prototype.toString.call(d)};if(this.circular)ur(t).get(this.circular.path)!==s&&i();else if(typeof s!=typeof n)i();else if(s===null||n===null||s===void 0||n===void 0)s!==n&&i();else if(s.__proto__!==n.__proto__)i();else if(s!==n){if(typeof s=="function")s instanceof RegExp?s.toString()!=n.toString()&&i():s!==n&&i();else if(typeof s=="object")if(o(n)==="[object Arguments]"||o(s)==="[object Arguments]")o(s)!==o(n)&&i();else if(s instanceof Date||n instanceof Date)(!(s instanceof Date)||!(n instanceof Date)||s.getTime()!==n.getTime())&&i();else{var u=Object.keys(s),a=Object.keys(n);if(u.length!==a.length)return i();for(var c=0;c<u.length;c++){var f=u[c];Object.hasOwnProperty.call(n,f)||i()}}}}),e};ur.prototype.paths=function(){var t=[];return this.forEach(function(e){t.push(this.path)}),t};ur.prototype.nodes=function(){var t=[];return this.forEach(function(e){t.push(this.node)}),t};ur.prototype.clone=function(){var t=[],e=[];return function r(n){for(var i=0;i<t.length;i++)if(t[i]===n)return e[i];if(typeof n=="object"&&n!==null){var s=cx(n);return t.push(n),e.push(s),Object.keys(n).forEach(function(o){s[o]=r(n[o])}),t.pop(),e.pop(),s}else return n}(this.value)};function ux(t,e,r){var n=[],i=[],s=!0;return function o(u){var a=r?cx(u):u,c={},f={node:a,node_:u,path:[].concat(n),parent:i.slice(-1)[0],key:n.slice(-1)[0],isRoot:n.length===0,level:n.length,circular:null,update:function(y){f.isRoot||(f.parent.node[f.key]=y),f.node=y},delete:function(){delete f.parent.node[f.key]},remove:function(){Array.isArray(f.parent.node)?f.parent.node.splice(f.key,1):delete f.parent.node[f.key]},before:function(y){c.before=y},after:function(y){c.after=y},pre:function(y){c.pre=y},post:function(y){c.post=y},stop:function(){s=!1}};if(!s)return f;if(typeof a=="object"&&a!==null){f.isLeaf=Object.keys(a).length==0;for(var d=0;d<i.length;d++)if(i[d].node_===u){f.circular=i[d];break}}else f.isLeaf=!0;f.notLeaf=!f.isLeaf,f.notRoot=!f.isRoot;var m=e.call(f,f.node);if(m!==void 0&&f.update&&f.update(m),c.before&&c.before.call(f,f.node),typeof f.node=="object"&&f.node!==null&&!f.circular){i.push(f);var h=Object.keys(f.node);h.forEach(function(y,_){n.push(y),c.pre&&c.pre.call(f,f.node[y],y);var S=o(f.node[y]);r&&Object.hasOwnProperty.call(f.node,y)&&(f.node[y]=S.node),S.isLast=_==h.length-1,S.isFirst=_==0,c.post&&c.post.call(f,S),n.pop()}),i.pop()}return c.after&&c.after.call(f,f.node),f}(t).node}Object.keys(ur.prototype).forEach(function(t){ur[t]=function(e){var r=[].slice.call(arguments,1),n=ur(e);return n[t].apply(n,r)}});function cx(t){if(typeof t=="object"&&t!==null){var e;return Array.isArray(t)?e=[]:t instanceof Date?e=new Date(t):t instanceof Boolean?e=new Boolean(t):t instanceof Number?e=new Number(t):t instanceof String?e=new String(t):e=Object.create(Object.getPrototypeOf(t)),Object.keys(t).forEach(function(r){e[r]=t[r]}),e}else return t}});var hx=L((WK,dx)=>{var H$=fx(),W$=require("events").EventEmitter;dx.exports=zo;function zo(t){var e=zo.saw(t,{}),r=t.call(e.handlers,e);return r!==void 0&&(e.handlers=r),e.record(),e.chain()}zo.light=function(e){var r=zo.saw(e,{}),n=e.call(r.handlers,r);return n!==void 0&&(r.handlers=n),r.chain()};zo.saw=function(t,e){var r=new W$;return r.handlers=e,r.actions=[],r.chain=function(){var n=H$(r.handlers).map(function(i){if(this.isRoot)return i;var s=this.path;typeof i=="function"&&this.update(function(){return r.actions.push({path:s,args:[].slice.call(arguments)}),n})});return process.nextTick(function(){r.emit("begin"),r.next()}),n},r.pop=function(){return r.actions.shift()},r.next=function(){var n=r.pop();if(!n)r.emit("end");else if(!n.trap){var i=r.handlers;n.path.forEach(function(s){i=i[s]}),i.apply(r.handlers,n.args)}},r.nest=function(n){var i=[].slice.call(arguments,1),s=!0;if(typeof n=="boolean"){var s=n;n=i.shift()}var o=zo.saw(t,{}),u=t.call(o.handlers,o);u!==void 0&&(o.handlers=u),typeof r.step<"u"&&o.record(),n.apply(o.chain(),i),s!==!1&&o.on("end",r.next)},r.record=function(){$$(r)},["trap","down","jump"].forEach(function(n){r[n]=function(){throw new Error("To use the trap, down and jump features, please call record() first to start recording actions.")}}),r};function $$(t){t.step=0,t.pop=function(){return t.actions[t.step++]},t.trap=function(e,r){var n=Array.isArray(e)?e:[e];t.actions.push({path:n,step:t.step,cb:r,trap:!0})},t.down=function(e){var r=(Array.isArray(e)?e:[e]).join("/"),n=t.actions.slice(t.step).map(function(s){return s.trap&&s.step<=t.step?!1:s.path.join("/")==r}).indexOf(!0);n>=0?t.step+=n:t.step=t.actions.length;var i=t.actions[t.step-1];i&&i.trap?(t.step=i.step,i.cb()):t.next()},t.jump=function(e){t.step=e,t.next()}}});var mx=L(($K,px)=>{px.exports=vr;function vr(t){if(!(this instanceof vr))return new vr(t);this.buffers=t||[],this.length=this.buffers.reduce(function(e,r){return e+r.length},0)}vr.prototype.push=function(){for(var t=0;t<arguments.length;t++)if(!Buffer.isBuffer(arguments[t]))throw new TypeError("Tried to push a non-buffer");for(var t=0;t<arguments.length;t++){var e=arguments[t];this.buffers.push(e),this.length+=e.length}return this.length};vr.prototype.unshift=function(){for(var t=0;t<arguments.length;t++)if(!Buffer.isBuffer(arguments[t]))throw new TypeError("Tried to unshift a non-buffer");for(var t=0;t<arguments.length;t++){var e=arguments[t];this.buffers.unshift(e),this.length+=e.length}return this.length};vr.prototype.copy=function(t,e,r,n){return this.slice(r,n).copy(t,e,0,n-r)};vr.prototype.splice=function(t,e){var r=this.buffers,n=t>=0?t:this.length-t,i=[].slice.call(arguments,2);e===void 0?e=this.length-n:e>this.length-n&&(e=this.length-n);for(var t=0;t<i.length;t++)this.length+=i[t].length;for(var s=new vr,o=0,u=0,a=0;a<r.length&&u+r[a].length<n;a++)u+=r[a].length;if(n-u>0){var c=n-u;if(c+e<r[a].length){s.push(r[a].slice(c,c+e));for(var f=r[a],d=new Buffer(c),t=0;t<c;t++)d[t]=f[t];for(var m=new Buffer(f.length-c-e),t=c+e;t<f.length;t++)m[t-e-c]=f[t];if(i.length>0){var h=i.slice();h.unshift(d),h.push(m),r.splice.apply(r,[a,1].concat(h)),a+=h.length,i=[]}else r.splice(a,1,d,m),a+=2}else s.push(r[a].slice(c)),r[a]=r[a].slice(0,c),a++}for(i.length>0&&(r.splice.apply(r,[a,0].concat(i)),a+=i.length);s.length<e;){var y=r[a],_=y.length,S=Math.min(_,e-s.length);S===_?(s.push(y),r.splice(a,1)):(s.push(y.slice(0,S)),r[a]=r[a].slice(S))}return this.length-=s.length,s};vr.prototype.slice=function(t,e){var r=this.buffers;e===void 0&&(e=this.length),t===void 0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=0;i<r.length&&n+r[i].length<=t;i++)n+=r[i].length;for(var s=new Buffer(e-t),o=0,u=i;o<e-t&&u<r.length;u++){var a=r[u].length,c=o===0?t-n:0,f=o+a>=e-t?Math.min(c+(e-t)-o,a):a;r[u].copy(s,o,c,f),o+=f-c}return s};vr.prototype.pos=function(t){if(t<0||t>=this.length)throw new Error("oob");for(var e=t,r=0,n=null;;){if(n=this.buffers[r],e<n.length)return{buf:r,offset:e};e-=n.length,r++}};vr.prototype.get=function(e){var r=this.pos(e);return this.buffers[r.buf].get(r.offset)};vr.prototype.set=function(e,r){var n=this.pos(e);return this.buffers[n.buf].set(n.offset,r)};vr.prototype.indexOf=function(t,e){if(typeof t=="string")t=new Buffer(t);else if(!(t instanceof Buffer))throw new Error("Invalid type for a search string");if(!t.length)return 0;if(!this.length)return-1;var r=0,n=0,i=0,s,o=0;if(e){var u=this.pos(e);r=u.buf,n=u.offset,o=e}for(;;){for(;n>=this.buffers[r].length;)if(n=0,r++,r>=this.buffers.length)return-1;var a=this.buffers[r][n];if(a==t[i]){if(i==0&&(s={i:r,j:n,pos:o}),i++,i==t.length)return s.pos}else i!=0&&(r=s.i,n=s.j,o=s.pos,i=0);n++,o++}};vr.prototype.toBuffer=function(){return this.slice()};vr.prototype.toString=function(t,e,r){return this.slice(e,r).toString(t)}});var vx=L((zK,gx)=>{gx.exports=function(t){function e(n,i){var s=r.store,o=n.split(".");o.slice(0,-1).forEach(function(a){s[a]===void 0&&(s[a]={}),s=s[a]});var u=o[o.length-1];return arguments.length==1?s[u]:s[u]=i}var r={get:function(n){return e(n)},set:function(n,i){return e(n,i)},store:t||{}};return r}});var Iu=L((Ns,bx)=>{var z$=hx(),yx=require("events").EventEmitter,G$=mx(),ad=vx(),V$=require("stream").Stream;Ns=bx.exports=function(t,e){if(Buffer.isBuffer(t))return Ns.parse(t);var r=Ns.stream();return t&&t.pipe?t.pipe(r):t&&(t.on(e||"data",function(n){r.write(n)}),t.on("end",function(){r.end()})),r};Ns.stream=function(t){if(t)return Ns.apply(null,arguments);var e=null;function r(d,m,h){e={bytes:d,skip:h,cb:function(y){e=null,m(y)}},i()}var n=null;function i(){if(!e){f&&(c=!0);return}if(typeof e=="function")e();else{var d=n+e.bytes;if(u.length>=d){var m;n==null?(m=u.splice(0,d),e.skip||(m=m.slice())):(e.skip||(m=u.slice(n,d)),n=d),e.skip?e.cb():e.cb(m)}}}function s(d){function m(){c||d.next()}var h=Ex(function(y,_){return function(S){r(y,function(D){a.set(S,_(D)),m()})}});return h.tap=function(y){d.nest(y,a.store)},h.into=function(y,_){a.get(y)||a.set(y,{});var S=a;a=ad(S.get(y)),d.nest(function(){_.apply(this,arguments),this.tap(function(){a=S})},a.store)},h.flush=function(){a.store={},m()},h.loop=function(y){var _=!1;d.nest(!1,function S(){this.vars=a.store,y.call(this,function(){_=!0,m()},a.store),this.tap(function(){_?d.next():S.call(this)}.bind(this))},a.store)},h.buffer=function(y,_){typeof _=="string"&&(_=a.get(_)),r(_,function(S){a.set(y,S),m()})},h.skip=function(y){typeof y=="string"&&(y=a.get(y)),r(y,function(){m()})},h.scan=function(_,S){if(typeof S=="string")S=new Buffer(S);else if(!Buffer.isBuffer(S))throw new Error("search must be a Buffer or a string");var D=0;e=function(){var w=u.indexOf(S,n+D),T=w-n-D;w!==-1?(e=null,n!=null?(a.set(_,u.slice(n,n+D+T)),n+=D+T+S.length):(a.set(_,u.slice(0,D+T)),u.splice(0,D+T+S.length)),m(),i()):T=Math.max(u.length-S.length-n-D,0),D+=T},i()},h.peek=function(y){n=0,d.nest(function(){y.call(this,a.store),this.tap(function(){n=null})})},h}var o=z$.light(s);o.writable=!0;var u=G$();o.write=function(d){u.push(d),i()};var a=ad(),c=!1,f=!1;return o.end=function(){f=!0},o.pipe=V$.prototype.pipe,Object.getOwnPropertyNames(yx.prototype).forEach(function(d){o[d]=yx.prototype[d]}),o};Ns.parse=function(e){var r=Ex(function(s,o){return function(u){if(n+s<=e.length){var a=e.slice(n,n+s);n+=s,i.set(u,o(a))}else i.set(u,null);return r}}),n=0,i=ad();return r.vars=i.store,r.tap=function(s){return s.call(r,i.store),r},r.into=function(s,o){i.get(s)||i.set(s,{});var u=i;return i=ad(u.get(s)),o.call(r,i.store),i=u,r},r.loop=function(s){for(var o=!1,u=function(){o=!0};o===!1;)s.call(r,u,i.store);return r},r.buffer=function(s,o){typeof o=="string"&&(o=i.get(o));var u=e.slice(n,Math.min(e.length,n+o));return n+=o,i.set(s,u),r},r.skip=function(s){return typeof s=="string"&&(s=i.get(s)),n+=s,r},r.scan=function(s,o){if(typeof o=="string")o=new Buffer(o);else if(!Buffer.isBuffer(o))throw new Error("search must be a Buffer or a string");i.set(s,null);for(var u=0;u+n<=e.length-o.length+1;u++){for(var a=0;a<o.length&&e[n+u+a]===o[a];a++);if(a===o.length)break}return i.set(s,e.slice(n,n+u)),n+=u+o.length,r},r.peek=function(s){var o=n;return s.call(r,i.store),n=o,r},r.flush=function(){return i.store={},r},r.eof=function(){return n>=e.length},r};function _x(t){for(var e=0,r=0;r<t.length;r++)e+=Math.pow(256,r)*t[r];return e}function wx(t){for(var e=0,r=0;r<t.length;r++)e+=Math.pow(256,t.length-r-1)*t[r];return e}function K$(t){var e=wx(t);return(t[0]&128)==128&&(e-=Math.pow(256,t.length)),e}function X$(t){var e=_x(t);return(t[t.length-1]&128)==128&&(e-=Math.pow(256,t.length)),e}function Ex(t){var e={};return[1,2,4,8].forEach(function(r){var n=r*8;e["word"+n+"le"]=e["word"+n+"lu"]=t(r,_x),e["word"+n+"ls"]=t(r,X$),e["word"+n+"be"]=e["word"+n+"bu"]=t(r,wx),e["word"+n+"bs"]=t(r,K$)}),e.word8=e.word8u=e.word8be,e.word8s=e.word8bs,e}});var Fs=L((GK,l_)=>{var u_=function(){"use strict";return this===void 0}();u_?l_.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:u_,propertyIsWritable:function(t,e){var r=Object.getOwnPropertyDescriptor(t,e);return!!(!r||r.writable||r.set)}}:(Cx={}.hasOwnProperty,Sx={}.toString,Tx={}.constructor.prototype,c_=function(t){var e=[];for(var r in t)Cx.call(t,r)&&e.push(r);return e},Rx=function(t,e){return{value:t[e]}},Dx=function(t,e,r){return t[e]=r.value,t},Ox=function(t){return t},xx=function(t){try{return Object(t).constructor.prototype}catch{return Tx}},Px=function(t){try{return Sx.call(t)==="[object Array]"}catch{return!1}},l_.exports={isArray:Px,keys:c_,names:c_,defineProperty:Dx,getDescriptor:Rx,freeze:Ox,getPrototypeOf:xx,isES5:u_,propertyIsWritable:function(){return!0}});var Cx,Sx,Tx,c_,Rx,Dx,Ox,xx,Px});var lt=L((exports,module)=>{"use strict";var es5=Fs(),canEvaluate=typeof navigator>"u",errorObj={e:{}},tryCatchTarget,globalObject=typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:exports!==void 0?exports:null;function tryCatcher(){try{var t=tryCatchTarget;return tryCatchTarget=null,t.apply(this,arguments)}catch(e){return errorObj.e=e,errorObj}}function tryCatch(t){return tryCatchTarget=t,tryCatcher}var inherits=function(t,e){var r={}.hasOwnProperty;function n(){this.constructor=t,this.constructor$=e;for(var i in e.prototype)r.call(e.prototype,i)&&i.charAt(i.length-1)!=="$"&&(this[i+"$"]=e.prototype[i])}return n.prototype=e.prototype,t.prototype=new n,t.prototype};function isPrimitive(t){return t==null||t===!0||t===!1||typeof t=="string"||typeof t=="number"}function isObject(t){return typeof t=="function"||typeof t=="object"&&t!==null}function maybeWrapAsError(t){return isPrimitive(t)?new Error(safeToString(t)):t}function withAppended(t,e){var r=t.length,n=new Array(r+1),i;for(i=0;i<r;++i)n[i]=t[i];return n[i]=e,n}function getDataPropertyOrDefault(t,e,r){if(es5.isES5){var n=Object.getOwnPropertyDescriptor(t,e);if(n!=null)return n.get==null&&n.set==null?n.value:r}else return{}.hasOwnProperty.call(t,e)?t[e]:void 0}function notEnumerableProp(t,e,r){if(isPrimitive(t))return t;var n={value:r,configurable:!0,enumerable:!1,writable:!0};return es5.defineProperty(t,e,n),t}function thrower(t){throw t}var inheritedDataKeys=function(){var t=[Array.prototype,Object.prototype,Function.prototype],e=function(i){for(var s=0;s<t.length;++s)if(t[s]===i)return!0;return!1};if(es5.isES5){var r=Object.getOwnPropertyNames;return function(i){for(var s=[],o=Object.create(null);i!=null&&!e(i);){var u;try{u=r(i)}catch{return s}for(var a=0;a<u.length;++a){var c=u[a];if(!o[c]){o[c]=!0;var f=Object.getOwnPropertyDescriptor(i,c);f!=null&&f.get==null&&f.set==null&&s.push(c)}}i=es5.getPrototypeOf(i)}return s}}else{var n={}.hasOwnProperty;return function(i){if(e(i))return[];var s=[];e:for(var o in i)if(n.call(i,o))s.push(o);else{for(var u=0;u<t.length;++u)if(n.call(t[u],o))continue e;s.push(o)}return s}}}(),thisAssignmentPattern=/this\s*\.\s*\S+\s*=/;function isClass(t){try{if(typeof t=="function"){var e=es5.names(t.prototype),r=es5.isES5&&e.length>1,n=e.length>0&&!(e.length===1&&e[0]==="constructor"),i=thisAssignmentPattern.test(t+"")&&es5.names(t).length>0;if(r||n||i)return!0}return!1}catch{return!1}}function toFastProperties(obj){function FakeConstructor(){}FakeConstructor.prototype=obj;for(var l=8;l--;)new FakeConstructor;return obj}var rident=/^[a-z$_][a-z$_0-9]*$/i;function isIdentifier(t){return rident.test(t)}function filledRange(t,e,r){for(var n=new Array(t),i=0;i<t;++i)n[i]=e+i+r;return n}function safeToString(t){try{return t+""}catch{return"[no string representation]"}}function isError(t){return t!==null&&typeof t=="object"&&typeof t.message=="string"&&typeof t.name=="string"}function markAsOriginatingFromRejection(t){try{notEnumerableProp(t,"isOperational",!0)}catch{}}function originatesFromRejection(t){return t==null?!1:t instanceof Error.__BluebirdErrorTypes__.OperationalError||t.isOperational===!0}function canAttachTrace(t){return isError(t)&&es5.propertyIsWritable(t,"stack")}var ensureErrorObject=function(){return"stack"in new Error?function(t){return canAttachTrace(t)?t:new Error(safeToString(t))}:function(t){if(canAttachTrace(t))return t;try{throw new Error(safeToString(t))}catch(e){return e}}}();function classString(t){return{}.toString.call(t)}function copyDescriptors(t,e,r){for(var n=es5.names(t),i=0;i<n.length;++i){var s=n[i];if(r(s))try{es5.defineProperty(e,s,es5.getDescriptor(t,s))}catch{}}}var asArray=function(t){return es5.isArray(t)?t:null};typeof Symbol<"u"&&Symbol.iterator&&(ArrayFrom=typeof Array.from=="function"?function(t){return Array.from(t)}:function(t){for(var e=[],r=t[Symbol.iterator](),n;!(n=r.next()).done;)e.push(n.value);return e},asArray=function(t){return es5.isArray(t)?t:t!=null&&typeof t[Symbol.iterator]=="function"?ArrayFrom(t):null});var ArrayFrom,isNode=typeof process<"u"&&classString(process).toLowerCase()==="[object process]",hasEnvVariables=typeof process<"u"&&typeof process.env<"u";function env(t){return hasEnvVariables?process.env[t]:void 0}function getNativePromise(){if(typeof Promise=="function")try{var t=new Promise(function(){});if({}.toString.call(t)==="[object Promise]")return Promise}catch{}}function domainBind(t,e){return t.bind(e)}var ret={isClass,isIdentifier,inheritedDataKeys,getDataPropertyOrDefault,thrower,isArray:es5.isArray,asArray,notEnumerableProp,isPrimitive,isObject,isError,canEvaluate,errorObj,tryCatch,inherits,withAppended,maybeWrapAsError,toFastProperties,filledRange,toString:safeToString,canAttachTrace,ensureErrorObject,originatesFromRejection,markAsOriginatingFromRejection,classString,copyDescriptors,hasDevTools:typeof chrome<"u"&&chrome&&typeof chrome.loadTimes=="function",isNode,hasEnvVariables,env,global:globalObject,getNativePromise,domainBind};ret.isRecentNode=ret.isNode&&function(){var t=process.versions.node.split(".").map(Number);return t[0]===0&&t[1]>10||t[0]>0}();ret.isNode&&ret.toFastProperties(process);try{throw new Error}catch(t){ret.lastLineError=t}module.exports=ret});var kx=L((VK,Lx)=>{"use strict";var d_=lt(),Ls,Y$=function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)},f_=d_.getNativePromise();d_.isNode&&typeof MutationObserver>"u"?(Ix=global.setImmediate,Nx=process.nextTick,Ls=d_.isRecentNode?function(t){Ix.call(global,t)}:function(t){Nx.call(process,t)}):typeof f_=="function"&&typeof f_.resolve=="function"?(Fx=f_.resolve(),Ls=function(t){Fx.then(t)}):typeof MutationObserver<"u"&&!(typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova))?Ls=function(){var t=document.createElement("div"),e={attributes:!0},r=!1,n=document.createElement("div"),i=new MutationObserver(function(){t.classList.toggle("foo"),r=!1});i.observe(n,e);var s=function(){r||(r=!0,n.classList.toggle("foo"))};return function(u){var a=new MutationObserver(function(){a.disconnect(),u()});a.observe(t,e),s()}}():typeof setImmediate<"u"?Ls=function(t){setImmediate(t)}:typeof setTimeout<"u"?Ls=function(t){setTimeout(t,0)}:Ls=Y$;var Ix,Nx,Fx;Lx.exports=Ls});var qx=L((KK,Ax)=>{"use strict";function J$(t,e,r,n,i){for(var s=0;s<i;++s)r[s+n]=t[s+e],t[s+e]=void 0}function Ai(t){this._capacity=t,this._length=0,this._front=0}Ai.prototype._willBeOverCapacity=function(t){return this._capacity<t};Ai.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1);var r=this._front+e&this._capacity-1;this[r]=t,this._length=e+1};Ai.prototype.push=function(t,e,r){var n=this.length()+3;if(this._willBeOverCapacity(n)){this._pushOne(t),this._pushOne(e),this._pushOne(r);return}var i=this._front+n-3;this._checkCapacity(n);var s=this._capacity-1;this[i+0&s]=t,this[i+1&s]=e,this[i+2&s]=r,this._length=n};Ai.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e};Ai.prototype.length=function(){return this._length};Ai.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)};Ai.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t;var r=this._front,n=this._length,i=r+n&e-1;J$(this,0,this,e,i)};Ax.exports=Ai});var $x=L((XK,h_)=>{"use strict";var Hx;try{throw new Error}catch(t){Hx=t}var Z$=kx(),Mx=qx(),Wx=lt();function Xt(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new Mx(16),this._normalQueue=new Mx(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=Z$}Xt.prototype.setScheduler=function(t){var e=this._schedule;return this._schedule=t,this._customScheduler=!0,e};Xt.prototype.hasCustomScheduler=function(){return this._customScheduler};Xt.prototype.enableTrampoline=function(){this._trampolineEnabled=!0};Xt.prototype.disableTrampolineIfNecessary=function(){Wx.hasDevTools&&(this._trampolineEnabled=!1)};Xt.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues};Xt.prototype.fatalError=function(t,e){e?(process.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+`
`),process.exit(2)):this.throwLater(t)};Xt.prototype.throwLater=function(t,e){if(arguments.length===1&&(e=t,t=function(){throw e}),typeof setTimeout<"u")setTimeout(function(){t(e)},0);else try{this._schedule(function(){t(e)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}};function jx(t,e,r){this._lateQueue.push(t,e,r),this._queueTick()}function Ux(t,e,r){this._normalQueue.push(t,e,r),this._queueTick()}function Bx(t){this._normalQueue._pushOne(t),this._queueTick()}Wx.hasDevTools?(Xt.prototype.invokeLater=function(t,e,r){this._trampolineEnabled?jx.call(this,t,e,r):this._schedule(function(){setTimeout(function(){t.call(e,r)},100)})},Xt.prototype.invoke=function(t,e,r){this._trampolineEnabled?Ux.call(this,t,e,r):this._schedule(function(){t.call(e,r)})},Xt.prototype.settlePromises=function(t){this._trampolineEnabled?Bx.call(this,t):this._schedule(function(){t._settlePromises()})}):(Xt.prototype.invokeLater=jx,Xt.prototype.invoke=Ux,Xt.prototype.settlePromises=Bx);Xt.prototype._drainQueue=function(t){for(;t.length()>0;){var e=t.shift();if(typeof e!="function"){e._settlePromises();continue}var r=t.shift(),n=t.shift();e.call(r,n)}};Xt.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)};Xt.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))};Xt.prototype._reset=function(){this._isTickUsed=!1};h_.exports=Xt;h_.exports.firstLineError=Hx});var ti=L((YK,Vx)=>{"use strict";var g_=Fs(),Q$=g_.freeze,zx=lt(),Gx=zx.inherits,Vo=zx.notEnumerableProp;function Ko(t,e){function r(n){if(!(this instanceof r))return new r(n);Vo(this,"message",typeof n=="string"?n:e),Vo(this,"name",t),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return Gx(r,Error),r}var p_,m_,ez=Ko("Warning","warning"),tz=Ko("CancellationError","cancellation error"),rz=Ko("TimeoutError","timeout error"),Fu=Ko("AggregateError","aggregate error");try{p_=TypeError,m_=RangeError}catch{p_=Ko("TypeError","type error"),m_=Ko("RangeError","range error")}var ud="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" ");for(Go=0;Go<ud.length;++Go)typeof Array.prototype[ud[Go]]=="function"&&(Fu.prototype[ud[Go]]=Array.prototype[ud[Go]]);var Go;g_.defineProperty(Fu.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0});Fu.prototype.isOperational=!0;var cd=0;Fu.prototype.toString=function(){var t=Array(cd*4+1).join(" "),e=`
`+t+`AggregateError of:
`;cd++,t=Array(cd*4+1).join(" ");for(var r=0;r<this.length;++r){for(var n=this[r]===this?"[Circular AggregateError]":this[r]+"",i=n.split(`
`),s=0;s<i.length;++s)i[s]=t+i[s];n=i.join(`
`),e+=n+`
`}return cd--,e};function Nu(t){if(!(this instanceof Nu))return new Nu(t);Vo(this,"name","OperationalError"),Vo(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof Error?(Vo(this,"message",t.message),Vo(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}Gx(Nu,Error);var ks=Error.__BluebirdErrorTypes__;ks||(ks=Q$({CancellationError:tz,TimeoutError:rz,OperationalError:Nu,RejectionError:Nu,AggregateError:Fu}),g_.defineProperty(Error,"__BluebirdErrorTypes__",{value:ks,writable:!1,enumerable:!1,configurable:!1}));Vx.exports={Error,TypeError:p_,RangeError:m_,CancellationError:ks.CancellationError,OperationalError:ks.OperationalError,TimeoutError:ks.TimeoutError,AggregateError:ks.AggregateError,Warning:ez}});var Xx=L((JK,Kx)=>{"use strict";Kx.exports=function(t,e){var r=lt(),n=r.errorObj,i=r.isObject;function s(d,m){if(i(d)){if(d instanceof t)return d;var h=u(d);if(h===n){m&&m._pushContext();var y=t.reject(h.e);return m&&m._popContext(),y}else if(typeof h=="function"){if(c(d)){var y=new t(e);return d._then(y._fulfill,y._reject,void 0,y,null),y}return f(d,h,m)}}return d}function o(d){return d.then}function u(d){try{return o(d)}catch(m){return n.e=m,n}}var a={}.hasOwnProperty;function c(d){try{return a.call(d,"_promise0")}catch{return!1}}function f(d,m,h){var y=new t(e),_=y;h&&h._pushContext(),y._captureStackTrace(),h&&h._popContext();var S=!0,D=r.tryCatch(m).call(d,w,T);S=!1,y&&D===n&&(y._rejectCallback(D.e,!0,!0),y=null);function w(P){y&&(y._resolveCallback(P),y=null)}function T(P){y&&(y._rejectCallback(P,S,!0),y=null)}return _}return s}});var Jx=L((ZK,Yx)=>{"use strict";Yx.exports=function(t,e,r,n,i){var s=lt(),o=s.isArray;function u(c){switch(c){case-2:return[];case-3:return{}}}function a(c){var f=this._promise=new t(e);c instanceof t&&f._propagateFrom(c,3),f._setOnCancel(this),this._values=c,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return s.inherits(a,i),a.prototype.length=function(){return this._length},a.prototype.promise=function(){return this._promise},a.prototype._init=function c(f,d){var m=r(this._values,this._promise);if(m instanceof t){m=m._target();var h=m._bitField;if(this._values=m,h&50397184)if(h&33554432)m=m._value();else return h&16777216?this._reject(m._reason()):this._cancel();else return this._promise._setAsyncGuaranteed(),m._then(c,this._reject,void 0,this,d)}if(m=s.asArray(m),m===null){var y=n("expecting an array or an iterable object but got "+s.classString(m)).reason();this._promise._rejectCallback(y,!1);return}if(m.length===0){d===-5?this._resolveEmptyArray():this._resolve(u(d));return}this._iterate(m)},a.prototype._iterate=function(c){var f=this.getActualLength(c.length);this._length=f,this._values=this.shouldCopyValues()?new Array(f):this._values;for(var d=this._promise,m=!1,h=null,y=0;y<f;++y){var _=r(c[y],d);_ instanceof t?(_=_._target(),h=_._bitField):h=null,m?h!==null&&_.suppressUnhandledRejections():h!==null?h&50397184?h&33554432?m=this._promiseFulfilled(_._value(),y):h&16777216?m=this._promiseRejected(_._reason(),y):m=this._promiseCancelled(y):(_._proxy(this,y),this._values[y]=_):m=this._promiseFulfilled(_,y)}m||d._setAsyncGuaranteed()},a.prototype._isResolved=function(){return this._values===null},a.prototype._resolve=function(c){this._values=null,this._promise._fulfill(c)},a.prototype._cancel=function(){this._isResolved()||!this._promise._isCancellable()||(this._values=null,this._promise._cancel())},a.prototype._reject=function(c){this._values=null,this._promise._rejectCallback(c,!1)},a.prototype._promiseFulfilled=function(c,f){this._values[f]=c;var d=++this._totalResolved;return d>=this._length?(this._resolve(this._values),!0):!1},a.prototype._promiseCancelled=function(){return this._cancel(),!0},a.prototype._promiseRejected=function(c){return this._totalResolved++,this._reject(c),!0},a.prototype._resultCancelled=function(){if(!this._isResolved()){var c=this._values;if(this._cancel(),c instanceof t)c.cancel();else for(var f=0;f<c.length;++f)c[f]instanceof t&&c[f].cancel()}},a.prototype.shouldCopyValues=function(){return!0},a.prototype.getActualLength=function(c){return c},a}});var Qx=L((QK,Zx)=>{"use strict";Zx.exports=function(t){var e=!1,r=[];t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){};function n(){this._trace=new n.CapturedTrace(s())}n.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,r.push(this._trace))},n.prototype._popContext=function(){if(this._trace!==void 0){var o=r.pop(),u=o._promiseCreated;return o._promiseCreated=null,u}return null};function i(){if(e)return new n}function s(){var o=r.length-1;if(o>=0)return r[o]}return n.CapturedTrace=null,n.create=i,n.deactivateLongStackTraces=function(){},n.activateLongStackTraces=function(){var o=t.prototype._pushContext,u=t.prototype._popContext,a=t._peekContext,c=t.prototype._peekContext,f=t.prototype._promiseCreated;n.deactivateLongStackTraces=function(){t.prototype._pushContext=o,t.prototype._popContext=u,t._peekContext=a,t.prototype._peekContext=c,t.prototype._promiseCreated=f,e=!1},e=!0,t.prototype._pushContext=n.prototype._pushContext,t.prototype._popContext=n.prototype._popContext,t._peekContext=t.prototype._peekContext=s,t.prototype._promiseCreated=function(){var d=this._peekContext();d&&d._promiseCreated==null&&(d._promiseCreated=this)}},n}});var tP=L((eX,eP)=>{"use strict";eP.exports=function(t,e){var r=t._getDomain,n=t._async,i=ti().Warning,s=lt(),o=s.canAttachTrace,u,a,c=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,f=/\((?:timers\.js):\d+:\d+\)/,d=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,m=null,h=null,y=!1,_,S=!!(s.env("BLUEBIRD_DEBUG")!=0&&(s.env("BLUEBIRD_DEBUG")||s.env("NODE_ENV")==="development")),D=!!(s.env("BLUEBIRD_WARNINGS")!=0&&(S||s.env("BLUEBIRD_WARNINGS"))),w=!!(s.env("BLUEBIRD_LONG_STACK_TRACES")!=0&&(S||s.env("BLUEBIRD_LONG_STACK_TRACES"))),T=s.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(D||!!s.env("BLUEBIRD_W_FORGOTTEN_RETURN"));t.prototype.suppressUnhandledRejections=function(){var j=this._target();j._bitField=j._bitField&-1048577|524288},t.prototype._ensurePossibleRejectionHandled=function(){this._bitField&524288||(this._setRejectionIsUnhandled(),n.invokeLater(this._notifyUnhandledRejection,this,void 0))},t.prototype._notifyUnhandledRejectionIsHandled=function(){Fe("rejectionHandled",u,void 0,this)},t.prototype._setReturnedNonUndefined=function(){this._bitField=this._bitField|268435456},t.prototype._returnedNonUndefined=function(){return(this._bitField&268435456)!==0},t.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var j=this._settledValue();this._setUnhandledRejectionIsNotified(),Fe("unhandledRejection",a,j,this)}},t.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|262144},t.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},t.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&262144)>0},t.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|1048576},t.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},t.prototype._isRejectionUnhandled=function(){return(this._bitField&1048576)>0},t.prototype._warn=function(j,v,R){return Re(j,v,R||this)},t.onPossiblyUnhandledRejection=function(j){var v=r();a=typeof j=="function"?v===null?j:s.domainBind(v,j):void 0},t.onUnhandledRejectionHandled=function(j){var v=r();u=typeof j=="function"?v===null?j:s.domainBind(v,j):void 0};var P=function(){};t.longStackTraces=function(){if(n.haveItemsQueued()&&!X.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!X.longStackTraces&&Rt()){var j=t.prototype._captureStackTrace,v=t.prototype._attachExtraTrace;X.longStackTraces=!0,P=function(){if(n.haveItemsQueued()&&!X.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);t.prototype._captureStackTrace=j,t.prototype._attachExtraTrace=v,e.deactivateLongStackTraces(),n.enableTrampoline(),X.longStackTraces=!1},t.prototype._captureStackTrace=oe,t.prototype._attachExtraTrace=ue,e.activateLongStackTraces(),n.disableTrampolineIfNecessary()}},t.hasLongStackTraces=function(){return X.longStackTraces&&Rt()};var M=function(){try{if(typeof CustomEvent=="function"){var j=new CustomEvent("CustomEvent");return s.global.dispatchEvent(j),function(v,R){var E=new CustomEvent(v.toLowerCase(),{detail:R,cancelable:!0});return!s.global.dispatchEvent(E)}}else if(typeof Event=="function"){var j=new Event("CustomEvent");return s.global.dispatchEvent(j),function(R,E){var C=new Event(R.toLowerCase(),{cancelable:!0});return C.detail=E,!s.global.dispatchEvent(C)}}else{var j=document.createEvent("CustomEvent");return j.initCustomEvent("testingtheevent",!1,!0,{}),s.global.dispatchEvent(j),function(R,E){var C=document.createEvent("CustomEvent");return C.initCustomEvent(R.toLowerCase(),!1,!0,E),!s.global.dispatchEvent(C)}}}catch{}return function(){return!1}}(),U=function(){return s.isNode?function(){return process.emit.apply(process,arguments)}:s.global?function(j){var v="on"+j.toLowerCase(),R=s.global[v];return R?(R.apply(s.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}}();function $(j,v){return{promise:v}}var k={promiseCreated:$,promiseFulfilled:$,promiseRejected:$,promiseResolved:$,promiseCancelled:$,promiseChained:function(j,v,R){return{promise:v,child:R}},warning:function(j,v){return{warning:v}},unhandledRejection:function(j,v,R){return{reason:v,promise:R}},rejectionHandled:$},K=function(j){var v=!1;try{v=U.apply(null,arguments)}catch(E){n.throwLater(E),v=!0}var R=!1;try{R=M(j,k[j].apply(null,arguments))}catch(E){n.throwLater(E),R=!0}return R||v};t.config=function(j){if(j=Object(j),"longStackTraces"in j&&(j.longStackTraces?t.longStackTraces():!j.longStackTraces&&t.hasLongStackTraces()&&P()),"warnings"in j){var v=j.warnings;X.warnings=!!v,T=X.warnings,s.isObject(v)&&"wForgottenReturn"in v&&(T=!!v.wForgottenReturn)}if("cancellation"in j&&j.cancellation&&!X.cancellation){if(n.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");t.prototype._clearCancellationData=le,t.prototype._propagateFrom=q,t.prototype._onCancel=te,t.prototype._setOnCancel=se,t.prototype._attachCancellationCallback=G,t.prototype._execute=ne,Y=q,X.cancellation=!0}return"monitoring"in j&&(j.monitoring&&!X.monitoring?(X.monitoring=!0,t.prototype._fireEvent=K):!j.monitoring&&X.monitoring&&(X.monitoring=!1,t.prototype._fireEvent=ie)),t};function ie(){return!1}t.prototype._fireEvent=ie,t.prototype._execute=function(j,v,R){try{j(v,R)}catch(E){return E}},t.prototype._onCancel=function(){},t.prototype._setOnCancel=function(j){},t.prototype._attachCancellationCallback=function(j){},t.prototype._captureStackTrace=function(){},t.prototype._attachExtraTrace=function(){},t.prototype._clearCancellationData=function(){},t.prototype._propagateFrom=function(j,v){};function ne(j,v,R){var E=this;try{j(v,R,function(C){if(typeof C!="function")throw new TypeError("onCancel must be a function, got: "+s.toString(C));E._attachCancellationCallback(C)})}catch(C){return C}}function G(j){if(!this._isCancellable())return this;var v=this._onCancel();v!==void 0?s.isArray(v)?v.push(j):this._setOnCancel([v,j]):this._setOnCancel(j)}function te(){return this._onCancelField}function se(j){this._onCancelField=j}function le(){this._cancellationParent=void 0,this._onCancelField=void 0}function q(j,v){if(v&1){this._cancellationParent=j;var R=j._branchesRemainingToCancel;R===void 0&&(R=0),j._branchesRemainingToCancel=R+1}v&2&&j._isBound()&&this._setBoundTo(j._boundTo)}function z(j,v){v&2&&j._isBound()&&this._setBoundTo(j._boundTo)}var Y=z;function J(){var j=this._boundTo;return j!==void 0&&j instanceof t?j.isFulfilled()?j.value():void 0:j}function oe(){this._trace=new nt(this._peekContext())}function ue(j,v){if(o(j)){var R=this._trace;if(R!==void 0&&v&&(R=R._parent),R!==void 0)R.attachExtraTrace(j);else if(!j.__stackCleaned__){var E=Se(j);s.notEnumerableProp(j,"stack",E.message+`
`+E.stack.join(`
`)),s.notEnumerableProp(j,"__stackCleaned__",!0)}}}function we(j,v,R,E,C){if(j===void 0&&v!==null&&T){if(C!==void 0&&C._returnedNonUndefined()||!(E._bitField&65535))return;R&&(R=R+" ");var b="",O="";if(v._trace){for(var N=v._trace.stack.split(`
`),p=Q(N),g=p.length-1;g>=0;--g){var A=p[g];if(!f.test(A)){var W=A.match(d);W&&(b="at "+W[1]+":"+W[2]+":"+W[3]+" ");break}}if(p.length>0){for(var ee=p[0],g=0;g<N.length;++g)if(N[g]===ee){g>0&&(O=`
`+N[g-1]);break}}}var ce="a promise was created in a "+R+"handler "+b+"but was not returned from it, see http://goo.gl/rRqMUw"+O;E._warn(ce,!0,v)}}function _e(j,v){var R=j+" is deprecated and will be removed in a future version.";return v&&(R+=" Use "+v+" instead."),Re(R)}function Re(j,v,R){if(X.warnings){var E=new i(j),C;if(v)R._attachExtraTrace(E);else if(X.longStackTraces&&(C=t._peekContext()))C.attachExtraTrace(E);else{var b=Se(E);E.stack=b.message+`
`+b.stack.join(`
`)}K("warning",E)||ke(E,"",!0)}}function Ue(j,v){for(var R=0;R<v.length-1;++R)v[R].push("From previous event:"),v[R]=v[R].join(`
`);return R<v.length&&(v[R]=v[R].join(`
`)),j+`
`+v.join(`
`)}function F(j){for(var v=0;v<j.length;++v)(j[v].length===0||v+1<j.length&&j[v][0]===j[v+1][0])&&(j.splice(v,1),v--)}function I(j){for(var v=j[0],R=1;R<j.length;++R){for(var E=j[R],C=v.length-1,b=v[C],O=-1,N=E.length-1;N>=0;--N)if(E[N]===b){O=N;break}for(var N=O;N>=0;--N){var p=E[N];if(v[C]===p)v.pop(),C--;else break}v=E}}function Q(j){for(var v=[],R=0;R<j.length;++R){var E=j[R],C=E==="    (No stack trace)"||m.test(E),b=C&&Ce(E);C&&!b&&(y&&E.charAt(0)!==" "&&(E="    "+E),v.push(E))}return v}function V(j){for(var v=j.stack.replace(/\s+$/g,"").split(`
`),R=0;R<v.length;++R){var E=v[R];if(E==="    (No stack trace)"||m.test(E))break}return R>0&&j.name!="SyntaxError"&&(v=v.slice(R)),v}function Se(j){var v=j.stack,R=j.toString();return v=typeof v=="string"&&v.length>0?V(j):["    (No stack trace)"],{message:R,stack:j.name=="SyntaxError"?v:Q(v)}}function ke(j,v,R){if(typeof console<"u"){var E;if(s.isObject(j)){var C=j.stack;E=v+h(C,j)}else E=v+String(j);typeof _=="function"?_(E,R):(typeof console.log=="function"||typeof console.log=="object")&&console.log(E)}}function Fe(j,v,R,E){var C=!1;try{typeof v=="function"&&(C=!0,j==="rejectionHandled"?v(E):v(R,E))}catch(b){n.throwLater(b)}j==="unhandledRejection"?!K(j,R,E)&&!C&&ke(R,"Unhandled rejection "):K(j,E)}function Je(j){var v;if(typeof j=="function")v="[function "+(j.name||"anonymous")+"]";else{v=j&&typeof j.toString=="function"?j.toString():s.toString(j);var R=/\[object [a-zA-Z0-9$_]+\]/;if(R.test(v))try{var E=JSON.stringify(j);v=E}catch{}v.length===0&&(v="(empty array)")}return"(<"+rt(v)+">, no stack trace)"}function rt(j){var v=41;return j.length<v?j:j.substr(0,v-3)+"..."}function Rt(){return typeof Z=="function"}var Ce=function(){return!1},Ze=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function Dt(j){var v=j.match(Ze);if(v)return{fileName:v[1],line:parseInt(v[2],10)}}function Qe(j,v){if(Rt()){for(var R=j.stack.split(`
`),E=v.stack.split(`
`),C=-1,b=-1,O,N,p=0;p<R.length;++p){var g=Dt(R[p]);if(g){O=g.fileName,C=g.line;break}}for(var p=0;p<E.length;++p){var g=Dt(E[p]);if(g){N=g.fileName,b=g.line;break}}C<0||b<0||!O||!N||O!==N||C>=b||(Ce=function(A){if(c.test(A))return!0;var W=Dt(A);return!!(W&&W.fileName===O&&C<=W.line&&W.line<=b)})}}function nt(j){this._parent=j,this._promisesCreated=0;var v=this._length=1+(j===void 0?0:j._length);Z(this,nt),v>32&&this.uncycle()}s.inherits(nt,Error),e.CapturedTrace=nt,nt.prototype.uncycle=function(){var j=this._length;if(!(j<2)){for(var v=[],R={},E=0,C=this;C!==void 0;++E)v.push(C),C=C._parent;j=this._length=E;for(var E=j-1;E>=0;--E){var b=v[E].stack;R[b]===void 0&&(R[b]=E)}for(var E=0;E<j;++E){var O=v[E].stack,N=R[O];if(N!==void 0&&N!==E){N>0&&(v[N-1]._parent=void 0,v[N-1]._length=1),v[E]._parent=void 0,v[E]._length=1;var p=E>0?v[E-1]:this;N<j-1?(p._parent=v[N+1],p._parent.uncycle(),p._length=p._parent._length+1):(p._parent=void 0,p._length=1);for(var g=p._length+1,A=E-2;A>=0;--A)v[A]._length=g,g++;return}}}},nt.prototype.attachExtraTrace=function(j){if(!j.__stackCleaned__){this.uncycle();for(var v=Se(j),R=v.message,E=[v.stack],C=this;C!==void 0;)E.push(Q(C.stack.split(`
`))),C=C._parent;I(E),F(E),s.notEnumerableProp(j,"stack",Ue(R,E)),s.notEnumerableProp(j,"__stackCleaned__",!0)}};var Z=function(){var v=/^\s*at\s*/,R=function(O,N){return typeof O=="string"?O:N.name!==void 0&&N.message!==void 0?N.toString():Je(N)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,m=v,h=R;var E=Error.captureStackTrace;return Ce=function(O){return c.test(O)},function(O,N){Error.stackTraceLimit+=6,E(O,N),Error.stackTraceLimit-=6}}var C=new Error;if(typeof C.stack=="string"&&C.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return m=/@/,h=R,y=!0,function(N){N.stack=new Error().stack};var b;try{throw new Error}catch(O){b="stack"in O}return!("stack"in C)&&b&&typeof Error.stackTraceLimit=="number"?(m=v,h=R,function(N){Error.stackTraceLimit+=6;try{throw new Error}catch(p){N.stack=p.stack}Error.stackTraceLimit-=6}):(h=function(O,N){return typeof O=="string"?O:(typeof N=="object"||typeof N=="function")&&N.name!==void 0&&N.message!==void 0?N.toString():Je(N)},null)}([]);typeof console<"u"&&typeof console.warn<"u"&&(_=function(j){console.warn(j)},s.isNode&&process.stderr.isTTY?_=function(j,v){var R=v?"\x1B[33m":"\x1B[31m";console.warn(R+j+`\x1B[0m
`)}:!s.isNode&&typeof new Error().stack=="string"&&(_=function(j,v){console.warn("%c"+j,v?"color: darkorange":"color: red")}));var X={warnings:D,longStackTraces:!1,cancellation:!1,monitoring:!1};return w&&t.longStackTraces(),{longStackTraces:function(){return X.longStackTraces},warnings:function(){return X.warnings},cancellation:function(){return X.cancellation},monitoring:function(){return X.monitoring},propagateFromFunction:function(){return Y},boundValueFunction:function(){return J},checkForgottenReturns:we,setBounds:Qe,warn:Re,deprecated:_e,CapturedTrace:nt,fireDomEvent:M,fireGlobalEvent:U}}});var nP=L((tX,rP)=>{"use strict";rP.exports=function(t,e){var r=lt(),n=t.CancellationError,i=r.errorObj;function s(d,m,h){this.promise=d,this.type=m,this.handler=h,this.called=!1,this.cancelPromise=null}s.prototype.isFinallyHandler=function(){return this.type===0};function o(d){this.finallyHandler=d}o.prototype._resultCancelled=function(){u(this.finallyHandler)};function u(d,m){return d.cancelPromise!=null?(arguments.length>1?d.cancelPromise._reject(m):d.cancelPromise._cancel(),d.cancelPromise=null,!0):!1}function a(){return f.call(this,this.promise._target()._settledValue())}function c(d){if(!u(this,d))return i.e=d,i}function f(d){var m=this.promise,h=this.handler;if(!this.called){this.called=!0;var y=this.isFinallyHandler()?h.call(m._boundValue()):h.call(m._boundValue(),d);if(y!==void 0){m._setReturnedNonUndefined();var _=e(y,m);if(_ instanceof t){if(this.cancelPromise!=null)if(_._isCancelled()){var S=new n("late cancellation observer");return m._attachExtraTrace(S),i.e=S,i}else _.isPending()&&_._attachCancellationCallback(new o(this));return _._then(a,c,void 0,this,void 0)}}}return m.isRejected()?(u(this),i.e=d,i):(u(this),d)}return t.prototype._passThrough=function(d,m,h,y){return typeof d!="function"?this.then():this._then(h,y,void 0,new s(this,m,d),void 0)},t.prototype.lastly=t.prototype.finally=function(d){return this._passThrough(d,0,f,f)},t.prototype.tap=function(d){return this._passThrough(d,1,f)},s}});var sP=L((rX,iP)=>{"use strict";iP.exports=function(t){var e=lt(),r=Fs().keys,n=e.tryCatch,i=e.errorObj;function s(o,u,a){return function(c){var f=a._boundValue();e:for(var d=0;d<o.length;++d){var m=o[d];if(m===Error||m!=null&&m.prototype instanceof Error){if(c instanceof m)return n(u).call(f,c)}else if(typeof m=="function"){var h=n(m).call(f,c);if(h===i)return h;if(h)return n(u).call(f,c)}else if(e.isObject(c)){for(var y=r(m),_=0;_<y.length;++_){var S=y[_];if(m[S]!=c[S])continue e}return n(u).call(f,c)}}return t}}return s}});var v_=L((nX,uP)=>{"use strict";var oP=lt(),nz=oP.maybeWrapAsError,iz=ti(),sz=iz.OperationalError,aP=Fs();function oz(t){return t instanceof Error&&aP.getPrototypeOf(t)===Error.prototype}var az=/^(?:name|message|stack|cause)$/;function uz(t){var e;if(oz(t)){e=new sz(t),e.name=t.name,e.message=t.message,e.stack=t.stack;for(var r=aP.keys(t),n=0;n<r.length;++n){var i=r[n];az.test(i)||(e[i]=t[i])}return e}return oP.markAsOriginatingFromRejection(t),t}function cz(t,e){return function(r,n){if(t!==null){if(r){var i=uz(nz(r));t._attachExtraTrace(i),t._reject(i)}else if(!e)t._fulfill(n);else{for(var s=arguments.length,o=new Array(Math.max(s-1,0)),u=1;u<s;++u)o[u-1]=arguments[u];t._fulfill(o)}t=null}}}uP.exports=cz});var lP=L((iX,cP)=>{"use strict";cP.exports=function(t,e,r,n,i){var s=lt(),o=s.tryCatch;t.method=function(u){if(typeof u!="function")throw new t.TypeError("expecting a function but got "+s.classString(u));return function(){var a=new t(e);a._captureStackTrace(),a._pushContext();var c=o(u).apply(this,arguments),f=a._popContext();return i.checkForgottenReturns(c,f,"Promise.method",a),a._resolveFromSyncValue(c),a}},t.attempt=t.try=function(u){if(typeof u!="function")return n("expecting a function but got "+s.classString(u));var a=new t(e);a._captureStackTrace(),a._pushContext();var c;if(arguments.length>1){i.deprecated("calling Promise.try with more than 1 argument");var f=arguments[1],d=arguments[2];c=s.isArray(f)?o(u).apply(d,f):o(u).call(d,f)}else c=o(u)();var m=a._popContext();return i.checkForgottenReturns(c,m,"Promise.try",a),a._resolveFromSyncValue(c),a},t.prototype._resolveFromSyncValue=function(u){u===s.errorObj?this._rejectCallback(u.e,!1):this._resolveCallback(u,!0)}}});var dP=L((sX,fP)=>{"use strict";fP.exports=function(t,e,r,n){var i=!1,s=function(c,f){this._reject(f)},o=function(c,f){f.promiseRejectionQueued=!0,f.bindingPromise._then(s,s,null,this,c)},u=function(c,f){this._bitField&50397184||this._resolveCallback(f.target)},a=function(c,f){f.promiseRejectionQueued||this._reject(c)};t.prototype.bind=function(c){i||(i=!0,t.prototype._propagateFrom=n.propagateFromFunction(),t.prototype._boundValue=n.boundValueFunction());var f=r(c),d=new t(e);d._propagateFrom(this,1);var m=this._target();if(d._setBoundTo(f),f instanceof t){var h={promiseRejectionQueued:!1,promise:d,target:m,bindingPromise:f};m._then(e,o,void 0,d,h),f._then(u,a,void 0,d,h),d._setOnCancel(f)}else d._resolveCallback(m);return d},t.prototype._setBoundTo=function(c){c!==void 0?(this._bitField=this._bitField|2097152,this._boundTo=c):this._bitField=this._bitField&-2097153},t.prototype._isBound=function(){return(this._bitField&2097152)===2097152},t.bind=function(c,f){return t.resolve(f).bind(c)}}});var pP=L((oX,hP)=>{"use strict";hP.exports=function(t,e,r,n){var i=lt(),s=i.tryCatch,o=i.errorObj,u=t._async;t.prototype.break=t.prototype.cancel=function(){if(!n.cancellation())return this._warn("cancellation is disabled");for(var a=this,c=a;a._isCancellable();){if(!a._cancelBy(c)){c._isFollowing()?c._followee().cancel():c._cancelBranched();break}var f=a._cancellationParent;if(f==null||!f._isCancellable()){a._isFollowing()?a._followee().cancel():a._cancelBranched();break}else a._isFollowing()&&a._followee().cancel(),a._setWillBeCancelled(),c=a,a=f}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(a){return a===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),u.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(a,c){if(i.isArray(a))for(var f=0;f<a.length;++f)this._doInvokeOnCancel(a[f],c);else if(a!==void 0)if(typeof a=="function"){if(!c){var d=s(a).call(this._boundValue());d===o&&(this._attachExtraTrace(d.e),u.throwLater(d.e))}}else a._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var a=this._onCancel();this._unsetOnCancel(),u.invoke(this._doInvokeOnCancel,this,a)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}});var gP=L((aX,mP)=>{"use strict";mP.exports=function(t){function e(){return this.value}function r(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(n){return n instanceof t&&n.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:n},void 0)},t.prototype.throw=t.prototype.thenThrow=function(n){return this._then(r,void 0,void 0,{reason:n},void 0)},t.prototype.catchThrow=function(n){if(arguments.length<=1)return this._then(void 0,r,void 0,{reason:n},void 0);var i=arguments[1],s=function(){throw i};return this.caught(n,s)},t.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof t&&n.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:n},void 0);var i=arguments[1];i instanceof t&&i.suppressUnhandledRejections();var s=function(){return i};return this.caught(n,s)}}});var yP=L((uX,vP)=>{"use strict";vP.exports=function(t){function e(a){a!==void 0?(a=a._target(),this._bitField=a._bitField,this._settledValueField=a._isFateSealed()?a._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var r=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},n=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},i=e.prototype.isFulfilled=function(){return(this._bitField&33554432)!==0},s=e.prototype.isRejected=function(){return(this._bitField&16777216)!==0},o=e.prototype.isPending=function(){return(this._bitField&50397184)===0},u=e.prototype.isResolved=function(){return(this._bitField&50331648)!==0};e.prototype.isCancelled=function(){return(this._bitField&8454144)!==0},t.prototype.__isCancelled=function(){return(this._bitField&65536)===65536},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return(this._target()._bitField&8454144)!==0},t.prototype.isPending=function(){return o.call(this._target())},t.prototype.isRejected=function(){return s.call(this._target())},t.prototype.isFulfilled=function(){return i.call(this._target())},t.prototype.isResolved=function(){return u.call(this._target())},t.prototype.value=function(){return r.call(this._target())},t.prototype.reason=function(){var a=this._target();return a._unsetRejectionIsUnhandled(),n.call(a)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}});var wP=L((cX,_P)=>{"use strict";_P.exports=function(t,e,r,n,i,s){var o=lt(),u=o.canEvaluate,a=o.tryCatch,c=o.errorObj,f;if(u){for(var d=function(w){return new Function("value","holder",`                             
            'use strict';                                                    
            holder.pIndex = value;                                           
            holder.checkFulfillment(this);                                   
            `.replace(/Index/g,w))},m=function(w){return new Function("promise","holder",`                           
            'use strict';                                                    
            holder.pIndex = promise;                                         
            `.replace(/Index/g,w))},h=function(w){for(var T=new Array(w),P=0;P<T.length;++P)T[P]="this.p"+(P+1);var M=T.join(" = ")+" = null;",U=`var promise;
`+T.map(function(ie){return`                                                         
                promise = `+ie+`;                                      
                if (promise instanceof Promise) {                            
                    promise.cancel();                                        
                }                                                            
            `}).join(`
`),$=T.join(", "),k="Holder$"+w,K=`return function(tryCatch, errorObj, Promise, async) {    
            'use strict';                                                    
            function [TheName](fn) {                                         
                [TheProperties]                                              
                this.fn = fn;                                                
                this.asyncNeeded = true;                                     
                this.now = 0;                                                
            }                                                                
                                                                             
            [TheName].prototype._callFunction = function(promise) {          
                promise._pushContext();                                      
                var ret = tryCatch(this.fn)([ThePassedArguments]);           
                promise._popContext();                                       
                if (ret === errorObj) {                                      
                    promise._rejectCallback(ret.e, false);                   
                } else {                                                     
                    promise._resolveCallback(ret);                           
                }                                                            
            };                                                               
                                                                             
            [TheName].prototype.checkFulfillment = function(promise) {       
                var now = ++this.now;                                        
                if (now === [TheTotal]) {                                    
                    if (this.asyncNeeded) {                                  
                        async.invoke(this._callFunction, this, promise);     
                    } else {                                                 
                        this._callFunction(promise);                         
                    }                                                        
                                                                             
                }                                                            
            };                                                               
                                                                             
            [TheName].prototype._resultCancelled = function() {              
                [CancellationCode]                                           
            };                                                               
                                                                             
            return [TheName];                                                
        }(tryCatch, errorObj, Promise, async);                               
        `;return K=K.replace(/\[TheName\]/g,k).replace(/\[TheTotal\]/g,w).replace(/\[ThePassedArguments\]/g,$).replace(/\[TheProperties\]/g,M).replace(/\[CancellationCode\]/g,U),new Function("tryCatch","errorObj","Promise","async",K)(a,c,t,i)},y=[],_=[],S=[],D=0;D<8;++D)y.push(h(D+1)),_.push(d(D+1)),S.push(m(D+1));f=function(w){this._reject(w)}}t.join=function(){var w=arguments.length-1,T;if(w>0&&typeof arguments[w]=="function"&&(T=arguments[w],w<=8&&u)){var se=new t(n);se._captureStackTrace();for(var P=y[w-1],M=new P(T),U=_,$=0;$<w;++$){var k=r(arguments[$],se);if(k instanceof t){k=k._target();var K=k._bitField;K&50397184?K&33554432?U[$].call(se,k._value(),M):K&16777216?se._reject(k._reason()):se._cancel():(k._then(U[$],f,void 0,se,M),S[$](k,M),M.asyncNeeded=!1)}else U[$].call(se,k,M)}if(!se._isFateSealed()){if(M.asyncNeeded){var ie=s();ie!==null&&(M.fn=o.domainBind(ie,M.fn))}se._setAsyncGuaranteed(),se._setOnCancel(M)}return se}for(var ne=arguments.length,G=new Array(ne),te=0;te<ne;++te)G[te]=arguments[te];T&&G.pop();var se=new e(G).promise();return T!==void 0?se.spread(T):se}}});var bP=L((lX,EP)=>{"use strict";EP.exports=function(t,e,r,n,i,s){var o=t._getDomain,u=lt(),a=u.tryCatch,c=u.errorObj,f=t._async;function d(h,y,_,S){this.constructor$(h),this._promise._captureStackTrace();var D=o();this._callback=D===null?y:u.domainBind(D,y),this._preservedValues=S===i?new Array(this.length()):null,this._limit=_,this._inFlight=0,this._queue=[],f.invoke(this._asyncInit,this,void 0)}u.inherits(d,e),d.prototype._asyncInit=function(){this._init$(void 0,-2)},d.prototype._init=function(){},d.prototype._promiseFulfilled=function(h,y){var _=this._values,S=this.length(),D=this._preservedValues,w=this._limit;if(y<0){if(y=y*-1-1,_[y]=h,w>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(w>=1&&this._inFlight>=w)return _[y]=h,this._queue.push(y),!1;D!==null&&(D[y]=h);var T=this._promise,P=this._callback,M=T._boundValue();T._pushContext();var U=a(P).call(M,h,y,S),$=T._popContext();if(s.checkForgottenReturns(U,$,D!==null?"Promise.filter":"Promise.map",T),U===c)return this._reject(U.e),!0;var k=n(U,this._promise);if(k instanceof t){k=k._target();var K=k._bitField;if(K&50397184)if(K&33554432)U=k._value();else return K&16777216?(this._reject(k._reason()),!0):(this._cancel(),!0);else return w>=1&&this._inFlight++,_[y]=k,k._proxy(this,(y+1)*-1),!1}_[y]=U}var ie=++this._totalResolved;return ie>=S?(D!==null?this._filter(_,D):this._resolve(_),!0):!1},d.prototype._drainQueue=function(){for(var h=this._queue,y=this._limit,_=this._values;h.length>0&&this._inFlight<y;){if(this._isResolved())return;var S=h.pop();this._promiseFulfilled(_[S],S)}},d.prototype._filter=function(h,y){for(var _=y.length,S=new Array(_),D=0,w=0;w<_;++w)h[w]&&(S[D++]=y[w]);S.length=D,this._resolve(S)},d.prototype.preservedValues=function(){return this._preservedValues};function m(h,y,_,S){if(typeof y!="function")return r("expecting a function but got "+u.classString(y));var D=0;if(_!==void 0)if(typeof _=="object"&&_!==null){if(typeof _.concurrency!="number")return t.reject(new TypeError("'concurrency' must be a number but it is "+u.classString(_.concurrency)));D=_.concurrency}else return t.reject(new TypeError("options argument must be an object but it is "+u.classString(_)));return D=typeof D=="number"&&isFinite(D)&&D>=1?D:0,new d(h,y,D,S).promise()}t.prototype.map=function(h,y){return m(this,h,y,null)},t.map=function(h,y,_,S){return m(h,y,_,S)}}});var SP=L((fX,CP)=>{"use strict";var y_=Object.create;y_&&(__=y_(null),w_=y_(null),__[" size"]=w_[" size"]=0);var __,w_;CP.exports=function(t){var e=lt(),r=e.canEvaluate,n=e.isIdentifier,i,s,o=function(h){return new Function("ensureMethod",`                                    
        return function(obj) {                                               
            'use strict'                                                     
            var len = this.length;                                           
            ensureMethod(obj, 'methodName');                                 
            switch(len) {                                                    
                case 1: return obj.methodName(this[0]);                      
                case 2: return obj.methodName(this[0], this[1]);             
                case 3: return obj.methodName(this[0], this[1], this[2]);    
                case 0: return obj.methodName();                             
                default:                                                     
                    return obj.methodName.apply(obj, this);                  
            }                                                                
        };                                                                   
        `.replace(/methodName/g,h))(c)},u=function(h){return new Function("obj",`                                             
        'use strict';                                                        
        return obj.propertyName;                                             
        `.replace("propertyName",h))},a=function(h,y,_){var S=_[h];if(typeof S!="function"){if(!n(h))return null;if(S=y(h),_[h]=S,_[" size"]++,_[" size"]>512){for(var D=Object.keys(_),w=0;w<256;++w)delete _[D[w]];_[" size"]=D.length-256}}return S};i=function(h){return a(h,o,__)},s=function(h){return a(h,u,w_)};function c(h,y){var _;if(h!=null&&(_=h[y]),typeof _!="function"){var S="Object "+e.classString(h)+" has no method '"+e.toString(y)+"'";throw new t.TypeError(S)}return _}function f(h){var y=this.pop(),_=c(h,y);return _.apply(h,this)}t.prototype.call=function(h){for(var y=arguments.length,_=new Array(Math.max(y-1,0)),S=1;S<y;++S)_[S-1]=arguments[S];if(r){var D=i(h);if(D!==null)return this._then(D,void 0,void 0,_,void 0)}return _.push(h),this._then(f,void 0,void 0,_,void 0)};function d(h){return h[this]}function m(h){var y=+this;return y<0&&(y=Math.max(0,y+h.length)),h[y]}t.prototype.get=function(h){var y=typeof h=="number",_;if(y)_=m;else if(r){var S=s(h);_=S!==null?S:d}else _=d;return this._then(_,void 0,void 0,h,void 0)}}});var RP=L((dX,TP)=>{"use strict";TP.exports=function(t,e,r,n,i,s){var o=lt(),u=ti().TypeError,a=lt().inherits,c=o.errorObj,f=o.tryCatch,d={};function m(T){setTimeout(function(){throw T},0)}function h(T){var P=r(T);return P!==T&&typeof T._isDisposable=="function"&&typeof T._getDisposer=="function"&&T._isDisposable()&&P._setDisposable(T._getDisposer()),P}function y(T,P){var M=0,U=T.length,$=new t(i);function k(){if(M>=U)return $._fulfill();var K=h(T[M++]);if(K instanceof t&&K._isDisposable()){try{K=r(K._getDisposer().tryDispose(P),T.promise)}catch(ie){return m(ie)}if(K instanceof t)return K._then(k,m,null,null,null)}k()}return k(),$}function _(T,P,M){this._data=T,this._promise=P,this._context=M}_.prototype.data=function(){return this._data},_.prototype.promise=function(){return this._promise},_.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():d},_.prototype.tryDispose=function(T){var P=this.resource(),M=this._context;M!==void 0&&M._pushContext();var U=P!==d?this.doDispose(P,T):null;return M!==void 0&&M._popContext(),this._promise._unsetDisposable(),this._data=null,U},_.isDisposer=function(T){return T!=null&&typeof T.resource=="function"&&typeof T.tryDispose=="function"};function S(T,P,M){this.constructor$(T,P,M)}a(S,_),S.prototype.doDispose=function(T,P){var M=this.data();return M.call(T,T,P)};function D(T){return _.isDisposer(T)?(this.resources[this.index]._setDisposable(T),T.promise()):T}function w(T){this.length=T,this.promise=null,this[T-1]=null}w.prototype._resultCancelled=function(){for(var T=this.length,P=0;P<T;++P){var M=this[P];M instanceof t&&M.cancel()}},t.using=function(){var T=arguments.length;if(T<2)return e("you must pass at least 2 arguments to Promise.using");var P=arguments[T-1];if(typeof P!="function")return e("expecting a function but got "+o.classString(P));var M,U=!0;T===2&&Array.isArray(arguments[0])?(M=arguments[0],T=M.length,U=!1):(M=arguments,T--);for(var $=new w(T),k=0;k<T;++k){var K=M[k];if(_.isDisposer(K)){var ie=K;K=K.promise(),K._setDisposable(ie)}else{var ne=r(K);ne instanceof t&&(K=ne._then(D,null,null,{resources:$,index:k},void 0))}$[k]=K}for(var G=new Array($.length),k=0;k<G.length;++k)G[k]=t.resolve($[k]).reflect();var te=t.all(G).then(function(le){for(var q=0;q<le.length;++q){var z=le[q];if(z.isRejected())return c.e=z.error(),c;if(!z.isFulfilled()){te.cancel();return}le[q]=z.value()}se._pushContext(),P=f(P);var Y=U?P.apply(void 0,le):P(le),J=se._popContext();return s.checkForgottenReturns(Y,J,"Promise.using",se),Y}),se=te.lastly(function(){var le=new t.PromiseInspection(te);return y($,le)});return $.promise=se,se._setOnCancel($),se},t.prototype._setDisposable=function(T){this._bitField=this._bitField|131072,this._disposer=T},t.prototype._isDisposable=function(){return(this._bitField&131072)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},t.prototype.disposer=function(T){if(typeof T=="function")return new S(T,this,n());throw new u}}});var OP=L((hX,DP)=>{"use strict";DP.exports=function(t,e,r){var n=lt(),i=t.TimeoutError;function s(d){this.handle=d}s.prototype._resultCancelled=function(){clearTimeout(this.handle)};var o=function(d){return u(+this).thenReturn(d)},u=t.delay=function(d,m){var h,y;return m!==void 0?(h=t.resolve(m)._then(o,null,null,d,void 0),r.cancellation()&&m instanceof t&&h._setOnCancel(m)):(h=new t(e),y=setTimeout(function(){h._fulfill()},+d),r.cancellation()&&h._setOnCancel(new s(y)),h._captureStackTrace()),h._setAsyncGuaranteed(),h};t.prototype.delay=function(d){return u(d,this)};var a=function(d,m,h){var y;typeof m!="string"?m instanceof Error?y=m:y=new i("operation timed out"):y=new i(m),n.markAsOriginatingFromRejection(y),d._attachExtraTrace(y),d._reject(y),h?.cancel()};function c(d){return clearTimeout(this.handle),d}function f(d){throw clearTimeout(this.handle),d}t.prototype.timeout=function(d,m){d=+d;var h,y,_=new s(setTimeout(function(){h.isPending()&&a(h,m,y)},d));return r.cancellation()?(y=this.then(),h=y._then(c,f,void 0,_,void 0),h._setOnCancel(_)):h=this._then(c,f,void 0,_,void 0),h}}});var PP=L((pX,xP)=>{"use strict";xP.exports=function(t,e,r,n,i,s){var o=ti(),u=o.TypeError,a=lt(),c=a.errorObj,f=a.tryCatch,d=[];function m(y,_,S){for(var D=0;D<_.length;++D){S._pushContext();var w=f(_[D])(y);if(S._popContext(),w===c){S._pushContext();var T=t.reject(c.e);return S._popContext(),T}var P=n(w,S);if(P instanceof t)return P}return null}function h(y,_,S,D){if(s.cancellation()){var w=new t(r),T=this._finallyPromise=new t(r);this._promise=w.lastly(function(){return T}),w._captureStackTrace(),w._setOnCancel(this)}else{var P=this._promise=new t(r);P._captureStackTrace()}this._stack=D,this._generatorFunction=y,this._receiver=_,this._generator=void 0,this._yieldHandlers=typeof S=="function"?[S].concat(d):d,this._yieldedPromise=null,this._cancellationPhase=!1}a.inherits(h,i),h.prototype._isResolved=function(){return this._promise===null},h.prototype._cleanup=function(){this._promise=this._generator=null,s.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},h.prototype._promiseCancelled=function(){if(!this._isResolved()){var y=typeof this._generator.return<"u",_;if(y)this._promise._pushContext(),_=f(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var S=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=S,this._promise._attachExtraTrace(S),this._promise._pushContext(),_=f(this._generator.throw).call(this._generator,S),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(_)}},h.prototype._promiseFulfilled=function(y){this._yieldedPromise=null,this._promise._pushContext();var _=f(this._generator.next).call(this._generator,y);this._promise._popContext(),this._continue(_)},h.prototype._promiseRejected=function(y){this._yieldedPromise=null,this._promise._attachExtraTrace(y),this._promise._pushContext();var _=f(this._generator.throw).call(this._generator,y);this._promise._popContext(),this._continue(_)},h.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var y=this._yieldedPromise;this._yieldedPromise=null,y.cancel()}},h.prototype.promise=function(){return this._promise},h.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},h.prototype._continue=function(y){var _=this._promise;if(y===c)return this._cleanup(),this._cancellationPhase?_.cancel():_._rejectCallback(y.e,!1);var S=y.value;if(y.done===!0)return this._cleanup(),this._cancellationPhase?_.cancel():_._resolveCallback(S);var D=n(S,this._promise);if(!(D instanceof t)&&(D=m(D,this._yieldHandlers,this._promise),D===null)){this._promiseRejected(new u(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",S)+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)));return}D=D._target();var w=D._bitField;w&50397184?w&33554432?t._async.invoke(this._promiseFulfilled,this,D._value()):w&16777216?t._async.invoke(this._promiseRejected,this,D._reason()):this._promiseCancelled():(this._yieldedPromise=D,D._proxy(this,null))},t.coroutine=function(y,_){if(typeof y!="function")throw new u(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var S=Object(_).yieldHandler,D=h,w=new Error().stack;return function(){var T=y.apply(this,arguments),P=new D(void 0,void 0,S,w),M=P.promise();return P._generator=T,P._promiseFulfilled(void 0),M}},t.coroutine.addYieldHandler=function(y){if(typeof y!="function")throw new u("expecting a function but got "+a.classString(y));d.push(y)},t.spawn=function(y){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),typeof y!="function")return e(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var _=new h(y,this),S=_.promise();return _._run(t.spawn),S}}});var NP=L((mX,IP)=>{"use strict";IP.exports=function(t){var e=lt(),r=t._async,n=e.tryCatch,i=e.errorObj;function s(a,c){var f=this;if(!e.isArray(a))return o.call(f,a,c);var d=n(c).apply(f._boundValue(),[null].concat(a));d===i&&r.throwLater(d.e)}function o(a,c){var f=this,d=f._boundValue(),m=a===void 0?n(c).call(d,null):n(c).call(d,null,a);m===i&&r.throwLater(m.e)}function u(a,c){var f=this;if(!a){var d=new Error(a+"");d.cause=a,a=d}var m=n(c).call(f._boundValue(),a);m===i&&r.throwLater(m.e)}t.prototype.asCallback=t.prototype.nodeify=function(a,c){if(typeof a=="function"){var f=o;c!==void 0&&Object(c).spread&&(f=s),this._then(f,u,void 0,this,a)}return this}}});var LP=L((gX,FP)=>{"use strict";FP.exports=function(t,e){var r={},n=lt(),i=v_(),s=n.withAppended,o=n.maybeWrapAsError,u=n.canEvaluate,a=ti().TypeError,c="Async",f={__isPromisified__:!0},d=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],m=new RegExp("^(?:"+d.join("|")+")$"),h=function(te){return n.isIdentifier(te)&&te.charAt(0)!=="_"&&te!=="constructor"};function y(te){return!m.test(te)}function _(te){try{return te.__isPromisified__===!0}catch{return!1}}function S(te,se,le){var q=n.getDataPropertyOrDefault(te,se+le,f);return q?_(q):!1}function D(te,se,le){for(var q=0;q<te.length;q+=2){var z=te[q];if(le.test(z)){for(var Y=z.replace(le,""),J=0;J<te.length;J+=2)if(te[J]===Y)throw new a(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",se))}}}function w(te,se,le,q){for(var z=n.inheritedDataKeys(te),Y=[],J=0;J<z.length;++J){var oe=z[J],ue=te[oe],we=q===h?!0:h(oe,ue,te);typeof ue=="function"&&!_(ue)&&!S(te,oe,se)&&q(oe,ue,te,we)&&Y.push(oe,ue)}return D(Y,se,le),Y}var T=function(te){return te.replace(/([$])/,"\\$")},P,M=function(te){for(var se=[te],le=Math.max(0,te-1-3),q=te-1;q>=le;--q)se.push(q);for(var q=te+1;q<=3;++q)se.push(q);return se},U=function(te){return n.filledRange(te,"_arg","")},$=function(te){return n.filledRange(Math.max(te,3),"_arg","")},k=function(te){return typeof te.length=="number"?Math.max(Math.min(te.length,1024),0):0};P=function(te,se,le,q,z,Y){var J=Math.max(0,k(q)-1),oe=M(J),ue=typeof te=="string"||se===r;function we(F){var I=U(F).join(", "),Q=F>0?", ":"",V;return ue?V=`ret = callback.call(this, {{args}}, nodeback); break;
`:V=se===void 0?`ret = callback({{args}}, nodeback); break;
`:`ret = callback.call(receiver, {{args}}, nodeback); break;
`,V.replace("{{args}}",I).replace(", ",Q)}function _e(){for(var F="",I=0;I<oe.length;++I)F+="case "+oe[I]+":"+we(oe[I]);return F+=`                                                             
        default:                                                             
            var args = new Array(len + 1);                                   
            var i = 0;                                                       
            for (var i = 0; i < len; ++i) {                                  
               args[i] = arguments[i];                                       
            }                                                                
            args[i] = nodeback;                                              
            [CodeForCall]                                                    
            break;                                                           
        `.replace("[CodeForCall]",ue?`ret = callback.apply(this, args);
`:`ret = callback.apply(receiver, args);
`),F}var Re=typeof te=="string"?"this != null ? this['"+te+"'] : fn":"fn",Ue=`'use strict';                                                
        var ret = function (Parameters) {                                    
            'use strict';                                                    
            var len = arguments.length;                                      
            var promise = new Promise(INTERNAL);                             
            promise._captureStackTrace();                                    
            var nodeback = nodebackForPromise(promise, `+Y+`);   
            var ret;                                                         
            var callback = tryCatch([GetFunctionCode]);                      
            switch(len) {                                                    
                [CodeForSwitchCase]                                          
            }                                                                
            if (ret === errorObj) {                                          
                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);
            }                                                                
            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     
            return promise;                                                  
        };                                                                   
        notEnumerableProp(ret, '__isPromisified__', true);                   
        return ret;                                                          
    `.replace("[CodeForSwitchCase]",_e()).replace("[GetFunctionCode]",Re);return Ue=Ue.replace("Parameters",$(J)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",Ue)(t,q,se,s,o,i,n.tryCatch,n.errorObj,n.notEnumerableProp,e)};function K(te,se,le,q,z,Y){var J=function(){return this}(),oe=te;typeof oe=="string"&&(te=q);function ue(){var we=se;se===r&&(we=this);var _e=new t(e);_e._captureStackTrace();var Re=typeof oe=="string"&&this!==J?this[oe]:te,Ue=i(_e,Y);try{Re.apply(we,s(arguments,Ue))}catch(F){_e._rejectCallback(o(F),!0,!0)}return _e._isFateSealed()||_e._setAsyncGuaranteed(),_e}return n.notEnumerableProp(ue,"__isPromisified__",!0),ue}var ie=u?P:K;function ne(te,se,le,q,z){for(var Y=new RegExp(T(se)+"$"),J=w(te,se,Y,le),oe=0,ue=J.length;oe<ue;oe+=2){var we=J[oe],_e=J[oe+1],Re=we+se;if(q===ie)te[Re]=ie(we,r,we,_e,se,z);else{var Ue=q(_e,function(){return ie(we,r,we,_e,se,z)});n.notEnumerableProp(Ue,"__isPromisified__",!0),te[Re]=Ue}}return n.toFastProperties(te),te}function G(te,se,le){return ie(te,se,void 0,te,null,le)}t.promisify=function(te,se){if(typeof te!="function")throw new a("expecting a function but got "+n.classString(te));if(_(te))return te;se=Object(se);var le=se.context===void 0?r:se.context,q=!!se.multiArgs,z=G(te,le,q);return n.copyDescriptors(te,z,y),z},t.promisifyAll=function(te,se){if(typeof te!="function"&&typeof te!="object")throw new a(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);se=Object(se);var le=!!se.multiArgs,q=se.suffix;typeof q!="string"&&(q=c);var z=se.filter;typeof z!="function"&&(z=h);var Y=se.promisifier;if(typeof Y!="function"&&(Y=ie),!n.isIdentifier(q))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var J=n.inheritedDataKeys(te),oe=0;oe<J.length;++oe){var ue=te[J[oe]];J[oe]!=="constructor"&&n.isClass(ue)&&(ne(ue.prototype,q,z,Y,le),ne(ue,q,z,Y,le))}return ne(te,q,z,Y,le)}}});var AP=L((vX,kP)=>{"use strict";kP.exports=function(t,e,r,n){var i=lt(),s=i.isObject,o=Fs(),u;typeof Map=="function"&&(u=Map);var a=function(){var m=0,h=0;function y(_,S){this[m]=_,this[m+h]=S,m++}return function(S){h=S.size,m=0;var D=new Array(S.size*2);return S.forEach(y,D),D}}(),c=function(m){for(var h=new u,y=m.length/2|0,_=0;_<y;++_){var S=m[y+_],D=m[_];h.set(S,D)}return h};function f(m){var h=!1,y;if(u!==void 0&&m instanceof u)y=a(m),h=!0;else{var _=o.keys(m),S=_.length;y=new Array(S*2);for(var D=0;D<S;++D){var w=_[D];y[D]=m[w],y[D+S]=w}}this.constructor$(y),this._isMap=h,this._init$(void 0,-3)}i.inherits(f,e),f.prototype._init=function(){},f.prototype._promiseFulfilled=function(m,h){this._values[h]=m;var y=++this._totalResolved;if(y>=this._length){var _;if(this._isMap)_=c(this._values);else{_={};for(var S=this.length(),D=0,w=this.length();D<w;++D)_[this._values[D+S]]=this._values[D]}return this._resolve(_),!0}return!1},f.prototype.shouldCopyValues=function(){return!1},f.prototype.getActualLength=function(m){return m>>1};function d(m){var h,y=r(m);if(s(y))y instanceof t?h=y._then(t.props,void 0,void 0,void 0,void 0):h=new f(y).promise();else return n(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`);return y instanceof t&&h._propagateFrom(y,2),h}t.prototype.props=function(){return d(this)},t.props=function(m){return d(m)}}});var MP=L((yX,qP)=>{"use strict";qP.exports=function(t,e,r,n){var i=lt(),s=function(u){return u.then(function(a){return o(a,u)})};function o(u,a){var c=r(u);if(c instanceof t)return s(c);if(u=i.asArray(u),u===null)return n("expecting an array or an iterable object but got "+i.classString(u));var f=new t(e);a!==void 0&&f._propagateFrom(a,3);for(var d=f._fulfill,m=f._reject,h=0,y=u.length;h<y;++h){var _=u[h];_===void 0&&!(h in u)||t.cast(_)._then(d,m,void 0,f,null)}return f}t.race=function(u){return o(u,void 0)},t.prototype.race=function(){return o(this,void 0)}}});var UP=L((_X,jP)=>{"use strict";jP.exports=function(t,e,r,n,i,s){var o=t._getDomain,u=lt(),a=u.tryCatch;function c(y,_,S,D){this.constructor$(y);var w=o();this._fn=w===null?_:u.domainBind(w,_),S!==void 0&&(S=t.resolve(S),S._attachCancellationCallback(this)),this._initialValue=S,this._currentCancellable=null,D===i?this._eachValues=Array(this._length):D===0?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}u.inherits(c,e),c.prototype._gotAccum=function(y){this._eachValues!==void 0&&this._eachValues!==null&&y!==i&&this._eachValues.push(y)},c.prototype._eachComplete=function(y){return this._eachValues!==null&&this._eachValues.push(y),this._eachValues},c.prototype._init=function(){},c.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},c.prototype.shouldCopyValues=function(){return!1},c.prototype._resolve=function(y){this._promise._resolveCallback(y),this._values=null},c.prototype._resultCancelled=function(y){if(y===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof t&&this._currentCancellable.cancel(),this._initialValue instanceof t&&this._initialValue.cancel())},c.prototype._iterate=function(y){this._values=y;var _,S,D=y.length;if(this._initialValue!==void 0?(_=this._initialValue,S=0):(_=t.resolve(y[0]),S=1),this._currentCancellable=_,!_.isRejected())for(;S<D;++S){var w={accum:null,value:y[S],index:S,length:D,array:this};_=_._then(m,void 0,void 0,w,void 0)}this._eachValues!==void 0&&(_=_._then(this._eachComplete,void 0,void 0,this,void 0)),_._then(f,f,void 0,_,this)},t.prototype.reduce=function(y,_){return d(this,y,_,null)},t.reduce=function(y,_,S,D){return d(y,_,S,D)};function f(y,_){this.isFulfilled()?_._resolve(y):_._reject(y)}function d(y,_,S,D){if(typeof _!="function")return r("expecting a function but got "+u.classString(_));var w=new c(y,_,S,D);return w.promise()}function m(y){this.accum=y,this.array._gotAccum(y);var _=n(this.value,this.array._promise);return _ instanceof t?(this.array._currentCancellable=_,_._then(h,void 0,void 0,this,void 0)):h.call(this,_)}function h(y){var _=this.array,S=_._promise,D=a(_._fn);S._pushContext();var w;_._eachValues!==void 0?w=D.call(S._boundValue(),y,this.index,this.length):w=D.call(S._boundValue(),this.accum,y,this.index,this.length),w instanceof t&&(_._currentCancellable=w);var T=S._popContext();return s.checkForgottenReturns(w,T,_._eachValues!==void 0?"Promise.each":"Promise.reduce",S),w}}});var HP=L((wX,BP)=>{"use strict";BP.exports=function(t,e,r){var n=t.PromiseInspection,i=lt();function s(o){this.constructor$(o)}i.inherits(s,e),s.prototype._promiseResolved=function(o,u){this._values[o]=u;var a=++this._totalResolved;return a>=this._length?(this._resolve(this._values),!0):!1},s.prototype._promiseFulfilled=function(o,u){var a=new n;return a._bitField=33554432,a._settledValueField=o,this._promiseResolved(u,a)},s.prototype._promiseRejected=function(o,u){var a=new n;return a._bitField=16777216,a._settledValueField=o,this._promiseResolved(u,a)},t.settle=function(o){return r.deprecated(".settle()",".reflect()"),new s(o).promise()},t.prototype.settle=function(){return t.settle(this)}}});var $P=L((EX,WP)=>{"use strict";WP.exports=function(t,e,r){var n=lt(),i=ti().RangeError,s=ti().AggregateError,o=n.isArray,u={};function a(f){this.constructor$(f),this._howMany=0,this._unwrap=!1,this._initialized=!1}n.inherits(a,e),a.prototype._init=function(){if(this._initialized){if(this._howMany===0){this._resolve([]);return}this._init$(void 0,-5);var f=o(this._values);!this._isResolved()&&f&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},a.prototype.init=function(){this._initialized=!0,this._init()},a.prototype.setUnwrap=function(){this._unwrap=!0},a.prototype.howMany=function(){return this._howMany},a.prototype.setHowMany=function(f){this._howMany=f},a.prototype._promiseFulfilled=function(f){return this._addFulfilled(f),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},a.prototype._promiseRejected=function(f){return this._addRejected(f),this._checkOutcome()},a.prototype._promiseCancelled=function(){return this._values instanceof t||this._values==null?this._cancel():(this._addRejected(u),this._checkOutcome())},a.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var f=new s,d=this.length();d<this._values.length;++d)this._values[d]!==u&&f.push(this._values[d]);return f.length>0?this._reject(f):this._cancel(),!0}return!1},a.prototype._fulfilled=function(){return this._totalResolved},a.prototype._rejected=function(){return this._values.length-this.length()},a.prototype._addRejected=function(f){this._values.push(f)},a.prototype._addFulfilled=function(f){this._values[this._totalResolved++]=f},a.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},a.prototype._getRangeError=function(f){var d="Input array must contain at least "+this._howMany+" items but contains only "+f+" items";return new i(d)},a.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function c(f,d){if((d|0)!==d||d<0)return r(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var m=new a(f),h=m.promise();return m.setHowMany(d),m.init(),h}t.some=function(f,d){return c(f,d)},t.prototype.some=function(f){return c(this,f)},t._SomePromiseArray=a}});var GP=L((bX,zP)=>{"use strict";zP.exports=function(t,e){var r=t.map;t.prototype.filter=function(n,i){return r(this,n,i,e)},t.filter=function(n,i,s){return r(n,i,s,e)}}});var KP=L((CX,VP)=>{"use strict";VP.exports=function(t,e){var r=t.reduce,n=t.all;function i(){return n(this)}function s(o,u){return r(o,u,e,e)}t.prototype.each=function(o){return r(this,o,e,0)._then(i,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(o){return r(this,o,e,e)},t.each=function(o,u){return r(o,u,e,0)._then(i,void 0,void 0,o,void 0)},t.mapSeries=s}});var YP=L((SX,XP)=>{"use strict";XP.exports=function(t){var e=t._SomePromiseArray;function r(n){var i=new e(n),s=i.promise();return i.setHowMany(1),i.setUnwrap(),i.init(),s}t.any=function(n){return r(n)},t.prototype.any=function(){return r(this)}}});var JP=L((TX,E_)=>{"use strict";E_.exports=function(){var t=function(){return new d(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},e=function(){return new G.PromiseInspection(this._target())},r=function(q){return G.reject(new d(q))};function n(){}var i={},s=lt(),o;s.isNode?o=function(){var q=process.domain;return q===void 0&&(q=null),q}:o=function(){return null},s.notEnumerableProp(G,"_getDomain",o);var u=Fs(),a=$x(),c=new a;u.defineProperty(G,"_async",{value:c});var f=ti(),d=G.TypeError=f.TypeError;G.RangeError=f.RangeError;var m=G.CancellationError=f.CancellationError;G.TimeoutError=f.TimeoutError,G.OperationalError=f.OperationalError,G.RejectionError=f.OperationalError,G.AggregateError=f.AggregateError;var h=function(){},y={},_={},S=Xx()(G,h),D=Jx()(G,h,S,r,n),w=Qx()(G),T=w.create,P=tP()(G,w),M=P.CapturedTrace,U=nP()(G,S),$=sP()(_),k=v_(),K=s.errorObj,ie=s.tryCatch;function ne(q,z){if(typeof z!="function")throw new d("expecting a function but got "+s.classString(z));if(q.constructor!==G)throw new d(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`)}function G(q){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,q!==h&&(ne(this,q),this._resolveFromExecutor(q)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}G.prototype.toString=function(){return"[object Promise]"},G.prototype.caught=G.prototype.catch=function(q){var z=arguments.length;if(z>1){var Y=new Array(z-1),J=0,oe;for(oe=0;oe<z-1;++oe){var ue=arguments[oe];if(s.isObject(ue))Y[J++]=ue;else return r("expecting an object but got A catch statement predicate "+s.classString(ue))}return Y.length=J,q=arguments[oe],this.then(void 0,$(Y,q,this))}return this.then(void 0,q)},G.prototype.reflect=function(){return this._then(e,e,void 0,this,void 0)},G.prototype.then=function(q,z){if(P.warnings()&&arguments.length>0&&typeof q!="function"&&typeof z!="function"){var Y=".then() only accepts functions but was passed: "+s.classString(q);arguments.length>1&&(Y+=", "+s.classString(z)),this._warn(Y)}return this._then(q,z,void 0,void 0,void 0)},G.prototype.done=function(q,z){var Y=this._then(q,z,void 0,void 0,void 0);Y._setIsFinal()},G.prototype.spread=function(q){return typeof q!="function"?r("expecting a function but got "+s.classString(q)):this.all()._then(q,void 0,void 0,y,void 0)},G.prototype.toJSON=function(){var q={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(q.fulfillmentValue=this.value(),q.isFulfilled=!0):this.isRejected()&&(q.rejectionReason=this.reason(),q.isRejected=!0),q},G.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new D(this).promise()},G.prototype.error=function(q){return this.caught(s.originatesFromRejection,q)},G.getNewLibraryCopy=E_.exports,G.is=function(q){return q instanceof G},G.fromNode=G.fromCallback=function(q){var z=new G(h);z._captureStackTrace();var Y=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,J=ie(q)(k(z,Y));return J===K&&z._rejectCallback(J.e,!0),z._isFateSealed()||z._setAsyncGuaranteed(),z},G.all=function(q){return new D(q).promise()},G.cast=function(q){var z=S(q);return z instanceof G||(z=new G(h),z._captureStackTrace(),z._setFulfilled(),z._rejectionHandler0=q),z},G.resolve=G.fulfilled=G.cast,G.reject=G.rejected=function(q){var z=new G(h);return z._captureStackTrace(),z._rejectCallback(q,!0),z},G.setScheduler=function(q){if(typeof q!="function")throw new d("expecting a function but got "+s.classString(q));return c.setScheduler(q)},G.prototype._then=function(q,z,Y,J,oe){var ue=oe!==void 0,we=ue?oe:new G(h),_e=this._target(),Re=_e._bitField;ue||(we._propagateFrom(this,3),we._captureStackTrace(),J===void 0&&this._bitField&2097152&&(Re&50397184?J=this._boundValue():J=_e===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,we));var Ue=o();if(Re&50397184){var F,I,Q=_e._settlePromiseCtx;Re&33554432?(I=_e._rejectionHandler0,F=q):Re&16777216?(I=_e._fulfillmentHandler0,F=z,_e._unsetRejectionIsUnhandled()):(Q=_e._settlePromiseLateCancellationObserver,I=new m("late cancellation observer"),_e._attachExtraTrace(I),F=z),c.invoke(Q,_e,{handler:Ue===null?F:typeof F=="function"&&s.domainBind(Ue,F),promise:we,receiver:J,value:I})}else _e._addCallbacks(q,z,we,J,Ue);return we},G.prototype._length=function(){return this._bitField&65535},G.prototype._isFateSealed=function(){return(this._bitField&117506048)!==0},G.prototype._isFollowing=function(){return(this._bitField&67108864)===67108864},G.prototype._setLength=function(q){this._bitField=this._bitField&-65536|q&65535},G.prototype._setFulfilled=function(){this._bitField=this._bitField|33554432,this._fireEvent("promiseFulfilled",this)},G.prototype._setRejected=function(){this._bitField=this._bitField|16777216,this._fireEvent("promiseRejected",this)},G.prototype._setFollowing=function(){this._bitField=this._bitField|67108864,this._fireEvent("promiseResolved",this)},G.prototype._setIsFinal=function(){this._bitField=this._bitField|4194304},G.prototype._isFinal=function(){return(this._bitField&4194304)>0},G.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},G.prototype._setCancelled=function(){this._bitField=this._bitField|65536,this._fireEvent("promiseCancelled",this)},G.prototype._setWillBeCancelled=function(){this._bitField=this._bitField|8388608},G.prototype._setAsyncGuaranteed=function(){c.hasCustomScheduler()||(this._bitField=this._bitField|134217728)},G.prototype._receiverAt=function(q){var z=q===0?this._receiver0:this[q*4-4+3];if(z!==i)return z===void 0&&this._isBound()?this._boundValue():z},G.prototype._promiseAt=function(q){return this[q*4-4+2]},G.prototype._fulfillmentHandlerAt=function(q){return this[q*4-4+0]},G.prototype._rejectionHandlerAt=function(q){return this[q*4-4+1]},G.prototype._boundValue=function(){},G.prototype._migrateCallback0=function(q){var z=q._bitField,Y=q._fulfillmentHandler0,J=q._rejectionHandler0,oe=q._promise0,ue=q._receiverAt(0);ue===void 0&&(ue=i),this._addCallbacks(Y,J,oe,ue,null)},G.prototype._migrateCallbackAt=function(q,z){var Y=q._fulfillmentHandlerAt(z),J=q._rejectionHandlerAt(z),oe=q._promiseAt(z),ue=q._receiverAt(z);ue===void 0&&(ue=i),this._addCallbacks(Y,J,oe,ue,null)},G.prototype._addCallbacks=function(q,z,Y,J,oe){var ue=this._length();if(ue>=65535-4&&(ue=0,this._setLength(0)),ue===0)this._promise0=Y,this._receiver0=J,typeof q=="function"&&(this._fulfillmentHandler0=oe===null?q:s.domainBind(oe,q)),typeof z=="function"&&(this._rejectionHandler0=oe===null?z:s.domainBind(oe,z));else{var we=ue*4-4;this[we+2]=Y,this[we+3]=J,typeof q=="function"&&(this[we+0]=oe===null?q:s.domainBind(oe,q)),typeof z=="function"&&(this[we+1]=oe===null?z:s.domainBind(oe,z))}return this._setLength(ue+1),ue},G.prototype._proxy=function(q,z){this._addCallbacks(void 0,void 0,z,q,null)},G.prototype._resolveCallback=function(q,z){if(!(this._bitField&117506048)){if(q===this)return this._rejectCallback(t(),!1);var Y=S(q,this);if(!(Y instanceof G))return this._fulfill(q);z&&this._propagateFrom(Y,2);var J=Y._target();if(J===this){this._reject(t());return}var oe=J._bitField;if(oe&50397184)if(oe&33554432)this._fulfill(J._value());else if(oe&16777216)this._reject(J._reason());else{var _e=new m("late cancellation observer");J._attachExtraTrace(_e),this._reject(_e)}else{var ue=this._length();ue>0&&J._migrateCallback0(this);for(var we=1;we<ue;++we)J._migrateCallbackAt(this,we);this._setFollowing(),this._setLength(0),this._setFollowee(J)}}},G.prototype._rejectCallback=function(q,z,Y){var J=s.ensureErrorObject(q),oe=J===q;if(!oe&&!Y&&P.warnings()){var ue="a promise was rejected with a non-error: "+s.classString(q);this._warn(ue,!0)}this._attachExtraTrace(J,z?oe:!1),this._reject(q)},G.prototype._resolveFromExecutor=function(q){var z=this;this._captureStackTrace(),this._pushContext();var Y=!0,J=this._execute(q,function(oe){z._resolveCallback(oe)},function(oe){z._rejectCallback(oe,Y)});Y=!1,this._popContext(),J!==void 0&&z._rejectCallback(J,!0)},G.prototype._settlePromiseFromHandler=function(q,z,Y,J){var oe=J._bitField;if(!(oe&65536)){J._pushContext();var ue;z===y?!Y||typeof Y.length!="number"?(ue=K,ue.e=new d("cannot .spread() a non-array: "+s.classString(Y))):ue=ie(q).apply(this._boundValue(),Y):ue=ie(q).call(z,Y);var we=J._popContext();oe=J._bitField,!(oe&65536)&&(ue===_?J._reject(Y):ue===K?J._rejectCallback(ue.e,!1):(P.checkForgottenReturns(ue,we,"",J,this),J._resolveCallback(ue)))}},G.prototype._target=function(){for(var q=this;q._isFollowing();)q=q._followee();return q},G.prototype._followee=function(){return this._rejectionHandler0},G.prototype._setFollowee=function(q){this._rejectionHandler0=q},G.prototype._settlePromise=function(q,z,Y,J){var oe=q instanceof G,ue=this._bitField,we=(ue&134217728)!==0;ue&65536?(oe&&q._invokeInternalOnCancel(),Y instanceof U&&Y.isFinallyHandler()?(Y.cancelPromise=q,ie(z).call(Y,J)===K&&q._reject(K.e)):z===e?q._fulfill(e.call(Y)):Y instanceof n?Y._promiseCancelled(q):oe||q instanceof D?q._cancel():Y.cancel()):typeof z=="function"?oe?(we&&q._setAsyncGuaranteed(),this._settlePromiseFromHandler(z,Y,J,q)):z.call(Y,J,q):Y instanceof n?Y._isResolved()||(ue&33554432?Y._promiseFulfilled(J,q):Y._promiseRejected(J,q)):oe&&(we&&q._setAsyncGuaranteed(),ue&33554432?q._fulfill(J):q._reject(J))},G.prototype._settlePromiseLateCancellationObserver=function(q){var z=q.handler,Y=q.promise,J=q.receiver,oe=q.value;typeof z=="function"?Y instanceof G?this._settlePromiseFromHandler(z,J,oe,Y):z.call(J,oe,Y):Y instanceof G&&Y._reject(oe)},G.prototype._settlePromiseCtx=function(q){this._settlePromise(q.promise,q.handler,q.receiver,q.value)},G.prototype._settlePromise0=function(q,z,Y){var J=this._promise0,oe=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(J,q,oe,z)},G.prototype._clearCallbackDataAtIndex=function(q){var z=q*4-4;this[z+2]=this[z+3]=this[z+0]=this[z+1]=void 0},G.prototype._fulfill=function(q){var z=this._bitField;if(!((z&117506048)>>>16)){if(q===this){var Y=t();return this._attachExtraTrace(Y),this._reject(Y)}this._setFulfilled(),this._rejectionHandler0=q,(z&65535)>0&&(z&134217728?this._settlePromises():c.settlePromises(this))}},G.prototype._reject=function(q){var z=this._bitField;if(!((z&117506048)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=q,this._isFinal())return c.fatalError(q,s.isNode);(z&65535)>0?c.settlePromises(this):this._ensurePossibleRejectionHandled()}},G.prototype._fulfillPromises=function(q,z){for(var Y=1;Y<q;Y++){var J=this._fulfillmentHandlerAt(Y),oe=this._promiseAt(Y),ue=this._receiverAt(Y);this._clearCallbackDataAtIndex(Y),this._settlePromise(oe,J,ue,z)}},G.prototype._rejectPromises=function(q,z){for(var Y=1;Y<q;Y++){var J=this._rejectionHandlerAt(Y),oe=this._promiseAt(Y),ue=this._receiverAt(Y);this._clearCallbackDataAtIndex(Y),this._settlePromise(oe,J,ue,z)}},G.prototype._settlePromises=function(){var q=this._bitField,z=q&65535;if(z>0){if(q&16842752){var Y=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,Y,q),this._rejectPromises(z,Y)}else{var J=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,J,q),this._fulfillPromises(z,J)}this._setLength(0)}this._clearCancellationData()},G.prototype._settledValue=function(){var q=this._bitField;if(q&33554432)return this._rejectionHandler0;if(q&16777216)return this._fulfillmentHandler0};function te(q){this.promise._resolveCallback(q)}function se(q){this.promise._rejectCallback(q,!1)}G.defer=G.pending=function(){P.deprecated("Promise.defer","new Promise");var q=new G(h);return{promise:q,resolve:te,reject:se}},s.notEnumerableProp(G,"_makeSelfResolutionError",t),lP()(G,h,S,r,P),dP()(G,h,S,P),pP()(G,D,r,P),gP()(G),yP()(G),wP()(G,D,S,h,c,o),G.Promise=G,G.version="3.4.7",bP()(G,D,r,S,h,P),SP()(G),RP()(G,r,S,T,h,P),OP()(G,h,P),PP()(G,r,h,S,n,P),NP()(G),LP()(G,h),AP()(G,D,S,r),MP()(G,h,S,r),UP()(G,D,r,S,h,P),HP()(G,D,P),$P()(G,D,r),GP()(G,h),KP()(G,h),YP()(G),s.toFastProperties(G),s.toFastProperties(G.prototype);function le(q){var z=new G(h);z._fulfillmentHandler0=q,z._rejectionHandler0=q,z._promise0=q,z._receiver0=q}return le({a:1}),le({b:2}),le({c:3}),le(1),le(function(){}),le(void 0),le(!1),le(new G(h)),P.setBounds(a.firstLineError,s.lastLineError),G}});var qi=L((RX,QP)=>{"use strict";var ZP;typeof Promise<"u"&&(ZP=Promise);function lz(){try{Promise===ld&&(Promise=ZP)}catch{}return ld}var ld=JP()();ld.noConflict=lz;QP.exports=ld});var Yo=L((DX,eI)=>{var Xo=require("buffer").Buffer;Xo.from===void 0&&(Xo.from=function(t,e,r){return new Xo(t,e,r)},Xo.alloc=Xo.from);eI.exports=Xo});var Lu=L((OX,b_)=>{"use strict";typeof process>"u"||!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0?b_.exports={nextTick:fz}:b_.exports=process;function fz(t,e,r,n){if(typeof t!="function")throw new TypeError('"callback" argument must be a function');var i=arguments.length,s,o;switch(i){case 0:case 1:return process.nextTick(t);case 2:return process.nextTick(function(){t.call(null,e)});case 3:return process.nextTick(function(){t.call(null,e,r)});case 4:return process.nextTick(function(){t.call(null,e,r,n)});default:for(s=new Array(i-1),o=0;o<s.length;)s[o++]=arguments[o];return process.nextTick(function(){t.apply(null,s)})}}});var rI=L((xX,tI)=>{var dz={}.toString;tI.exports=Array.isArray||function(t){return dz.call(t)=="[object Array]"}});var C_=L((PX,nI)=>{nI.exports=require("stream")});var ku=L((S_,sI)=>{var fd=require("buffer"),ri=fd.Buffer;function iI(t,e){for(var r in t)e[r]=t[r]}ri.from&&ri.alloc&&ri.allocUnsafe&&ri.allocUnsafeSlow?sI.exports=fd:(iI(fd,S_),S_.Buffer=Jo);function Jo(t,e,r){return ri(t,e,r)}iI(ri,Jo);Jo.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return ri(t,e,r)};Jo.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=ri(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};Jo.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return ri(t)};Jo.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return fd.SlowBuffer(t)}});var Zo=L(cr=>{function hz(t){return Array.isArray?Array.isArray(t):dd(t)==="[object Array]"}cr.isArray=hz;function pz(t){return typeof t=="boolean"}cr.isBoolean=pz;function mz(t){return t===null}cr.isNull=mz;function gz(t){return t==null}cr.isNullOrUndefined=gz;function vz(t){return typeof t=="number"}cr.isNumber=vz;function yz(t){return typeof t=="string"}cr.isString=yz;function _z(t){return typeof t=="symbol"}cr.isSymbol=_z;function wz(t){return t===void 0}cr.isUndefined=wz;function Ez(t){return dd(t)==="[object RegExp]"}cr.isRegExp=Ez;function bz(t){return typeof t=="object"&&t!==null}cr.isObject=bz;function Cz(t){return dd(t)==="[object Date]"}cr.isDate=Cz;function Sz(t){return dd(t)==="[object Error]"||t instanceof Error}cr.isError=Sz;function Tz(t){return typeof t=="function"}cr.isFunction=Tz;function Rz(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}cr.isPrimitive=Rz;cr.isBuffer=require("buffer").Buffer.isBuffer;function dd(t){return Object.prototype.toString.call(t)}});var aI=L((NX,T_)=>{"use strict";function Dz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var oI=ku().Buffer,Au=require("util");function Oz(t,e,r){t.copy(e,r)}T_.exports=function(){function t(){Dz(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},t.prototype.unshift=function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},t.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},t.prototype.concat=function(r){if(this.length===0)return oI.alloc(0);for(var n=oI.allocUnsafe(r>>>0),i=this.head,s=0;i;)Oz(i.data,n,s),s+=i.data.length,i=i.next;return n},t}();Au&&Au.inspect&&Au.inspect.custom&&(T_.exports.prototype[Au.inspect.custom]=function(){var t=Au.inspect({length:this.length});return this.constructor.name+" "+t})});var R_=L((FX,uI)=>{"use strict";var hd=Lu();function xz(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,hd.nextTick(pd,this,t)):hd.nextTick(pd,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted||(r._writableState.errorEmitted=!0,hd.nextTick(pd,r,s)):hd.nextTick(pd,r,s):e&&e(s)}),this)}function Pz(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function pd(t,e){t.emit("error",e)}uI.exports={destroy:xz,undestroy:Pz}});var lI=L((LX,cI)=>{cI.exports=require("util").deprecate});var O_=L((kX,yI)=>{"use strict";var As=Lu();yI.exports=qt;function dI(t){var e=this;this.next=null,this.entry=null,this.finish=function(){Kz(e,t)}}var Iz=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:As.nextTick,Qo;qt.WritableState=Mu;var hI=Object.create(Zo());hI.inherits=Mt();var Nz={deprecate:lI()},pI=C_(),gd=ku().Buffer,Fz=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Lz(t){return gd.from(t)}function kz(t){return gd.isBuffer(t)||t instanceof Fz}var mI=R_();hI.inherits(qt,pI);function Az(){}function Mu(t,e){Qo=Qo||qs(),t=t||{};var r=e instanceof Qo;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var n=t.highWaterMark,i=t.writableHighWaterMark,s=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=t.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(u){Wz(e,u)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new dI(this)}Mu.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(Mu.prototype,"buffer",{get:Nz.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var md;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(md=Function.prototype[Symbol.hasInstance],Object.defineProperty(qt,Symbol.hasInstance,{value:function(t){return md.call(this,t)?!0:this!==qt?!1:t&&t._writableState instanceof Mu}})):md=function(t){return t instanceof this};function qt(t){if(Qo=Qo||qs(),!md.call(qt,this)&&!(this instanceof Qo))return new qt(t);this._writableState=new Mu(t,this),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),pI.call(this)}qt.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function qz(t,e){var r=new Error("write after end");t.emit("error",r),As.nextTick(e,r)}function Mz(t,e,r,n){var i=!0,s=!1;return r===null?s=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!e.objectMode&&(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),As.nextTick(n,s),i=!1),i}qt.prototype.write=function(t,e,r){var n=this._writableState,i=!1,s=!n.objectMode&&kz(t);return s&&!gd.isBuffer(t)&&(t=Lz(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=Az),n.ended?qz(this,r):(s||Mz(this,n,t,r))&&(n.pendingcb++,i=Uz(this,n,s,t,e,r)),i};qt.prototype.cork=function(){var t=this._writableState;t.corked++};qt.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&gI(this,t))};qt.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this};function jz(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=gd.from(e,r)),e}Object.defineProperty(qt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Uz(t,e,r,n,i,s){if(!r){var o=jz(e,n,i);n!==o&&(r=!0,i="buffer",n=o)}var u=e.objectMode?1:n.length;e.length+=u;var a=e.length<e.highWaterMark;if(a||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else D_(t,e,!1,u,n,i,s);return a}function D_(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function Bz(t,e,r,n,i){--e.pendingcb,r?(As.nextTick(i,n),As.nextTick(qu,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(i(n),t._writableState.errorEmitted=!0,t.emit("error",n),qu(t,e))}function Hz(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function Wz(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(Hz(r),e)Bz(t,r,n,e,i);else{var s=vI(r);!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&gI(t,r),n?Iz(fI,t,r,s,i):fI(t,r,s,i)}}function fI(t,e,r,n){r||$z(t,e),e.pendingcb--,n(),qu(t,e)}function $z(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function gI(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var o=0,u=!0;r;)i[o]=r,r.isBuf||(u=!1),r=r.next,o+=1;i.allBuffers=u,D_(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new dI(e),e.bufferedRequestCount=0}else{for(;r;){var a=r.chunk,c=r.encoding,f=r.callback,d=e.objectMode?1:a.length;if(D_(t,e,!1,d,a,c,f),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}qt.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))};qt.prototype._writev=null;qt.prototype.end=function(t,e,r){var n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||Vz(this,n,r)};function vI(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function zz(t,e){t._final(function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),qu(t,e)})}function Gz(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"?(e.pendingcb++,e.finalCalled=!0,As.nextTick(zz,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function qu(t,e){var r=vI(e);return r&&(Gz(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"))),r}function Vz(t,e,r){e.ending=!0,qu(t,e),r&&(e.finished?As.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function Kz(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(qt.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}});qt.prototype.destroy=mI.destroy;qt.prototype._undestroy=mI.undestroy;qt.prototype._destroy=function(t,e){this.end(),e(t)}});var qs=L((AX,bI)=>{"use strict";var _I=Lu(),Xz=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};bI.exports=ni;var wI=Object.create(Zo());wI.inherits=Mt();var EI=I_(),P_=O_();wI.inherits(ni,EI);for(x_=Xz(P_.prototype),vd=0;vd<x_.length;vd++)yd=x_[vd],ni.prototype[yd]||(ni.prototype[yd]=P_.prototype[yd]);var x_,yd,vd;function ni(t){if(!(this instanceof ni))return new ni(t);EI.call(this,t),P_.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",Yz)}Object.defineProperty(ni.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Yz(){this.allowHalfOpen||this._writableState.ended||_I.nextTick(Jz,this)}function Jz(t){t.end()}Object.defineProperty(ni.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}});ni.prototype._destroy=function(t,e){this.push(null),this.end(),_I.nextTick(e,t)}});var L_=L(SI=>{"use strict";var F_=ku().Buffer,CI=F_.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Zz(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function Qz(t){var e=Zz(t);if(typeof e!="string"&&(F_.isEncoding===CI||!CI(t)))throw new Error("Unknown encoding: "+t);return e||t}SI.StringDecoder=ju;function ju(t){this.encoding=Qz(t);var e;switch(this.encoding){case"utf16le":this.text=s4,this.end=o4,e=4;break;case"utf8":this.fillLast=r4,e=4;break;case"base64":this.text=a4,this.end=u4,e=3;break;default:this.write=c4,this.end=l4;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=F_.allocUnsafe(e)}ju.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};ju.prototype.end=i4;ju.prototype.text=n4;ju.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function N_(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function e4(t,e,r){var n=e.length-1;if(n<r)return 0;var i=N_(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=N_(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=N_(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function t4(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function r4(t){var e=this.lastTotal-this.lastNeed,r=t4(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function n4(t,e){var r=e4(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function i4(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function s4(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function o4(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function a4(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function u4(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function c4(t){return t.toString(this.encoding)}function l4(t){return t&&t.length?this.write(t):""}});var I_=L((jX,AI)=>{"use strict";var ta=Lu();AI.exports=Et;var f4=rI(),Uu;Et.ReadableState=II;var MX=require("events").EventEmitter,OI=function(t,e){return t.listeners(e).length},j_=C_(),Bu=ku().Buffer,d4=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function h4(t){return Bu.from(t)}function p4(t){return Bu.isBuffer(t)||t instanceof d4}var xI=Object.create(Zo());xI.inherits=Mt();var k_=require("util"),Xe=void 0;k_&&k_.debuglog?Xe=k_.debuglog("stream"):Xe=function(){};var m4=aI(),PI=R_(),ea;xI.inherits(Et,j_);var A_=["error","close","destroy","pause","resume"];function g4(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):f4(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function II(t,e){Uu=Uu||qs(),t=t||{};var r=e instanceof Uu;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var n=t.highWaterMark,i=t.readableHighWaterMark,s=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m4,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(ea||(ea=L_().StringDecoder),this.decoder=new ea(t.encoding),this.encoding=t.encoding)}function Et(t){if(Uu=Uu||qs(),!(this instanceof Et))return new Et(t);this._readableState=new II(t,this),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),j_.call(this)}Object.defineProperty(Et.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}});Et.prototype.destroy=PI.destroy;Et.prototype._undestroy=PI.undestroy;Et.prototype._destroy=function(t,e){this.push(null),e(t)};Et.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=Bu.from(t,e),e=""),n=!0),NI(this,t,e,!1,n)};Et.prototype.unshift=function(t){return NI(this,t,null,!0,!1)};function NI(t,e,r,n,i){var s=t._readableState;if(e===null)s.reading=!1,w4(t,s);else{var o;i||(o=v4(s,e)),o?t.emit("error",o):s.objectMode||e&&e.length>0?(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==Bu.prototype&&(e=h4(e)),n?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):q_(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?q_(t,s,e,!1):FI(t,s)):q_(t,s,e,!1))):n||(s.reading=!1)}return y4(s)}function q_(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&_d(t)),FI(t,e)}function v4(t,e){var r;return!p4(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function y4(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||t.length===0)}Et.prototype.isPaused=function(){return this._readableState.flowing===!1};Et.prototype.setEncoding=function(t){return ea||(ea=L_().StringDecoder),this._readableState.decoder=new ea(t),this._readableState.encoding=t,this};var TI=8388608;function _4(t){return t>=TI?t=TI:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function RI(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=_4(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Et.prototype.read=function(t){Xe("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return Xe("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?M_(this):_d(this),null;if(t=RI(t,e),t===0&&e.ended)return e.length===0&&M_(this),null;var n=e.needReadable;Xe("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Xe("length less than watermark",n)),e.ended||e.reading?(n=!1,Xe("reading or ended",n)):n&&(Xe("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=RI(r,e)));var i;return t>0?i=LI(t,e):i=null,i===null?(e.needReadable=!0,t=0):e.length-=t,e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&M_(this)),i!==null&&this.emit("data",i),i};function w4(t,e){if(!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,_d(t)}}function _d(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(Xe("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?ta.nextTick(DI,t):DI(t))}function DI(t){Xe("emit readable"),t.emit("readable"),U_(t)}function FI(t,e){e.readingMore||(e.readingMore=!0,ta.nextTick(E4,t,e))}function E4(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(Xe("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}Et.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))};Et.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,Xe("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,s=i?u:S;n.endEmitted?ta.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(D,w){Xe("onunpipe"),D===r&&w&&w.hasUnpiped===!1&&(w.hasUnpiped=!0,f())}function u(){Xe("onend"),t.end()}var a=b4(r);t.on("drain",a);var c=!1;function f(){Xe("cleanup"),t.removeListener("close",y),t.removeListener("finish",_),t.removeListener("drain",a),t.removeListener("error",h),t.removeListener("unpipe",o),r.removeListener("end",u),r.removeListener("end",S),r.removeListener("data",m),c=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&a()}var d=!1;r.on("data",m);function m(D){Xe("ondata"),d=!1;var w=t.write(D);w===!1&&!d&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&kI(n.pipes,t)!==-1)&&!c&&(Xe("false write response, pause",n.awaitDrain),n.awaitDrain++,d=!0),r.pause())}function h(D){Xe("onerror",D),S(),t.removeListener("error",h),OI(t,"error")===0&&t.emit("error",D)}g4(t,"error",h);function y(){t.removeListener("finish",_),S()}t.once("close",y);function _(){Xe("onfinish"),t.removeListener("close",y),S()}t.once("finish",_);function S(){Xe("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(Xe("pipe resume"),r.resume()),t};function b4(t){return function(){var e=t._readableState;Xe("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,e.awaitDrain===0&&OI(t,"data")&&(e.flowing=!0,U_(t))}}Et.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=kI(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Et.prototype.on=function(t,e){var r=j_.prototype.on.call(this,t,e);if(t==="data")this._readableState.flowing!==!1&&this.resume();else if(t==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&_d(this):ta.nextTick(C4,this))}return r};Et.prototype.addListener=Et.prototype.on;function C4(t){Xe("readable nexttick read 0"),t.read(0)}Et.prototype.resume=function(){var t=this._readableState;return t.flowing||(Xe("resume"),t.flowing=!0,S4(this,t)),this};function S4(t,e){e.resumeScheduled||(e.resumeScheduled=!0,ta.nextTick(T4,t,e))}function T4(t,e){e.reading||(Xe("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),U_(t),e.flowing&&!e.reading&&t.read(0)}Et.prototype.pause=function(){return Xe("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Xe("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function U_(t){var e=t._readableState;for(Xe("flow",e.flowing);e.flowing&&t.read()!==null;);}Et.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(Xe("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(Xe("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var u=e.push(o);u||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(o){return function(){return t[o].apply(t,arguments)}}(i));for(var s=0;s<A_.length;s++)t.on(A_[s],this.emit.bind(this,A_[s]));return this._read=function(o){Xe("wrapped _read",o),n&&(n=!1,t.resume())},this};Object.defineProperty(Et.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Et._fromList=LI;function LI(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.head.data:r=e.buffer.concat(e.length),e.buffer.clear()):r=R4(t,e.buffer,e.decoder),r}function R4(t,e,r){var n;return t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):t===e.head.data.length?n=e.shift():n=r?D4(t,e):O4(t,e),n}function D4(t,e){var r=e.head,n=1,i=r.data;for(t-=i.length;r=r.next;){var s=r.data,o=t>s.length?s.length:t;if(o===s.length?i+=s:i+=s.slice(0,t),t-=o,t===0){o===s.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=s.slice(o));break}++n}return e.length-=n,i}function O4(t,e){var r=Bu.allocUnsafe(t),n=e.head,i=1;for(n.data.copy(r),t-=n.data.length;n=n.next;){var s=n.data,o=t>s.length?s.length:t;if(s.copy(r,r.length-t,0,o),t-=o,t===0){o===s.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=s.slice(o));break}++i}return e.length-=i,r}function M_(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,ta.nextTick(x4,e,t))}function x4(t,e){!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function kI(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var B_=L((UX,jI)=>{"use strict";jI.exports=ii;var wd=qs(),MI=Object.create(Zo());MI.inherits=Mt();MI.inherits(ii,wd);function P4(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function ii(t){if(!(this instanceof ii))return new ii(t);wd.call(this,t),this._transformState={afterTransform:P4.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",I4)}function I4(){var t=this;typeof this._flush=="function"?this._flush(function(e,r){qI(t,e,r)}):qI(this,null,null)}ii.prototype.push=function(t,e){return this._transformState.needTransform=!1,wd.prototype.push.call(this,t,e)};ii.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")};ii.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};ii.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};ii.prototype._destroy=function(t,e){var r=this;wd.prototype._destroy.call(this,t,function(n){e(n),r.emit("close")})};function qI(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}});var WI=L((BX,HI)=>{"use strict";HI.exports=Hu;var UI=B_(),BI=Object.create(Zo());BI.inherits=Mt();BI.inherits(Hu,UI);function Hu(t){if(!(this instanceof Hu))return new Hu(t);UI.call(this,t)}Hu.prototype._transform=function(t,e,r){r(null,t)}});var Sn=L((er,Ed)=>{var Cn=require("stream");process.env.READABLE_STREAM==="disable"&&Cn?(Ed.exports=Cn,er=Ed.exports=Cn.Readable,er.Readable=Cn.Readable,er.Writable=Cn.Writable,er.Duplex=Cn.Duplex,er.Transform=Cn.Transform,er.PassThrough=Cn.PassThrough,er.Stream=Cn):(er=Ed.exports=I_(),er.Stream=Cn||er,er.Readable=er,er.Writable=O_(),er.Duplex=qs(),er.Transform=B_(),er.PassThrough=WI())});var Cd=L((HX,$I)=>{var Ms=require("stream"),H_=qi(),N4=require("util"),bd=Yo(),F4="function";(!Ms.Writable||!Ms.Writable.prototype.destroy)&&(Ms=Sn());function Mi(){if(!(this instanceof Mi))return new Mi;Ms.Duplex.call(this,{decodeStrings:!1,objectMode:!0}),this.buffer=bd.from("");var t=this;t.on("finish",function(){t.finished=!0,t.emit("chunk",!1)})}N4.inherits(Mi,Ms.Duplex);Mi.prototype._write=function(t,e,r){this.buffer=bd.concat([this.buffer,t]),this.cb=r,this.emit("chunk")};Mi.prototype.stream=function(t,e){var r=Ms.PassThrough(),n,i=this;function s(){if(typeof i.cb===F4){var u=i.cb;return i.cb=void 0,u()}}function o(){var u;if(i.buffer&&i.buffer.length){if(typeof t=="number")u=i.buffer.slice(0,t),i.buffer=i.buffer.slice(t),t-=u.length,n=!t;else{var a=i.buffer.indexOf(t);if(a!==-1)i.match=a,e&&(a=a+t.length),u=i.buffer.slice(0,a),i.buffer=i.buffer.slice(a),n=!0;else{var c=i.buffer.length-t.length;c<=0?s():(u=i.buffer.slice(0,c),i.buffer=i.buffer.slice(c))}}u&&r.write(u,function(){(i.buffer.length===0||t.length&&i.buffer.length<=t.length)&&s()})}if(n)i.removeListener("chunk",o),r.end();else if(i.finished&&!this.__ended){i.removeListener("chunk",o),i.emit("error",new Error("FILE_ENDED")),this.__ended=!0;return}}return i.on("chunk",o),o(),r};Mi.prototype.pull=function(t,e){if(t===0)return H_.resolve("");if(!isNaN(t)&&this.buffer.length>t){var r=this.buffer.slice(0,t);return this.buffer=this.buffer.slice(t),H_.resolve(r)}var n=bd.from(""),i=this,s=Ms.Transform();s._transform=function(a,c,f){n=bd.concat([n,a]),f()};var o,u;return new H_(function(a,c){if(o=c,u=function(f){i.__emittedError=f,c(f)},i.finished)return c(new Error("FILE_ENDED"));i.once("error",u),i.stream(t,e).on("error",c).pipe(s).on("finish",function(){a(n)}).on("error",c)}).finally(function(){i.removeListener("error",o),i.removeListener("error",u)})};Mi.prototype._read=function(){};$I.exports=Mi});var GI=L((WX,zI)=>{var Wu=require("stream"),L4=require("util");(!Wu.Writable||!Wu.Writable.prototype.destroy)&&(Wu=Sn());function $u(){if(!(this instanceof $u))return new $u;Wu.Transform.call(this)}L4.inherits($u,Wu.Transform);$u.prototype._transform=function(t,e,r){r()};zI.exports=$u});var Td=L(($X,VI)=>{var k4=qi(),Sd=require("stream"),A4=Yo();(!Sd.Writable||!Sd.Writable.prototype.destroy)&&(Sd=Sn());VI.exports=function(t){return new k4(function(e,r){var n=[],i=Sd.Transform().on("finish",function(){e(A4.concat(n))}).on("error",r);i._transform=function(s,o,u){n.push(s),u()},t.on("error",r).pipe(i)})}});var Rd=L((zX,KI)=>{var q4=Iu();KI.exports=function(t,e){for(var r;!r&&t&&t.length;){var n=q4.parse(t).word16lu("signature").word16lu("partsize").word64lu("uncompressedSize").word64lu("compressedSize").word64lu("offset").word64lu("disknum").vars;n.signature===1?r=n:t=t.slice(n.partsize+4)}return r=r||{},e.compressedSize===4294967295&&(e.compressedSize=r.compressedSize),e.uncompressedSize===4294967295&&(e.uncompressedSize=r.uncompressedSize),e.offsetToLocalFileHeader===4294967295&&(e.offsetToLocalFileHeader=r.offset),r}});var Dd=L((GX,XI)=>{XI.exports=function(e,r){let n=e&31,i=e>>5&15,s=(e>>9&127)+1980,o=r?(r&31)*2:0,u=r?r>>5&63:0,a=r?r>>11:0;return new Date(Date.UTC(s,i-1,n,a,u,o))}});var Od=L((VX,QI)=>{var M4=require("util"),j4=require("zlib"),zu=require("stream"),Gu=Iu(),W_=qi(),YI=Cd(),U4=GI(),B4=Td(),H4=Rd(),JI=Yo(),W4=Dd();(!zu.Writable||!zu.Writable.prototype.destroy)&&(zu=Sn());var ZI=JI.alloc(4);ZI.writeUInt32LE(101010256,0);function ln(t){if(!(this instanceof ln))return new ln(t);var e=this;e._opts=t||{verbose:!1},YI.call(e,e._opts),e.on("finish",function(){e.emit("close")}),e._readRecord().catch(function(r){(!e.__emittedError||e.__emittedError!==r)&&e.emit("error",r)})}M4.inherits(ln,YI);ln.prototype._readRecord=function(){var t=this;return t.pull(4).then(function(e){if(e.length!==0){var r=e.readUInt32LE(0);if(r===875721283)return t._readCrxHeader();if(r===67324752)return t._readFile();if(r===33639248)return t.__ended=!0,t._readCentralDirectoryFileHeader();if(r===101010256)return t._readEndOfCentralDirectoryRecord();if(t.__ended)return t.pull(ZI).then(function(){return t._readEndOfCentralDirectoryRecord()});t.emit("error",new Error("invalid signature: 0x"+r.toString(16)))}})};ln.prototype._readCrxHeader=function(){var t=this;return t.pull(12).then(function(e){return t.crxHeader=Gu.parse(e).word32lu("version").word32lu("pubKeyLength").word32lu("signatureLength").vars,t.pull(t.crxHeader.pubKeyLength+t.crxHeader.signatureLength)}).then(function(e){return t.crxHeader.publicKey=e.slice(0,t.crxHeader.pubKeyLength),t.crxHeader.signature=e.slice(t.crxHeader.pubKeyLength),t.emit("crx-header",t.crxHeader),t._readRecord()})};ln.prototype._readFile=function(){var t=this;return t.pull(26).then(function(e){var r=Gu.parse(e).word16lu("versionsNeededToExtract").word16lu("flags").word16lu("compressionMethod").word16lu("lastModifiedTime").word16lu("lastModifiedDate").word32lu("crc32").word32lu("compressedSize").word32lu("uncompressedSize").word16lu("fileNameLength").word16lu("extraFieldLength").vars;return r.lastModifiedDateTime=W4(r.lastModifiedDate,r.lastModifiedTime),t.crxHeader&&(r.crxHeader=t.crxHeader),t.pull(r.fileNameLength).then(function(n){var i=n.toString("utf8"),s=zu.PassThrough(),o=!1;return s.autodrain=function(){o=!0;var u=s.pipe(U4());return u.promise=function(){return new W_(function(a,c){u.on("finish",a),u.on("error",c)})},u},s.buffer=function(){return B4(s)},s.path=i,s.props={},s.props.path=i,s.props.pathBuffer=n,s.props.flags={isUnicode:r.flags&17},s.type=r.uncompressedSize===0&&/[\/\\]$/.test(i)?"Directory":"File",t._opts.verbose&&(s.type==="Directory"?console.log("   creating:",i):s.type==="File"&&(r.compressionMethod===0?console.log(" extracting:",i):console.log("  inflating:",i))),t.pull(r.extraFieldLength).then(function(u){var a=H4(u,r);s.vars=r,s.extra=a,t._opts.forceStream?t.push(s):(t.emit("entry",s),(t._readableState.pipesCount||t._readableState.pipes&&t._readableState.pipes.length)&&t.push(s)),t._opts.verbose&&console.log({filename:i,vars:r,extra:a});var c=!(r.flags&8)||r.compressedSize>0,f;s.__autodraining=o;var d=r.compressionMethod&&!o?j4.createInflateRaw():zu.PassThrough();return c?(s.size=r.uncompressedSize,f=r.compressedSize):(f=JI.alloc(4),f.writeUInt32LE(134695760,0)),new W_(function(m,h){t.stream(f).pipe(d).on("error",function(y){t.emit("error",y)}).pipe(s).on("finish",function(){return c?t._readRecord().then(m).catch(h):t._processDataDescriptor(s).then(m).catch(h)})})})})})};ln.prototype._processDataDescriptor=function(t){var e=this;return e.pull(16).then(function(r){var n=Gu.parse(r).word32lu("dataDescriptorSignature").word32lu("crc32").word32lu("compressedSize").word32lu("uncompressedSize").vars;return t.size=n.uncompressedSize,e._readRecord()})};ln.prototype._readCentralDirectoryFileHeader=function(){var t=this;return t.pull(42).then(function(e){var r=Gu.parse(e).word16lu("versionMadeBy").word16lu("versionsNeededToExtract").word16lu("flags").word16lu("compressionMethod").word16lu("lastModifiedTime").word16lu("lastModifiedDate").word32lu("crc32").word32lu("compressedSize").word32lu("uncompressedSize").word16lu("fileNameLength").word16lu("extraFieldLength").word16lu("fileCommentLength").word16lu("diskNumber").word16lu("internalFileAttributes").word32lu("externalFileAttributes").word32lu("offsetToLocalFileHeader").vars;return t.pull(r.fileNameLength).then(function(n){return r.fileName=n.toString("utf8"),t.pull(r.extraFieldLength)}).then(function(n){return t.pull(r.fileCommentLength)}).then(function(n){return t._readRecord()})})};ln.prototype._readEndOfCentralDirectoryRecord=function(){var t=this;return t.pull(18).then(function(e){var r=Gu.parse(e).word16lu("diskNumber").word16lu("diskStart").word16lu("numberOfRecordsOnDisk").word16lu("numberOfRecords").word32lu("sizeOfCentralDirectory").word32lu("offsetToStartOfCentralDirectory").word16lu("commentLength").vars;return t.pull(r.commentLength).then(function(n){n=n.toString("utf8"),t.end(),t.push(null)})})};ln.prototype.promise=function(){var t=this;return new W_(function(e,r){t.on("finish",e),t.on("error",r)})};QI.exports=ln});var G_=L((KX,z_)=>{"use strict";var $_=Sn();function ra(t,e,r){typeof r>"u"&&(r=e,e=t,t=null),$_.Duplex.call(this,t),typeof r.read!="function"&&(r=new $_.Readable(t).wrap(r)),this._writable=e,this._readable=r,this._waiting=!1;var n=this;e.once("finish",function(){n.end()}),this.once("finish",function(){e.end()}),r.on("readable",function(){n._waiting&&(n._waiting=!1,n._read())}),r.once("end",function(){n.push(null)}),(!t||typeof t.bubbleErrors>"u"||t.bubbleErrors)&&(e.on("error",function(i){n.emit("error",i)}),r.on("error",function(i){n.emit("error",i)}))}ra.prototype=Object.create($_.Duplex.prototype,{constructor:{value:ra}});ra.prototype._write=function(e,r,n){this._writable.write(e,r,n)};ra.prototype._read=function(){for(var e,r=0;(e=this._readable.read())!==null;)this.push(e),r++;r===0&&(this._waiting=!0)};z_.exports=function(e,r,n){return new ra(e,r,n)};z_.exports.DuplexWrapper=ra});var tN=L((XX,eN)=>{var na=require("stream"),$4=Od(),z4=G_(),G4=Td();(!na.Writable||!na.Writable.prototype.destroy)&&(na=Sn());function V4(t,e){var r=na.PassThrough({objectMode:!0}),n=na.PassThrough(),i=na.Transform({objectMode:!0}),s=t instanceof RegExp?t:t&&new RegExp(t),o;i._transform=function(a,c,f){if(o||s&&!s.exec(a.path))return a.autodrain(),f();o=!0,u.emit("entry",a),a.on("error",function(d){n.emit("error",d)}),a.pipe(n).on("error",function(d){f(d)}).on("finish",function(d){f(null,d)})},r.pipe($4(e)).on("error",function(a){n.emit("error",a)}).pipe(i).on("error",Object).on("finish",function(){o?n.end():n.emit("error",new Error("PATTERN_NOT_FOUND"))});var u=z4(r,n);return u.buffer=function(){return G4(n)},u}eN.exports=V4});var xd=L((YX,nN)=>{nN.exports=ji;var V_=require("stream").Stream,K4=Mt();function ji(){V_.call(this)}K4(ji,V_);ji.prototype.on=function(t,e){return t==="ready"&&this.ready?process.nextTick(e.bind(this)):V_.prototype.on.call(this,t,e),this};ji.prototype.abort=function(){this._aborted=!0,this.emit("abort")};ji.prototype.destroy=function(){};ji.prototype.warn=function(t,e){var r=this,n=rN(t,e,r);r.listeners("warn")?r.emit("warn",n):console.error(`%s %s
path = %s
syscall = %s
fstream_type = %s
fstream_path = %s
fstream_unc_path = %s
fstream_class = %s
fstream_stack =
%s
`,e||"UNKNOWN",n.stack,n.path,n.syscall,n.fstream_type,n.fstream_path,n.fstream_unc_path,n.fstream_class,n.fstream_stack.join(`
`))};ji.prototype.info=function(t,e){this.emit("info",t,e)};ji.prototype.error=function(t,e,r){var n=rN(t,e,this);if(r)throw n;this.emit("error",n)};function rN(t,e,r){return t instanceof Error||(t=new Error(t)),t.code=t.code||e,t.path=t.path||r.path,t.fstream_type=t.fstream_type||r.type,t.fstream_path=t.fstream_path||r.path,r._path!==r.path&&(t.fstream_unc_path=t.fstream_unc_path||r._path),r.linkpath&&(t.fstream_linkpath=t.fstream_linkpath||r.linkpath),t.fstream_class=t.fstream_class||r.constructor.name,t.fstream_stack=t.fstream_stack||new Error().stack.split(/\n/).slice(3).map(function(n){return n.replace(/^ {4}at /,"")}),t}});var sN=L((JX,iN)=>{var Ui=require("constants"),X4=process.cwd,Pd=null,Y4=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return Pd||(Pd=X4.call(process)),Pd};try{process.cwd()}catch{}typeof process.chdir=="function"&&(K_=process.chdir,process.chdir=function(t){Pd=null,K_.call(process,t)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,K_));var K_;iN.exports=J4;function J4(t){Ui.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&e(t),t.lutimes||r(t),t.chown=s(t.chown),t.fchown=s(t.fchown),t.lchown=s(t.lchown),t.chmod=n(t.chmod),t.fchmod=n(t.fchmod),t.lchmod=n(t.lchmod),t.chownSync=o(t.chownSync),t.fchownSync=o(t.fchownSync),t.lchownSync=o(t.lchownSync),t.chmodSync=i(t.chmodSync),t.fchmodSync=i(t.fchmodSync),t.lchmodSync=i(t.lchmodSync),t.stat=u(t.stat),t.fstat=u(t.fstat),t.lstat=u(t.lstat),t.statSync=a(t.statSync),t.fstatSync=a(t.fstatSync),t.lstatSync=a(t.lstatSync),t.chmod&&!t.lchmod&&(t.lchmod=function(f,d,m){m&&process.nextTick(m)},t.lchmodSync=function(){}),t.chown&&!t.lchown&&(t.lchown=function(f,d,m,h){h&&process.nextTick(h)},t.lchownSync=function(){}),Y4==="win32"&&(t.rename=typeof t.rename!="function"?t.rename:function(f){function d(m,h,y){var _=Date.now(),S=0;f(m,h,function D(w){if(w&&(w.code==="EACCES"||w.code==="EPERM"||w.code==="EBUSY")&&Date.now()-_<6e4){setTimeout(function(){t.stat(h,function(T,P){T&&T.code==="ENOENT"?f(m,h,D):y(w)})},S),S<100&&(S+=10);return}y&&y(w)})}return Object.setPrototypeOf&&Object.setPrototypeOf(d,f),d}(t.rename)),t.read=typeof t.read!="function"?t.read:function(f){function d(m,h,y,_,S,D){var w;if(D&&typeof D=="function"){var T=0;w=function(P,M,U){if(P&&P.code==="EAGAIN"&&T<10)return T++,f.call(t,m,h,y,_,S,w);D.apply(this,arguments)}}return f.call(t,m,h,y,_,S,w)}return Object.setPrototypeOf&&Object.setPrototypeOf(d,f),d}(t.read),t.readSync=typeof t.readSync!="function"?t.readSync:function(f){return function(d,m,h,y,_){for(var S=0;;)try{return f.call(t,d,m,h,y,_)}catch(D){if(D.code==="EAGAIN"&&S<10){S++;continue}throw D}}}(t.readSync);function e(f){f.lchmod=function(d,m,h){f.open(d,Ui.O_WRONLY|Ui.O_SYMLINK,m,function(y,_){if(y){h&&h(y);return}f.fchmod(_,m,function(S){f.close(_,function(D){h&&h(S||D)})})})},f.lchmodSync=function(d,m){var h=f.openSync(d,Ui.O_WRONLY|Ui.O_SYMLINK,m),y=!0,_;try{_=f.fchmodSync(h,m),y=!1}finally{if(y)try{f.closeSync(h)}catch{}else f.closeSync(h)}return _}}function r(f){Ui.hasOwnProperty("O_SYMLINK")&&f.futimes?(f.lutimes=function(d,m,h,y){f.open(d,Ui.O_SYMLINK,function(_,S){if(_){y&&y(_);return}f.futimes(S,m,h,function(D){f.close(S,function(w){y&&y(D||w)})})})},f.lutimesSync=function(d,m,h){var y=f.openSync(d,Ui.O_SYMLINK),_,S=!0;try{_=f.futimesSync(y,m,h),S=!1}finally{if(S)try{f.closeSync(y)}catch{}else f.closeSync(y)}return _}):f.futimes&&(f.lutimes=function(d,m,h,y){y&&process.nextTick(y)},f.lutimesSync=function(){})}function n(f){return f&&function(d,m,h){return f.call(t,d,m,function(y){c(y)&&(y=null),h&&h.apply(this,arguments)})}}function i(f){return f&&function(d,m){try{return f.call(t,d,m)}catch(h){if(!c(h))throw h}}}function s(f){return f&&function(d,m,h,y){return f.call(t,d,m,h,function(_){c(_)&&(_=null),y&&y.apply(this,arguments)})}}function o(f){return f&&function(d,m,h){try{return f.call(t,d,m,h)}catch(y){if(!c(y))throw y}}}function u(f){return f&&function(d,m,h){typeof m=="function"&&(h=m,m=null);function y(_,S){S&&(S.uid<0&&(S.uid+=4294967296),S.gid<0&&(S.gid+=4294967296)),h&&h.apply(this,arguments)}return m?f.call(t,d,m,y):f.call(t,d,y)}}function a(f){return f&&function(d,m){var h=m?f.call(t,d,m):f.call(t,d);return h&&(h.uid<0&&(h.uid+=4294967296),h.gid<0&&(h.gid+=4294967296)),h}}function c(f){if(!f||f.code==="ENOSYS")return!0;var d=!process.getuid||process.getuid()!==0;return!!(d&&(f.code==="EINVAL"||f.code==="EPERM"))}}});var uN=L((ZX,aN)=>{var oN=require("stream").Stream;aN.exports=Z4;function Z4(t){return{ReadStream:e,WriteStream:r};function e(n,i){if(!(this instanceof e))return new e(n,i);oN.call(this);var s=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var o=Object.keys(i),u=0,a=o.length;u<a;u++){var c=o[u];this[c]=i[c]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){s._read()});return}t.open(this.path,this.flags,this.mode,function(f,d){if(f){s.emit("error",f),s.readable=!1;return}s.fd=d,s.emit("open",d),s._read()})}function r(n,i){if(!(this instanceof r))return new r(n,i);oN.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var s=Object.keys(i),o=0,u=s.length;o<u;o++){var a=s[o];this[a]=i[a]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var lN=L((QX,cN)=>{"use strict";cN.exports=e8;var Q4=Object.getPrototypeOf||function(t){return t.__proto__};function e8(t){if(t===null||typeof t!="object")return t;if(t instanceof Object)var e={__proto__:Q4(t)};else var e=Object.create(null);return Object.getOwnPropertyNames(t).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}});var Tn=L((eY,J_)=>{var Tt=require("fs"),t8=sN(),r8=uN(),n8=lN(),Id=require("util"),tr,Fd;typeof Symbol=="function"&&typeof Symbol.for=="function"?(tr=Symbol.for("graceful-fs.queue"),Fd=Symbol.for("graceful-fs.previous")):(tr="___graceful-fs.queue",Fd="___graceful-fs.previous");function i8(){}function hN(t,e){Object.defineProperty(t,tr,{get:function(){return e}})}var js=i8;Id.debuglog?js=Id.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(js=function(){var t=Id.format.apply(Id,arguments);t="GFS4: "+t.split(/\n/).join(`
GFS4: `),console.error(t)});Tt[tr]||(fN=global[tr]||[],hN(Tt,fN),Tt.close=function(t){function e(r,n){return t.call(Tt,r,function(i){i||dN(),typeof n=="function"&&n.apply(this,arguments)})}return Object.defineProperty(e,Fd,{value:t}),e}(Tt.close),Tt.closeSync=function(t){function e(r){t.apply(Tt,arguments),dN()}return Object.defineProperty(e,Fd,{value:t}),e}(Tt.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){js(Tt[tr]),require("assert").equal(Tt[tr].length,0)}));var fN;global[tr]||hN(global,Tt[tr]);J_.exports=X_(n8(Tt));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!Tt.__patched&&(J_.exports=X_(Tt),Tt.__patched=!0);function X_(t){t8(t),t.gracefulify=X_,t.createReadStream=M,t.createWriteStream=U;var e=t.readFile;t.readFile=r;function r(K,ie,ne){return typeof ie=="function"&&(ne=ie,ie=null),G(K,ie,ne);function G(te,se,le,q){return e(te,se,function(z){z&&(z.code==="EMFILE"||z.code==="ENFILE")?ia([G,[te,se,le],z,q||Date.now(),Date.now()]):typeof le=="function"&&le.apply(this,arguments)})}}var n=t.writeFile;t.writeFile=i;function i(K,ie,ne,G){return typeof ne=="function"&&(G=ne,ne=null),te(K,ie,ne,G);function te(se,le,q,z,Y){return n(se,le,q,function(J){J&&(J.code==="EMFILE"||J.code==="ENFILE")?ia([te,[se,le,q,z],J,Y||Date.now(),Date.now()]):typeof z=="function"&&z.apply(this,arguments)})}}var s=t.appendFile;s&&(t.appendFile=o);function o(K,ie,ne,G){return typeof ne=="function"&&(G=ne,ne=null),te(K,ie,ne,G);function te(se,le,q,z,Y){return s(se,le,q,function(J){J&&(J.code==="EMFILE"||J.code==="ENFILE")?ia([te,[se,le,q,z],J,Y||Date.now(),Date.now()]):typeof z=="function"&&z.apply(this,arguments)})}}var u=t.copyFile;u&&(t.copyFile=a);function a(K,ie,ne,G){return typeof ne=="function"&&(G=ne,ne=0),te(K,ie,ne,G);function te(se,le,q,z,Y){return u(se,le,q,function(J){J&&(J.code==="EMFILE"||J.code==="ENFILE")?ia([te,[se,le,q,z],J,Y||Date.now(),Date.now()]):typeof z=="function"&&z.apply(this,arguments)})}}var c=t.readdir;t.readdir=d;var f=/^v[0-5]\./;function d(K,ie,ne){typeof ie=="function"&&(ne=ie,ie=null);var G=f.test(process.version)?function(le,q,z,Y){return c(le,te(le,q,z,Y))}:function(le,q,z,Y){return c(le,q,te(le,q,z,Y))};return G(K,ie,ne);function te(se,le,q,z){return function(Y,J){Y&&(Y.code==="EMFILE"||Y.code==="ENFILE")?ia([G,[se,le,q],Y,z||Date.now(),Date.now()]):(J&&J.sort&&J.sort(),typeof q=="function"&&q.call(this,Y,J))}}}if(process.version.substr(0,4)==="v0.8"){var m=r8(t);D=m.ReadStream,T=m.WriteStream}var h=t.ReadStream;h&&(D.prototype=Object.create(h.prototype),D.prototype.open=w);var y=t.WriteStream;y&&(T.prototype=Object.create(y.prototype),T.prototype.open=P),Object.defineProperty(t,"ReadStream",{get:function(){return D},set:function(K){D=K},enumerable:!0,configurable:!0}),Object.defineProperty(t,"WriteStream",{get:function(){return T},set:function(K){T=K},enumerable:!0,configurable:!0});var _=D;Object.defineProperty(t,"FileReadStream",{get:function(){return _},set:function(K){_=K},enumerable:!0,configurable:!0});var S=T;Object.defineProperty(t,"FileWriteStream",{get:function(){return S},set:function(K){S=K},enumerable:!0,configurable:!0});function D(K,ie){return this instanceof D?(h.apply(this,arguments),this):D.apply(Object.create(D.prototype),arguments)}function w(){var K=this;k(K.path,K.flags,K.mode,function(ie,ne){ie?(K.autoClose&&K.destroy(),K.emit("error",ie)):(K.fd=ne,K.emit("open",ne),K.read())})}function T(K,ie){return this instanceof T?(y.apply(this,arguments),this):T.apply(Object.create(T.prototype),arguments)}function P(){var K=this;k(K.path,K.flags,K.mode,function(ie,ne){ie?(K.destroy(),K.emit("error",ie)):(K.fd=ne,K.emit("open",ne))})}function M(K,ie){return new t.ReadStream(K,ie)}function U(K,ie){return new t.WriteStream(K,ie)}var $=t.open;t.open=k;function k(K,ie,ne,G){return typeof ne=="function"&&(G=ne,ne=null),te(K,ie,ne,G);function te(se,le,q,z,Y){return $(se,le,q,function(J,oe){J&&(J.code==="EMFILE"||J.code==="ENFILE")?ia([te,[se,le,q,z],J,Y||Date.now(),Date.now()]):typeof z=="function"&&z.apply(this,arguments)})}}return t}function ia(t){js("ENQUEUE",t[0].name,t[1]),Tt[tr].push(t),Y_()}var Nd;function dN(){for(var t=Date.now(),e=0;e<Tt[tr].length;++e)Tt[tr][e].length>2&&(Tt[tr][e][3]=t,Tt[tr][e][4]=t);Y_()}function Y_(){if(clearTimeout(Nd),Nd=void 0,Tt[tr].length!==0){var t=Tt[tr].shift(),e=t[0],r=t[1],n=t[2],i=t[3],s=t[4];if(i===void 0)js("RETRY",e.name,r),e.apply(null,r);else if(Date.now()-i>=6e4){js("TIMEOUT",e.name,r);var o=r.pop();typeof o=="function"&&o.call(null,n)}else{var u=Date.now()-s,a=Math.max(s-i,1),c=Math.min(a*1.2,100);u>=c?(js("RETRY",e.name,r),e.apply(null,r.concat([i]))):Tt[tr].push(t)}Nd===void 0&&(Nd=setTimeout(Y_,0))}}});var Vu=L((tY,pN)=>{pN.exports=s8;function s8(t){var e=["Directory","File","SymbolicLink","Link","BlockDevice","CharacterDevice","FIFO","Socket"],r;if(t.type&&e.indexOf(t.type)!==-1)return t[t.type]=!0,t.type;for(var n=0,i=e.length;n<i;n++){r=e[n];var s=t[r]||t["is"+r];if(typeof s=="function"&&(s=s.call(t)),s)return t[r]=!0,t.type=r,r}return null}});var Q_=L((rY,mN)=>{mN.exports=Ku;var o8=Tn(),a8=Mt(),Z_=Us();a8(Ku,Z_);function Ku(t){var e=this;if(!(e instanceof Ku))throw new Error("LinkReader must be called as constructor.");if(!(t.type==="Link"&&t.Link||t.type==="SymbolicLink"&&t.SymbolicLink))throw new Error("Non-link type "+t.type);Z_.call(e,t)}Ku.prototype._stat=function(t){var e=this;o8.readlink(e._path,function(r,n){if(r)return e.error(r);e.linkpath=e.props.linkpath=n,e.emit("linkpath",n),Z_.prototype._stat.call(e,t)})};Ku.prototype._read=function(){var t=this;t._paused||t._ended||(t.emit("end"),t.emit("close"),t._ended=!0)}});var tw=L((nY,yN)=>{yN.exports=Rn;var vN=Tn(),u8=Mt(),Xu=require("path"),ew=Us(),gN=require("assert").ok;u8(Rn,ew);function Rn(t){var e=this;if(!(e instanceof Rn))throw new Error("DirReader must be called as constructor.");if(t.type!=="Directory"||!t.Directory)throw new Error("Non-directory type "+t.type);e.entries=null,e._index=-1,e._paused=!1,e._length=-1,t.sort&&(this.sort=t.sort),ew.call(this,t)}Rn.prototype._getEntries=function(){var t=this;t._gotEntries||(t._gotEntries=!0,vN.readdir(t._path,function(e,r){if(e)return t.error(e);t.entries=r,t.emit("entries",r),t._paused?t.once("resume",n):n();function n(){t._length=t.entries.length,typeof t.sort=="function"&&(t.entries=t.entries.sort(t.sort.bind(t))),t._read()}}))};Rn.prototype._read=function(){var t=this;if(!t.entries)return t._getEntries();if(!(t._paused||t._currentEntry||t._aborted)){if(t._index++,t._index>=t.entries.length){t._ended||(t._ended=!0,t.emit("end"),t.emit("close"));return}var e=Xu.resolve(t._path,t.entries[t._index]);gN(e!==t._path),gN(t.entries[t._index]),t._currentEntry=e,vN[t.props.follow?"stat":"lstat"](e,function(r,n){if(r)return t.error(r);var i=t._proxy||t;n.path=e,n.basename=Xu.basename(e),n.dirname=Xu.dirname(e);var s=t.getChildProps.call(i,n);s.path=e,s.basename=Xu.basename(e),s.dirname=Xu.dirname(e);var o=ew(s,n);t._currentEntry=o,o.on("pause",function(c){!t._paused&&!o._disowned&&t.pause(c)}),o.on("resume",function(c){t._paused&&!o._disowned&&t.resume(c)}),o.on("stat",function(c){t.emit("_entryStat",o,c),!o._aborted&&(o._paused?o.once("resume",function(){t.emit("entryStat",o,c)}):t.emit("entryStat",o,c))}),o.on("ready",function c(){if(t._paused)return o.pause(t),t.once("resume",c);o.type==="Socket"?t.emit("socket",o):t.emitEntry(o)});var u=!1;o.on("close",a),o.on("disown",a);function a(){u||(u=!0,t.emit("childEnd",o),t.emit("entryEnd",o),t._currentEntry=null,t._paused||t._read())}o.on("error",function(c){o._swallowErrors?(t.warn(c),o.emit("end"),o.emit("close")):t.emit("error",c)}),["child","childEnd","warn"].forEach(function(c){o.on(c,t.emit.bind(t,c))})})}};Rn.prototype.disown=function(t){t.emit("beforeDisown"),t._disowned=!0,t.parent=t.root=null,t===this._currentEntry&&(this._currentEntry=null),t.emit("disown")};Rn.prototype.getChildProps=function(){return{depth:this.depth+1,root:this.root||this,parent:this,follow:this.follow,filter:this.filter,sort:this.props.sort,hardlinks:this.props.hardlinks}};Rn.prototype.pause=function(t){var e=this;e._paused||(t=t||e,e._paused=!0,e._currentEntry&&e._currentEntry.pause&&e._currentEntry.pause(t),e.emit("pause",t))};Rn.prototype.resume=function(t){var e=this;e._paused&&(t=t||e,e._paused=!1,e.emit("resume",t),!e._paused&&(e._currentEntry?e._currentEntry.resume&&e._currentEntry.resume(t):e._read()))};Rn.prototype.emitEntry=function(t){this.emit("entry",t),this.emit("child",t)}});var rw=L((iY,bN)=>{bN.exports=Bs;var c8=Tn(),l8=Mt(),_N=Us(),wN={EOF:!0},EN={CLOSE:!0};l8(Bs,_N);function Bs(t){var e=this;if(!(e instanceof Bs))throw new Error("FileReader must be called as constructor.");if(!(t.type==="Link"&&t.Link||t.type==="File"&&t.File))throw new Error("Non-file type "+t.type);e._buffer=[],e._bytesEmitted=0,_N.call(e,t)}Bs.prototype._getStream=function(){var t=this,e=t._stream=c8.createReadStream(t._path,t.props);t.props.blksize&&(e.bufferSize=t.props.blksize),e.on("open",t.emit.bind(t,"open")),e.on("data",function(r){if(t._bytesEmitted+=r.length,r.length)t._paused||t._buffer.length?(t._buffer.push(r),t._read()):t.emit("data",r);else return}),e.on("end",function(){t._paused||t._buffer.length?(t._buffer.push(wN),t._read()):t.emit("end"),t._bytesEmitted!==t.props.size&&t.error(`Didn't get expected byte count
expect: `+t.props.size+`
actual: `+t._bytesEmitted)}),e.on("close",function(){t._paused||t._buffer.length?(t._buffer.push(EN),t._read()):t.emit("close")}),e.on("error",function(r){t.emit("error",r)}),t._read()};Bs.prototype._read=function(){var t=this;if(!t._paused){if(!t._stream)return t._getStream();if(t._buffer.length){for(var e=t._buffer,r=0,n=e.length;r<n;r++){var i=e[r];if(i===wN?t.emit("end"):i===EN?t.emit("close"):t.emit("data",i),t._paused){t._buffer=e.slice(r);return}}t._buffer.length=0}}};Bs.prototype.pause=function(t){var e=this;e._paused||(t=t||e,e._paused=!0,e._stream&&e._stream.pause(),e.emit("pause",t))};Bs.prototype.resume=function(t){var e=this;e._paused&&(t=t||e,e.emit("resume",t),e._paused=!1,e._stream&&e._stream.resume(),e._read())}});var TN=L((sY,SN)=>{SN.exports=Ld;var f8=Mt(),CN=Us();f8(Ld,CN);function Ld(t){var e=this;if(!(e instanceof Ld))throw new Error("SocketReader must be called as constructor.");if(!(t.type==="Socket"&&t.Socket))throw new Error("Non-socket type "+t.type);CN.call(e,t)}Ld.prototype._read=function(){var t=this;t._paused||t._ended||(t.emit("end"),t.emit("close"),t._ended=!0)}});var iw=L((oY,RN)=>{RN.exports=Hs;var nw=Us(),d8=Vu(),h8=Mt(),p8=Tn();h8(Hs,nw);function Hs(t){var e=this;if(!(e instanceof Hs))throw new Error("ProxyReader must be called as constructor.");e.props=t,e._buffer=[],e.ready=!1,nw.call(e,t)}Hs.prototype._stat=function(){var t=this,e=t.props,r=e.follow?"stat":"lstat";p8[r](e.path,function(n,i){var s;n||!i?s="File":s=d8(i),e[s]=!0,e.type=t.type=s,t._old=i,t._addProxy(nw(e,i))})};Hs.prototype._addProxy=function(t){var e=this;if(e._proxyTarget)return e.error("proxy already set");e._proxyTarget=t,t._proxy=e,["error","data","end","close","linkpath","entry","entryEnd","child","childEnd","warn","stat"].forEach(function(n){t.on(n,e.emit.bind(e,n))}),e.emit("proxy",t),t.on("ready",function(){e.ready=!0,e.emit("ready")});var r=e._buffer;e._buffer.length=0,r.forEach(function(n){t[n[0]].apply(t,n[1])})};Hs.prototype.pause=function(){return this._proxyTarget?this._proxyTarget.pause():!1};Hs.prototype.resume=function(){return this._proxyTarget?this._proxyTarget.resume():!1}});var Us=L((aY,xN)=>{xN.exports=fn;var m8=Tn(),g8=require("stream").Stream,v8=Mt(),sw=require("path"),ow=Vu(),kd=fn.hardLinks={},DN=xd();v8(fn,DN);var ON=Q_();function fn(t,e){var r=this;if(!(r instanceof fn))return new fn(t,e);typeof t=="string"&&(t={path:t});var n,i;switch(t.type&&typeof t.type=="function"?(n=t.type,i=n):(n=ow(t),i=fn),e&&!n&&(n=ow(e),t[n]=!0,t.type=n),n){case"Directory":i=tw();break;case"Link":case"File":i=rw();break;case"SymbolicLink":i=ON;break;case"Socket":i=TN();break;case null:i=iw();break}if(!(r instanceof i))return new i(t);DN.call(r),t.path||r.error("Must provide a path",null,!0),r.readable=!0,r.writable=!1,r.type=n,r.props=t,r.depth=t.depth=t.depth||0,r.parent=t.parent||null,r.root=t.root||t.parent&&t.parent.root||r,r._path=r.path=sw.resolve(t.path),process.platform==="win32"&&(r.path=r._path=r.path.replace(/\?/g,"_"),r._path.length>=260&&(r._swallowErrors=!0,r._path="\\\\?\\"+r.path.replace(/\//g,"\\"))),r.basename=t.basename=sw.basename(r.path),r.dirname=t.dirname=sw.dirname(r.path),t.parent=t.root=null,r.size=t.size,r.filter=typeof t.filter=="function"?t.filter:null,t.sort==="alpha"&&(t.sort=y8),r._stat(e)}function y8(t,e){return t===e?0:t.toLowerCase()>e.toLowerCase()?1:t.toLowerCase()<e.toLowerCase()?-1:t>e?1:-1}fn.prototype._stat=function(t){var e=this,r=e.props,n=r.follow?"stat":"lstat";t?process.nextTick(i.bind(null,null,t)):m8[n](e._path,i);function i(s,o){if(s)return e.error(s);if(Object.keys(o).forEach(function(h){r[h]=o[h]}),e.size!==void 0&&r.size!==e.size)return e.error("incorrect size");e.size=r.size;var u=ow(r),a=r.hardlinks!==!1;if(a&&u!=="Directory"&&r.nlink&&r.nlink>1){var c=r.dev+":"+r.ino;kd[c]===e._path||!kd[c]?kd[c]=e._path:(u=e.type=e.props.type="Link",e.Link=e.props.Link=!0,e.linkpath=e.props.linkpath=kd[c],e._stat=e._read=ON.prototype._read)}if(e.type&&e.type!==u&&e.error("Unexpected type: "+u),e.filter){var f=e._proxy||e;if(!e.filter.call(f,f,r)){e._disowned||(e.abort(),e.emit("end"),e.emit("close"));return}}var d=["_stat","stat","ready"],m=0;(function h(){if(e._aborted){e.emit("end"),e.emit("close");return}if(e._paused&&e.type!=="Directory"){e.once("resume",h);return}var y=d[m++];if(!y)return e._read();e.emit(y,r),h()})()}};fn.prototype.pipe=function(t){var e=this;return typeof t.add=="function"&&e.on("entry",function(r){var n=t.add(r);n===!1&&e.pause()}),g8.prototype.pipe.apply(this,arguments)};fn.prototype.pause=function(t){this._paused=!0,t=t||this,this.emit("pause",t),this._stream&&this._stream.pause(t)};fn.prototype.resume=function(t){this._paused=!1,t=t||this,this.emit("resume",t),this._stream&&this._stream.resume(t),this._read()};fn.prototype._read=function(){this.error("Cannot read unknown type: "+this.type)}});var lw=L((uY,qN)=>{qN.exports=cw;cw.sync=AN;var Ye=require("assert"),FN=require("path"),PN=require("fs"),sa=void 0;try{sa=Ll()}catch{}var LN=parseInt("666",8),_8={nosort:!0,silent:!0},aw=0,Yu=process.platform==="win32";function kN(t){var e=["unlink","chmod","stat","lstat","rmdir","readdir"];if(e.forEach(function(r){t[r]=t[r]||PN[r],r=r+"Sync",t[r]=t[r]||PN[r]}),t.maxBusyTries=t.maxBusyTries||3,t.emfileWait=t.emfileWait||1e3,t.glob===!1&&(t.disableGlob=!0),t.disableGlob!==!0&&sa===void 0)throw Error("glob dependency not found, set `options.disableGlob = true` if intentional");t.disableGlob=t.disableGlob||!1,t.glob=t.glob||_8}function cw(t,e,r){typeof e=="function"&&(r=e,e={}),Ye(t,"rimraf: missing path"),Ye.equal(typeof t,"string","rimraf: path should be a string"),Ye.equal(typeof r,"function","rimraf: callback function required"),Ye(e,"rimraf: invalid options argument provided"),Ye.equal(typeof e,"object","rimraf: options should be object"),kN(e);var n=0,i=null,s=0;if(e.disableGlob||!sa.hasMagic(t))return u(null,[t]);e.lstat(t,function(a,c){if(!a)return u(null,[t]);sa(t,e.glob,u)});function o(a){i=i||a,--s===0&&r(i)}function u(a,c){if(a)return r(a);if(s=c.length,s===0)return r();c.forEach(function(f){uw(f,e,function d(m){if(m){if((m.code==="EBUSY"||m.code==="ENOTEMPTY"||m.code==="EPERM")&&n<e.maxBusyTries){n++;var h=n*100;return setTimeout(function(){uw(f,e,d)},h)}if(m.code==="EMFILE"&&aw<e.emfileWait)return setTimeout(function(){uw(f,e,d)},aw++);m.code==="ENOENT"&&(m=null)}aw=0,o(m)})})}}function uw(t,e,r){Ye(t),Ye(e),Ye(typeof r=="function"),e.lstat(t,function(n,i){if(n&&n.code==="ENOENT")return r(null);if(n&&n.code==="EPERM"&&Yu&&IN(t,e,n,r),i&&i.isDirectory())return Ad(t,e,n,r);e.unlink(t,function(s){if(s){if(s.code==="ENOENT")return r(null);if(s.code==="EPERM")return Yu?IN(t,e,s,r):Ad(t,e,s,r);if(s.code==="EISDIR")return Ad(t,e,s,r)}return r(s)})})}function IN(t,e,r,n){Ye(t),Ye(e),Ye(typeof n=="function"),r&&Ye(r instanceof Error),e.chmod(t,LN,function(i){i?n(i.code==="ENOENT"?null:r):e.stat(t,function(s,o){s?n(s.code==="ENOENT"?null:r):o.isDirectory()?Ad(t,e,r,n):e.unlink(t,n)})})}function NN(t,e,r){Ye(t),Ye(e),r&&Ye(r instanceof Error);try{e.chmodSync(t,LN)}catch(i){if(i.code==="ENOENT")return;throw r}try{var n=e.statSync(t)}catch(i){if(i.code==="ENOENT")return;throw r}n.isDirectory()?qd(t,e,r):e.unlinkSync(t)}function Ad(t,e,r,n){Ye(t),Ye(e),r&&Ye(r instanceof Error),Ye(typeof n=="function"),e.rmdir(t,function(i){i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")?w8(t,e,n):i&&i.code==="ENOTDIR"?n(r):n(i)})}function w8(t,e,r){Ye(t),Ye(e),Ye(typeof r=="function"),e.readdir(t,function(n,i){if(n)return r(n);var s=i.length;if(s===0)return e.rmdir(t,r);var o;i.forEach(function(u){cw(FN.join(t,u),e,function(a){if(!o){if(a)return r(o=a);--s===0&&e.rmdir(t,r)}})})})}function AN(t,e){e=e||{},kN(e),Ye(t,"rimraf: missing path"),Ye.equal(typeof t,"string","rimraf: path should be a string"),Ye(e,"rimraf: missing options"),Ye.equal(typeof e,"object","rimraf: options should be object");var r;if(e.disableGlob||!sa.hasMagic(t))r=[t];else try{e.lstatSync(t),r=[t]}catch{r=sa.sync(t,e.glob)}if(r.length)for(var n=0;n<r.length;n++){var t=r[n];try{var i=e.lstatSync(t)}catch(o){if(o.code==="ENOENT")return;o.code==="EPERM"&&Yu&&NN(t,e,o)}try{i&&i.isDirectory()?qd(t,e,null):e.unlinkSync(t)}catch(o){if(o.code==="ENOENT")return;if(o.code==="EPERM")return Yu?NN(t,e,o):qd(t,e,o);if(o.code!=="EISDIR")throw o;qd(t,e,o)}}}function qd(t,e,r){Ye(t),Ye(e),r&&Ye(r instanceof Error);try{e.rmdirSync(t)}catch(n){if(n.code==="ENOENT")return;if(n.code==="ENOTDIR")throw r;(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")&&E8(t,e)}}function E8(t,e){Ye(t),Ye(e),e.readdirSync(t).forEach(function(o){AN(FN.join(t,o),e)});var r=Yu?100:1,n=0;do{var i=!0;try{var s=e.rmdirSync(t,e);return i=!1,s}finally{if(++n<r&&i)continue}}while(!0)}});var fw=L((cY,UN)=>{var Ju=require("path"),MN=require("fs"),jN=parseInt("0777",8);UN.exports=oa.mkdirp=oa.mkdirP=oa;function oa(t,e,r,n){typeof e=="function"?(r=e,e={}):(!e||typeof e!="object")&&(e={mode:e});var i=e.mode,s=e.fs||MN;i===void 0&&(i=jN),n||(n=null);var o=r||function(){};t=Ju.resolve(t),s.mkdir(t,i,function(u){if(!u)return n=n||t,o(null,n);switch(u.code){case"ENOENT":if(Ju.dirname(t)===t)return o(u);oa(Ju.dirname(t),e,function(a,c){a?o(a,c):oa(t,e,o,c)});break;default:s.stat(t,function(a,c){a||!c.isDirectory()?o(u,n):o(null,n)});break}})}oa.sync=function t(e,r,n){(!r||typeof r!="object")&&(r={mode:r});var i=r.mode,s=r.fs||MN;i===void 0&&(i=jN),n||(n=null),e=Ju.resolve(e);try{s.mkdirSync(e,i),n=n||e}catch(u){switch(u.code){case"ENOENT":n=t(Ju.dirname(e),r,n),t(e,r,n);break;default:var o;try{o=s.statSync(e)}catch{throw u}if(!o.isDirectory())throw u;break}}return n}});var Md=L((lY,BN)=>{BN.exports=dw;function dw(t){if(t._collected)return;if(t._paused)return t.on("resume",dw.bind(null,t));t._collected=!0,t.pause(),t.on("data",r),t.on("end",r);var e=[];function r(o){typeof o=="string"&&(o=new Buffer(o)),!(Buffer.isBuffer(o)&&!o.length)&&e.push(o)}t.on("entry",i);var n=[];function i(o){dw(o),n.push(o)}t.on("proxy",s);function s(o){o.pause()}t.pipe=function(o){return function(u){var a=0;(function f(){var d=n[a++];if(!d)return c();d.on("end",f),u?u.add(d):t.emit("entry",d)})();function c(){t.removeListener("entry",i),t.removeListener("data",r),t.removeListener("end",r),t.pipe=o,u&&t.pipe(u),e.forEach(function(f){f?t.emit("data",f):t.emit("end")}),t.resume()}return u}}(t.pipe)}});var hw=L((fY,WN)=>{WN.exports=Bi;var jd=aa(),b8=Mt(),C8=fw(),HN=require("path"),S8=Md();b8(Bi,jd);function Bi(t){var e=this;e instanceof Bi||e.error("DirWriter must be called as constructor.",null,!0),(t.type!=="Directory"||!t.Directory)&&e.error("Non-directory type "+t.type+" "+JSON.stringify(t),null,!0),jd.call(this,t)}Bi.prototype._create=function(){var t=this;C8(t._path,jd.dirmode,function(e){if(e)return t.error(e);t.ready=!0,t.emit("ready"),t._process()})};Bi.prototype.write=function(){return!0};Bi.prototype.end=function(){this._ended=!0,this._process()};Bi.prototype.add=function(t){var e=this;return S8(t),!e.ready||e._currentEntry?(e._buffer.push(t),!1):e._ended?e.error("add after end"):(e._buffer.push(t),e._process(),this._buffer.length===0)};Bi.prototype._process=function(){var t=this;if(t._processing)return;var e=t._buffer.shift();if(!e){t.emit("drain"),t._ended&&t._finish();return}t._processing=!0,t.emit("entry",e);var r=e,n;do{if(n=r._path||r.path,n===t.root._path||n===t._path||n&&n.indexOf(t._path)===0)return t._processing=!1,e._collected&&e.pipe(),t._process();r=r.parent}while(r);var i={parent:t,root:t.root||t,type:e.type,depth:t.depth+1};n=e._path||e.path||e.props.path,e.parent&&(n=n.substr(e.parent._path.length+1)),i.path=HN.join(t.path,HN.join("/",n)),i.filter=t.filter,Object.keys(e.props).forEach(function(a){i.hasOwnProperty(a)||(i[a]=e.props[a])});var s=t._currentChild=new jd(i);s.on("ready",function(){e.pipe(s),e.resume()}),s.on("error",function(a){s._swallowErrors?(t.warn(a),s.emit("end"),s.emit("close")):t.emit("error",a)}),s.on("close",u);var o=!1;function u(){o||(o=!0,t._currentChild=null,t._processing=!1,t._process())}}});var pw=L((dY,KN)=>{KN.exports=Zu;var zN=Tn(),GN=aa(),T8=Mt(),R8=require("path"),D8=lw();T8(Zu,GN);function Zu(t){var e=this;if(!(e instanceof Zu))throw new Error("LinkWriter must be called as constructor.");if(!(t.type==="Link"&&t.Link||t.type==="SymbolicLink"&&t.SymbolicLink))throw new Error("Non-link type "+t.type);t.linkpath===""&&(t.linkpath="."),t.linkpath||e.error("Need linkpath property to create "+t.type),GN.call(this,t)}Zu.prototype._create=function(){var t=this,e=t.type==="Link"||process.platform==="win32",r=e?"link":"symlink",n=e?R8.resolve(t.dirname,t.linkpath):t.linkpath;if(e)return $N(t,n,r);zN.readlink(t._path,function(i,s){if(s&&s===n)return VN(t);$N(t,n,r)})};function $N(t,e,r){D8(t._path,function(n){if(n)return t.error(n);O8(t,e,r)})}function O8(t,e,r){zN[r](e,t._path,function(n){if(n)if((n.code==="ENOENT"||n.code==="EACCES"||n.code==="EPERM")&&process.platform==="win32")t.ready=!0,t.emit("ready"),t.emit("end"),t.emit("close"),t.end=t._finish=function(){};else return t.error(n);VN(t)})}function VN(t){t.ready=!0,t.emit("ready"),t._ended&&!t._finished&&t._finish()}Zu.prototype.end=function(){this._ended=!0,this.ready&&(this._finished=!0,this._finish())}});var mw=L((hY,YN)=>{YN.exports=Ws;var x8=Tn(),Ud=aa(),P8=Mt(),XN={};P8(Ws,Ud);function Ws(t){var e=this;if(!(e instanceof Ws))throw new Error("FileWriter must be called as constructor.");if(t.type!=="File"||!t.File)throw new Error("Non-file type "+t.type);e._buffer=[],e._bytesWritten=0,Ud.call(this,t)}Ws.prototype._create=function(){var t=this;if(!t._stream){var e={};t.props.flags&&(e.flags=t.props.flags),e.mode=Ud.filemode,t._old&&t._old.blksize&&(e.bufferSize=t._old.blksize),t._stream=x8.createWriteStream(t._path,e),t._stream.on("open",function(){t.ready=!0,t._buffer.forEach(function(r){r===XN?t._stream.end():t._stream.write(r)}),t.emit("ready"),t.emit("drain")}),t._stream.on("error",function(r){t.emit("error",r)}),t._stream.on("drain",function(){t.emit("drain")}),t._stream.on("close",function(){t._finish()})}};Ws.prototype.write=function(t){var e=this;if(e._bytesWritten+=t.length,!e.ready){if(!Buffer.isBuffer(t)&&typeof t!="string")throw new Error("invalid write data");return e._buffer.push(t),!1}var r=e._stream.write(t);return r===!1&&e._stream._queue?e._stream._queue.length<=2:r};Ws.prototype.end=function(t){var e=this;return t&&e.write(t),e.ready?e._stream.end():(e._buffer.push(XN),!1)};Ws.prototype._finish=function(){var t=this;typeof t.size=="number"&&t._bytesWritten!==t.size&&t.error(`Did not get expected byte count.
expect: `+t.size+`
actual: `+t._bytesWritten),Ud.prototype._finish.call(t)}});var vw=L((pY,JN)=>{JN.exports=Hi;var gw=aa(),I8=Vu(),N8=Mt(),F8=Md(),L8=require("fs");N8(Hi,gw);function Hi(t){var e=this;if(!(e instanceof Hi))throw new Error("ProxyWriter must be called as constructor.");e.props=t,e._needDrain=!1,gw.call(e,t)}Hi.prototype._stat=function(){var t=this,e=t.props,r=e.follow?"stat":"lstat";L8[r](e.path,function(n,i){var s;n||!i?s="File":s=I8(i),e[s]=!0,e.type=t.type=s,t._old=i,t._addProxy(gw(e,i))})};Hi.prototype._addProxy=function(t){var e=this;if(e._proxy)return e.error("proxy already set");e._proxy=t,["ready","error","close","pipe","drain","warn"].forEach(function(n){t.on(n,e.emit.bind(e,n))}),e.emit("proxy",t);var r=e._buffer;r.forEach(function(n){t[n[0]].apply(t,n[1])}),e._buffer.length=0,e._needsDrain&&e.emit("drain")};Hi.prototype.add=function(t){return F8(t),this._proxy?this._proxy.add(t):(this._buffer.push(["add",[t]]),this._needDrain=!0,!1)};Hi.prototype.write=function(t){return this._proxy?this._proxy.write(t):(this._buffer.push(["write",[t]]),this._needDrain=!0,!1)};Hi.prototype.end=function(t){return this._proxy?this._proxy.end(t):(this._buffer.push(["end",[t]]),!1)}});var aa=L((mY,oF)=>{oF.exports=Xr;var Kr=Tn(),k8=Mt(),A8=lw(),q8=fw(),Qu=require("path"),QN=process.platform==="win32"?0:process.umask(),eF=Vu(),tF=xd();k8(Xr,tF);Xr.dirmode=parseInt("0777",8)&~QN;Xr.filemode=parseInt("0666",8)&~QN;var M8=hw(),j8=pw(),U8=mw(),B8=vw();function Xr(t,e){var r=this;typeof t=="string"&&(t={path:t});var n=eF(t),i=Xr;switch(n){case"Directory":i=M8;break;case"File":i=U8;break;case"Link":case"SymbolicLink":i=j8;break;case null:default:i=B8;break}if(!(r instanceof i))return new i(t);tF.call(r),t.path||r.error("Must provide a path",null,!0),r.type=t.type,r.props=t,r.depth=t.depth||0,r.clobber=t.clobber===!1?t.clobber:!0,r.parent=t.parent||null,r.root=t.root||t.parent&&t.parent.root||r,r._path=r.path=Qu.resolve(t.path),process.platform==="win32"&&(r.path=r._path=r.path.replace(/\?/g,"_"),r._path.length>=260&&(r._swallowErrors=!0,r._path="\\\\?\\"+r.path.replace(/\//g,"\\"))),r.basename=Qu.basename(t.path),r.dirname=Qu.dirname(t.path),r.linkpath=t.linkpath||null,t.parent=t.root=null,r.size=t.size,typeof t.mode=="string"&&(t.mode=parseInt(t.mode,8)),r.readable=!1,r.writable=!0,r._buffer=[],r.ready=!1,r.filter=typeof t.filter=="function"?t.filter:null,r._stat(e)}Xr.prototype._create=function(){var t=this;Kr[t.props.follow?"stat":"lstat"](t._path,function(e){if(e)return t.warn("Cannot create "+t._path+`
Unsupported type: `+t.type,"ENOTSUP");t._finish()})};Xr.prototype._stat=function(t){var e=this,r=e.props,n=r.follow?"stat":"lstat",i=e._proxy||e;t?s(null,t):Kr[n](e._path,s);function s(o,u){if(e.filter&&!e.filter.call(i,i,u)){e._aborted=!0,e.emit("end"),e.emit("close");return}if(o||!u)return yw(e);e._old=u;var a=eF(u);if(a!==e.type||e.type==="File"&&u.nlink>1)return A8(e._path,function(c){if(c)return e.error(c);e._old=null,yw(e)});yw(e)}};function yw(t){q8(Qu.dirname(t._path),Xr.dirmode,function(e,r){return e?t.error(e):(t._madeDir=r,t._create())})}function rF(t,e,r,n,i){var s=e.mode,o=e.follow||t.type!=="SymbolicLink"?"chmod":"lchmod";if(!Kr[o]||typeof s!="number")return i();var u=r.mode&parseInt("0777",8);if(s=s&parseInt("0777",8),s===u)return i();Kr[o](n,s,i)}function nF(t,e,r,n,i){if(process.platform==="win32"||!process.getuid||process.getuid()!==0||typeof e.uid!="number"&&typeof e.gid!="number"||r.uid===e.uid&&r.gid===e.gid)return i();var s=t.props.follow||t.type!=="SymbolicLink"?"chown":"lchown";if(!Kr[s])return i();typeof e.uid!="number"&&(e.uid=r.uid),typeof e.gid!="number"&&(e.gid=r.gid),Kr[s](n,e.uid,e.gid,i)}function iF(t,e,r,n,i){if(!Kr.utimes||process.platform==="win32")return i();var s=e.follow||t.type!=="SymbolicLink"?"utimes":"lutimes";if(s==="lutimes"&&!Kr[s]&&(s="utimes"),!Kr[s])return i();var o=r.atime,u=r.mtime,a=e.atime,c=e.mtime;if(a===void 0&&(a=o),c===void 0&&(c=u),ZN(a)||(a=new Date(a)),ZN(c)||(a=new Date(c)),a.getTime()===o.getTime()&&c.getTime()===u.getTime())return i();Kr[s](n,a,c,i)}Xr.prototype._finish=function(){var t=this;if(t._finishing)return;t._finishing=!0;var e=0,r=null,n=!1;if(t._old)t._old.atime=new Date(0),t._old.mtime=new Date(0),s(t._old);else{var i=t.props.follow?"stat":"lstat";Kr[i](t._path,function(u,a){if(u)if(u.code==="ENOENT"&&(t.type==="Link"||t.type==="SymbolicLink")&&process.platform==="win32"){t.ready=!0,t.emit("ready"),t.emit("end"),t.emit("close"),t.end=t._finish=function(){};return}else return t.error(u);s(t._old=a)})}return;function s(u){e+=3,rF(t,t.props,u,t._path,o("chmod")),nF(t,t.props,u,t._path,o("chown")),iF(t,t.props,u,t._path,o("utimes"))}function o(u){return function(a){if(r)return;if(a)return a.fstream_finish_call=u,t.error(r=a);if(--e>0||n)return;if(n=!0,t._madeDir)sF(t,t._path,c);else return c();function c(f){if(f)return f.fstream_finish_call="setupMadeDir",t.error(f);t.emit("end"),t.emit("close")}}}};function sF(t,e,r){var n=t._madeDir,i=Qu.dirname(e);H8(t,i,function(s){if(s)return r(s);if(i===n)return r();sF(t,i,r)})}function H8(t,e,r){var n={};Object.keys(t.props).forEach(function(u){n[u]=t.props[u],u==="mode"&&t.type!=="Directory"&&(n[u]=n[u]|parseInt("0111",8))});var i=3,s=null;Kr.stat(e,function(u,a){if(u)return r(s=u);rF(t,n,a,e,o),nF(t,n,a,e,o),iF(t,n,a,e,o)});function o(u){if(!s){if(u)return r(s=u);if(--i===0)return r()}}}Xr.prototype.pipe=function(){this.error("Can't pipe from writable stream")};Xr.prototype.add=function(){this.error("Can't add to non-Directory type")};Xr.prototype.write=function(){return!0};function W8(t){return Object.prototype.toString.call(t)}function ZN(t){return typeof t=="object"&&W8(t)==="[object Date]"}});var _w=L(He=>{He.Abstract=xd();He.Reader=Us();He.Writer=aa();He.File={Reader:rw(),Writer:mw()};He.Dir={Reader:tw(),Writer:hw()};He.Link={Reader:Q_(),Writer:pw()};He.Proxy={Reader:iw(),Writer:vw()};He.Reader.Dir=He.DirReader=He.Dir.Reader;He.Reader.File=He.FileReader=He.File.Reader;He.Reader.Link=He.LinkReader=He.Link.Reader;He.Reader.Proxy=He.ProxyReader=He.Proxy.Reader;He.Writer.Dir=He.DirWriter=He.Dir.Writer;He.Writer.File=He.FileWriter=He.File.Writer;He.Writer.Link=He.LinkWriter=He.Link.Writer;He.Writer.Proxy=He.ProxyWriter=He.Proxy.Writer;He.collect=Md()});var uF=L((vY,aF)=>{aF.exports=X8;var $8=Od(),z8=_w().Writer,ww=require("path"),G8=require("stream"),V8=G_(),K8=qi();function X8(t){t.path=ww.resolve(ww.normalize(t.path));var e=new $8(t),r=new G8.Writable({objectMode:!0});r._write=function(i,s,o){if(i.type=="Directory")return o();var u=ww.join(t.path,i.path);if(u.indexOf(t.path)!=0)return o();let a=t.getWriter?t.getWriter({path:u}):z8({path:u});i.pipe(a).on("error",o).on("close",o)};var n=V8(e,r);return e.once("crx-header",function(i){n.crxHeader=i}),e.pipe(r).on("finish",function(){n.emit("close")}),n.promise=function(){return new K8(function(i,s){n.on("close",i),n.on("error",s)})},n}});var cF=L((yY,Bd)=>{var Bt=function(t){"use strict";var e=1e7,r=7,n=9007199254740992,i=m(n),s="0123456789abcdefghijklmnopqrstuvwxyz",o=typeof BigInt=="function";function u(v,R,E,C){return typeof v>"u"?u[0]:typeof R<"u"?+R==10&&!E?X(v):Rt(v,R,E,C):X(v)}function a(v,R){this.value=v,this.sign=R,this.isSmall=!1}a.prototype=Object.create(u.prototype);function c(v){this.value=v,this.sign=v<0,this.isSmall=!0}c.prototype=Object.create(u.prototype);function f(v){this.value=v}f.prototype=Object.create(u.prototype);function d(v){return-n<v&&v<n}function m(v){return v<1e7?[v]:v<1e14?[v%1e7,Math.floor(v/1e7)]:[v%1e7,Math.floor(v/1e7)%1e7,Math.floor(v/1e14)]}function h(v){y(v);var R=v.length;if(R<4&&Y(v,i)<0)switch(R){case 0:return 0;case 1:return v[0];case 2:return v[0]+v[1]*e;default:return v[0]+(v[1]+v[2]*e)*e}return v}function y(v){for(var R=v.length;v[--R]===0;);v.length=R+1}function _(v){for(var R=new Array(v),E=-1;++E<v;)R[E]=0;return R}function S(v){return v>0?Math.floor(v):Math.ceil(v)}function D(v,R){var E=v.length,C=R.length,b=new Array(E),O=0,N=e,p,g;for(g=0;g<C;g++)p=v[g]+R[g]+O,O=p>=N?1:0,b[g]=p-O*N;for(;g<E;)p=v[g]+O,O=p===N?1:0,b[g++]=p-O*N;return O>0&&b.push(O),b}function w(v,R){return v.length>=R.length?D(v,R):D(R,v)}function T(v,R){var E=v.length,C=new Array(E),b=e,O,N;for(N=0;N<E;N++)O=v[N]-b+R,R=Math.floor(O/b),C[N]=O-R*b,R+=1;for(;R>0;)C[N++]=R%b,R=Math.floor(R/b);return C}a.prototype.add=function(v){var R=X(v);if(this.sign!==R.sign)return this.subtract(R.negate());var E=this.value,C=R.value;return R.isSmall?new a(T(E,Math.abs(C)),this.sign):new a(w(E,C),this.sign)},a.prototype.plus=a.prototype.add,c.prototype.add=function(v){var R=X(v),E=this.value;if(E<0!==R.sign)return this.subtract(R.negate());var C=R.value;if(R.isSmall){if(d(E+C))return new c(E+C);C=m(Math.abs(C))}return new a(T(C,Math.abs(E)),E<0)},c.prototype.plus=c.prototype.add,f.prototype.add=function(v){return new f(this.value+X(v).value)},f.prototype.plus=f.prototype.add;function P(v,R){var E=v.length,C=R.length,b=new Array(E),O=0,N=e,p,g;for(p=0;p<C;p++)g=v[p]-O-R[p],g<0?(g+=N,O=1):O=0,b[p]=g;for(p=C;p<E;p++){if(g=v[p]-O,g<0)g+=N;else{b[p++]=g;break}b[p]=g}for(;p<E;p++)b[p]=v[p];return y(b),b}function M(v,R,E){var C;return Y(v,R)>=0?C=P(v,R):(C=P(R,v),E=!E),C=h(C),typeof C=="number"?(E&&(C=-C),new c(C)):new a(C,E)}function U(v,R,E){var C=v.length,b=new Array(C),O=-R,N=e,p,g;for(p=0;p<C;p++)g=v[p]+O,O=Math.floor(g/N),g%=N,b[p]=g<0?g+N:g;return b=h(b),typeof b=="number"?(E&&(b=-b),new c(b)):new a(b,E)}a.prototype.subtract=function(v){var R=X(v);if(this.sign!==R.sign)return this.add(R.negate());var E=this.value,C=R.value;return R.isSmall?U(E,Math.abs(C),this.sign):M(E,C,this.sign)},a.prototype.minus=a.prototype.subtract,c.prototype.subtract=function(v){var R=X(v),E=this.value;if(E<0!==R.sign)return this.add(R.negate());var C=R.value;return R.isSmall?new c(E-C):U(C,Math.abs(E),E>=0)},c.prototype.minus=c.prototype.subtract,f.prototype.subtract=function(v){return new f(this.value-X(v).value)},f.prototype.minus=f.prototype.subtract,a.prototype.negate=function(){return new a(this.value,!this.sign)},c.prototype.negate=function(){var v=this.sign,R=new c(-this.value);return R.sign=!v,R},f.prototype.negate=function(){return new f(-this.value)},a.prototype.abs=function(){return new a(this.value,!1)},c.prototype.abs=function(){return new c(Math.abs(this.value))},f.prototype.abs=function(){return new f(this.value>=0?this.value:-this.value)};function $(v,R){var E=v.length,C=R.length,b=E+C,O=_(b),N=e,p,g,A,W,ee;for(A=0;A<E;++A){W=v[A];for(var ce=0;ce<C;++ce)ee=R[ce],p=W*ee+O[A+ce],g=Math.floor(p/N),O[A+ce]=p-g*N,O[A+ce+1]+=g}return y(O),O}function k(v,R){var E=v.length,C=new Array(E),b=e,O=0,N,p;for(p=0;p<E;p++)N=v[p]*R+O,O=Math.floor(N/b),C[p]=N-O*b;for(;O>0;)C[p++]=O%b,O=Math.floor(O/b);return C}function K(v,R){for(var E=[];R-- >0;)E.push(0);return E.concat(v)}function ie(v,R){var E=Math.max(v.length,R.length);if(E<=30)return $(v,R);E=Math.ceil(E/2);var C=v.slice(E),b=v.slice(0,E),O=R.slice(E),N=R.slice(0,E),p=ie(b,N),g=ie(C,O),A=ie(w(b,C),w(N,O)),W=w(w(p,K(P(P(A,p),g),E)),K(g,2*E));return y(W),W}function ne(v,R){return-.012*v-.012*R+15e-6*v*R>0}a.prototype.multiply=function(v){var R=X(v),E=this.value,C=R.value,b=this.sign!==R.sign,O;if(R.isSmall){if(C===0)return u[0];if(C===1)return this;if(C===-1)return this.negate();if(O=Math.abs(C),O<e)return new a(k(E,O),b);C=m(O)}return ne(E.length,C.length)?new a(ie(E,C),b):new a($(E,C),b)},a.prototype.times=a.prototype.multiply;function G(v,R,E){return v<e?new a(k(R,v),E):new a($(R,m(v)),E)}c.prototype._multiplyBySmall=function(v){return d(v.value*this.value)?new c(v.value*this.value):G(Math.abs(v.value),m(Math.abs(this.value)),this.sign!==v.sign)},a.prototype._multiplyBySmall=function(v){return v.value===0?u[0]:v.value===1?this:v.value===-1?this.negate():G(Math.abs(v.value),this.value,this.sign!==v.sign)},c.prototype.multiply=function(v){return X(v)._multiplyBySmall(this)},c.prototype.times=c.prototype.multiply,f.prototype.multiply=function(v){return new f(this.value*X(v).value)},f.prototype.times=f.prototype.multiply;function te(v){var R=v.length,E=_(R+R),C=e,b,O,N,p,g;for(N=0;N<R;N++){p=v[N],O=0-p*p;for(var A=N;A<R;A++)g=v[A],b=2*(p*g)+E[N+A]+O,O=Math.floor(b/C),E[N+A]=b-O*C;E[N+R]=O}return y(E),E}a.prototype.square=function(){return new a(te(this.value),!1)},c.prototype.square=function(){var v=this.value*this.value;return d(v)?new c(v):new a(te(m(Math.abs(this.value))),!1)},f.prototype.square=function(v){return new f(this.value*this.value)};function se(v,R){var E=v.length,C=R.length,b=e,O=_(R.length),N=R[C-1],p=Math.ceil(b/(2*N)),g=k(v,p),A=k(R,p),W,ee,ce,Ee,Oe,pt,mt;for(g.length<=E&&g.push(0),A.push(0),N=A[C-1],ee=E-C;ee>=0;ee--){for(W=b-1,g[ee+C]!==N&&(W=Math.floor((g[ee+C]*b+g[ee+C-1])/N)),ce=0,Ee=0,pt=A.length,Oe=0;Oe<pt;Oe++)ce+=W*A[Oe],mt=Math.floor(ce/b),Ee+=g[ee+Oe]-(ce-mt*b),ce=mt,Ee<0?(g[ee+Oe]=Ee+b,Ee=-1):(g[ee+Oe]=Ee,Ee=0);for(;Ee!==0;){for(W-=1,ce=0,Oe=0;Oe<pt;Oe++)ce+=g[ee+Oe]-b+A[Oe],ce<0?(g[ee+Oe]=ce+b,ce=0):(g[ee+Oe]=ce,ce=1);Ee+=ce}O[ee]=W}return g=q(g,p)[0],[h(O),h(g)]}function le(v,R){for(var E=v.length,C=R.length,b=[],O=[],N=e,p,g,A,W,ee;E;){if(O.unshift(v[--E]),y(O),Y(O,R)<0){b.push(0);continue}g=O.length,A=O[g-1]*N+O[g-2],W=R[C-1]*N+R[C-2],g>C&&(A=(A+1)*N),p=Math.ceil(A/W);do{if(ee=k(R,p),Y(ee,O)<=0)break;p--}while(p);b.push(p),O=P(O,ee)}return b.reverse(),[h(b),h(O)]}function q(v,R){var E=v.length,C=_(E),b=e,O,N,p,g;for(p=0,O=E-1;O>=0;--O)g=p*b+v[O],N=S(g/R),p=g-N*R,C[O]=N|0;return[C,p|0]}function z(v,R){var E,C=X(R);if(o)return[new f(v.value/C.value),new f(v.value%C.value)];var b=v.value,O=C.value,N;if(O===0)throw new Error("Cannot divide by zero");if(v.isSmall)return C.isSmall?[new c(S(b/O)),new c(b%O)]:[u[0],v];if(C.isSmall){if(O===1)return[v,u[0]];if(O==-1)return[v.negate(),u[0]];var p=Math.abs(O);if(p<e){E=q(b,p),N=h(E[0]);var g=E[1];return v.sign&&(g=-g),typeof N=="number"?(v.sign!==C.sign&&(N=-N),[new c(N),new c(g)]):[new a(N,v.sign!==C.sign),new c(g)]}O=m(p)}var A=Y(b,O);if(A===-1)return[u[0],v];if(A===0)return[u[v.sign===C.sign?1:-1],u[0]];b.length+O.length<=200?E=se(b,O):E=le(b,O),N=E[0];var W=v.sign!==C.sign,ee=E[1],ce=v.sign;return typeof N=="number"?(W&&(N=-N),N=new c(N)):N=new a(N,W),typeof ee=="number"?(ce&&(ee=-ee),ee=new c(ee)):ee=new a(ee,ce),[N,ee]}a.prototype.divmod=function(v){var R=z(this,v);return{quotient:R[0],remainder:R[1]}},f.prototype.divmod=c.prototype.divmod=a.prototype.divmod,a.prototype.divide=function(v){return z(this,v)[0]},f.prototype.over=f.prototype.divide=function(v){return new f(this.value/X(v).value)},c.prototype.over=c.prototype.divide=a.prototype.over=a.prototype.divide,a.prototype.mod=function(v){return z(this,v)[1]},f.prototype.mod=f.prototype.remainder=function(v){return new f(this.value%X(v).value)},c.prototype.remainder=c.prototype.mod=a.prototype.remainder=a.prototype.mod,a.prototype.pow=function(v){var R=X(v),E=this.value,C=R.value,b,O,N;if(C===0)return u[1];if(E===0)return u[0];if(E===1)return u[1];if(E===-1)return R.isEven()?u[1]:u[-1];if(R.sign)return u[0];if(!R.isSmall)throw new Error("The exponent "+R.toString()+" is too large.");if(this.isSmall&&d(b=Math.pow(E,C)))return new c(S(b));for(O=this,N=u[1];C&!0&&(N=N.times(O),--C),C!==0;)C/=2,O=O.square();return N},c.prototype.pow=a.prototype.pow,f.prototype.pow=function(v){var R=X(v),E=this.value,C=R.value,b=BigInt(0),O=BigInt(1),N=BigInt(2);if(C===b)return u[1];if(E===b)return u[0];if(E===O)return u[1];if(E===BigInt(-1))return R.isEven()?u[1]:u[-1];if(R.isNegative())return new f(b);for(var p=this,g=u[1];(C&O)===O&&(g=g.times(p),--C),C!==b;)C/=N,p=p.square();return g},a.prototype.modPow=function(v,R){if(v=X(v),R=X(R),R.isZero())throw new Error("Cannot take modPow with modulus 0");var E=u[1],C=this.mod(R);for(v.isNegative()&&(v=v.multiply(u[-1]),C=C.modInv(R));v.isPositive();){if(C.isZero())return u[0];v.isOdd()&&(E=E.multiply(C).mod(R)),v=v.divide(2),C=C.square().mod(R)}return E},f.prototype.modPow=c.prototype.modPow=a.prototype.modPow;function Y(v,R){if(v.length!==R.length)return v.length>R.length?1:-1;for(var E=v.length-1;E>=0;E--)if(v[E]!==R[E])return v[E]>R[E]?1:-1;return 0}a.prototype.compareAbs=function(v){var R=X(v),E=this.value,C=R.value;return R.isSmall?1:Y(E,C)},c.prototype.compareAbs=function(v){var R=X(v),E=Math.abs(this.value),C=R.value;return R.isSmall?(C=Math.abs(C),E===C?0:E>C?1:-1):-1},f.prototype.compareAbs=function(v){var R=this.value,E=X(v).value;return R=R>=0?R:-R,E=E>=0?E:-E,R===E?0:R>E?1:-1},a.prototype.compare=function(v){if(v===1/0)return-1;if(v===-1/0)return 1;var R=X(v),E=this.value,C=R.value;return this.sign!==R.sign?R.sign?1:-1:R.isSmall?this.sign?-1:1:Y(E,C)*(this.sign?-1:1)},a.prototype.compareTo=a.prototype.compare,c.prototype.compare=function(v){if(v===1/0)return-1;if(v===-1/0)return 1;var R=X(v),E=this.value,C=R.value;return R.isSmall?E==C?0:E>C?1:-1:E<0!==R.sign?E<0?-1:1:E<0?1:-1},c.prototype.compareTo=c.prototype.compare,f.prototype.compare=function(v){if(v===1/0)return-1;if(v===-1/0)return 1;var R=this.value,E=X(v).value;return R===E?0:R>E?1:-1},f.prototype.compareTo=f.prototype.compare,a.prototype.equals=function(v){return this.compare(v)===0},f.prototype.eq=f.prototype.equals=c.prototype.eq=c.prototype.equals=a.prototype.eq=a.prototype.equals,a.prototype.notEquals=function(v){return this.compare(v)!==0},f.prototype.neq=f.prototype.notEquals=c.prototype.neq=c.prototype.notEquals=a.prototype.neq=a.prototype.notEquals,a.prototype.greater=function(v){return this.compare(v)>0},f.prototype.gt=f.prototype.greater=c.prototype.gt=c.prototype.greater=a.prototype.gt=a.prototype.greater,a.prototype.lesser=function(v){return this.compare(v)<0},f.prototype.lt=f.prototype.lesser=c.prototype.lt=c.prototype.lesser=a.prototype.lt=a.prototype.lesser,a.prototype.greaterOrEquals=function(v){return this.compare(v)>=0},f.prototype.geq=f.prototype.greaterOrEquals=c.prototype.geq=c.prototype.greaterOrEquals=a.prototype.geq=a.prototype.greaterOrEquals,a.prototype.lesserOrEquals=function(v){return this.compare(v)<=0},f.prototype.leq=f.prototype.lesserOrEquals=c.prototype.leq=c.prototype.lesserOrEquals=a.prototype.leq=a.prototype.lesserOrEquals,a.prototype.isEven=function(){return(this.value[0]&1)===0},c.prototype.isEven=function(){return(this.value&1)===0},f.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},a.prototype.isOdd=function(){return(this.value[0]&1)===1},c.prototype.isOdd=function(){return(this.value&1)===1},f.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},a.prototype.isPositive=function(){return!this.sign},c.prototype.isPositive=function(){return this.value>0},f.prototype.isPositive=c.prototype.isPositive,a.prototype.isNegative=function(){return this.sign},c.prototype.isNegative=function(){return this.value<0},f.prototype.isNegative=c.prototype.isNegative,a.prototype.isUnit=function(){return!1},c.prototype.isUnit=function(){return Math.abs(this.value)===1},f.prototype.isUnit=function(){return this.abs().value===BigInt(1)},a.prototype.isZero=function(){return!1},c.prototype.isZero=function(){return this.value===0},f.prototype.isZero=function(){return this.value===BigInt(0)},a.prototype.isDivisibleBy=function(v){var R=X(v);return R.isZero()?!1:R.isUnit()?!0:R.compareAbs(2)===0?this.isEven():this.mod(R).isZero()},f.prototype.isDivisibleBy=c.prototype.isDivisibleBy=a.prototype.isDivisibleBy;function J(v){var R=v.abs();if(R.isUnit())return!1;if(R.equals(2)||R.equals(3)||R.equals(5))return!0;if(R.isEven()||R.isDivisibleBy(3)||R.isDivisibleBy(5))return!1;if(R.lesser(49))return!0}function oe(v,R){for(var E=v.prev(),C=E,b=0,O,N,p,g;C.isEven();)C=C.divide(2),b++;e:for(p=0;p<R.length;p++)if(!v.lesser(R[p])&&(g=Bt(R[p]).modPow(C,v),!(g.isUnit()||g.equals(E)))){for(O=b-1;O!=0;O--){if(g=g.square().mod(v),g.isUnit())return!1;if(g.equals(E))continue e}return!1}return!0}a.prototype.isPrime=function(v){var R=J(this);if(R!==t)return R;var E=this.abs(),C=E.bitLength();if(C<=64)return oe(E,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var b=Math.log(2)*C.toJSNumber(),O=Math.ceil(v===!0?2*Math.pow(b,2):b),N=[],p=0;p<O;p++)N.push(Bt(p+2));return oe(E,N)},f.prototype.isPrime=c.prototype.isPrime=a.prototype.isPrime,a.prototype.isProbablePrime=function(v,R){var E=J(this);if(E!==t)return E;for(var C=this.abs(),b=v===t?5:v,O=[],N=0;N<b;N++)O.push(Bt.randBetween(2,C.minus(2),R));return oe(C,O)},f.prototype.isProbablePrime=c.prototype.isProbablePrime=a.prototype.isProbablePrime,a.prototype.modInv=function(v){for(var R=Bt.zero,E=Bt.one,C=X(v),b=this.abs(),O,N,p;!b.isZero();)O=C.divide(b),N=R,p=C,R=E,C=b,E=N.subtract(O.multiply(E)),b=p.subtract(O.multiply(b));if(!C.isUnit())throw new Error(this.toString()+" and "+v.toString()+" are not co-prime");return R.compare(0)===-1&&(R=R.add(v)),this.isNegative()?R.negate():R},f.prototype.modInv=c.prototype.modInv=a.prototype.modInv,a.prototype.next=function(){var v=this.value;return this.sign?U(v,1,this.sign):new a(T(v,1),this.sign)},c.prototype.next=function(){var v=this.value;return v+1<n?new c(v+1):new a(i,!1)},f.prototype.next=function(){return new f(this.value+BigInt(1))},a.prototype.prev=function(){var v=this.value;return this.sign?new a(T(v,1),!0):U(v,1,this.sign)},c.prototype.prev=function(){var v=this.value;return v-1>-n?new c(v-1):new a(i,!0)},f.prototype.prev=function(){return new f(this.value-BigInt(1))};for(var ue=[1];2*ue[ue.length-1]<=e;)ue.push(2*ue[ue.length-1]);var we=ue.length,_e=ue[we-1];function Re(v){return Math.abs(v)<=e}a.prototype.shiftLeft=function(v){var R=X(v).toJSNumber();if(!Re(R))throw new Error(String(R)+" is too large for shifting.");if(R<0)return this.shiftRight(-R);var E=this;if(E.isZero())return E;for(;R>=we;)E=E.multiply(_e),R-=we-1;return E.multiply(ue[R])},f.prototype.shiftLeft=c.prototype.shiftLeft=a.prototype.shiftLeft,a.prototype.shiftRight=function(v){var R,E=X(v).toJSNumber();if(!Re(E))throw new Error(String(E)+" is too large for shifting.");if(E<0)return this.shiftLeft(-E);for(var C=this;E>=we;){if(C.isZero()||C.isNegative()&&C.isUnit())return C;R=z(C,_e),C=R[1].isNegative()?R[0].prev():R[0],E-=we-1}return R=z(C,ue[E]),R[1].isNegative()?R[0].prev():R[0]},f.prototype.shiftRight=c.prototype.shiftRight=a.prototype.shiftRight;function Ue(v,R,E){R=X(R);for(var C=v.isNegative(),b=R.isNegative(),O=C?v.not():v,N=b?R.not():R,p=0,g=0,A=null,W=null,ee=[];!O.isZero()||!N.isZero();)A=z(O,_e),p=A[1].toJSNumber(),C&&(p=_e-1-p),W=z(N,_e),g=W[1].toJSNumber(),b&&(g=_e-1-g),O=A[0],N=W[0],ee.push(E(p,g));for(var ce=E(C?1:0,b?1:0)!==0?Bt(-1):Bt(0),Ee=ee.length-1;Ee>=0;Ee-=1)ce=ce.multiply(_e).add(Bt(ee[Ee]));return ce}a.prototype.not=function(){return this.negate().prev()},f.prototype.not=c.prototype.not=a.prototype.not,a.prototype.and=function(v){return Ue(this,v,function(R,E){return R&E})},f.prototype.and=c.prototype.and=a.prototype.and,a.prototype.or=function(v){return Ue(this,v,function(R,E){return R|E})},f.prototype.or=c.prototype.or=a.prototype.or,a.prototype.xor=function(v){return Ue(this,v,function(R,E){return R^E})},f.prototype.xor=c.prototype.xor=a.prototype.xor;var F=1<<30,I=(e&-e)*(e&-e)|F;function Q(v){var R=v.value,E=typeof R=="number"?R|F:typeof R=="bigint"?R|BigInt(F):R[0]+R[1]*e|I;return E&-E}function V(v,R){if(R.compareTo(v)<=0){var E=V(v,R.square(R)),C=E.p,b=E.e,O=C.multiply(R);return O.compareTo(v)<=0?{p:O,e:b*2+1}:{p:C,e:b*2}}return{p:Bt(1),e:0}}a.prototype.bitLength=function(){var v=this;return v.compareTo(Bt(0))<0&&(v=v.negate().subtract(Bt(1))),v.compareTo(Bt(0))===0?Bt(0):Bt(V(v,Bt(2)).e).add(Bt(1))},f.prototype.bitLength=c.prototype.bitLength=a.prototype.bitLength;function Se(v,R){return v=X(v),R=X(R),v.greater(R)?v:R}function ke(v,R){return v=X(v),R=X(R),v.lesser(R)?v:R}function Fe(v,R){if(v=X(v).abs(),R=X(R).abs(),v.equals(R))return v;if(v.isZero())return R;if(R.isZero())return v;for(var E=u[1],C,b;v.isEven()&&R.isEven();)C=ke(Q(v),Q(R)),v=v.divide(C),R=R.divide(C),E=E.multiply(C);for(;v.isEven();)v=v.divide(Q(v));do{for(;R.isEven();)R=R.divide(Q(R));v.greater(R)&&(b=R,R=v,v=b),R=R.subtract(v)}while(!R.isZero());return E.isUnit()?v:v.multiply(E)}function Je(v,R){return v=X(v).abs(),R=X(R).abs(),v.divide(Fe(v,R)).multiply(R)}function rt(v,R,E){v=X(v),R=X(R);var C=E||Math.random,b=ke(v,R),O=Se(v,R),N=O.subtract(b).add(1);if(N.isSmall)return b.add(Math.floor(C()*N));for(var p=Dt(N,e).value,g=[],A=!0,W=0;W<p.length;W++){var ee=A?p[W]+(W+1<p.length?p[W+1]/e:0):e,ce=S(C()*ee);g.push(ce),ce<p[W]&&(A=!1)}return b.add(u.fromArray(g,e,!1))}var Rt=function(v,R,E,C){E=E||s,v=String(v),C||(v=v.toLowerCase(),E=E.toLowerCase());var b=v.length,O,N=Math.abs(R),p={};for(O=0;O<E.length;O++)p[E[O]]=O;for(O=0;O<b;O++){var g=v[O];if(g!=="-"&&g in p&&p[g]>=N){if(g==="1"&&N===1)continue;throw new Error(g+" is not a valid digit in base "+R+".")}}R=X(R);var A=[],W=v[0]==="-";for(O=W?1:0;O<v.length;O++){var g=v[O];if(g in p)A.push(X(p[g]));else if(g==="<"){var ee=O;do O++;while(v[O]!==">"&&O<v.length);A.push(X(v.slice(ee+1,O)))}else throw new Error(g+" is not a valid character")}return Ce(A,R,W)};function Ce(v,R,E){var C=u[0],b=u[1],O;for(O=v.length-1;O>=0;O--)C=C.add(v[O].times(b)),b=b.times(R);return E?C.negate():C}function Ze(v,R){return R=R||s,v<R.length?R[v]:"<"+v+">"}function Dt(v,R){if(R=Bt(R),R.isZero()){if(v.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(R.equals(-1)){if(v.isZero())return{value:[0],isNegative:!1};if(v.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-v.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var E=Array.apply(null,Array(v.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return E.unshift([1]),{value:[].concat.apply([],E),isNegative:!1}}var C=!1;if(v.isNegative()&&R.isPositive()&&(C=!0,v=v.abs()),R.isUnit())return v.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(v.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:C};for(var b=[],O=v,N;O.isNegative()||O.compareAbs(R)>=0;){N=O.divmod(R),O=N.quotient;var p=N.remainder;p.isNegative()&&(p=R.minus(p).abs(),O=O.next()),b.push(p.toJSNumber())}return b.push(O.toJSNumber()),{value:b.reverse(),isNegative:C}}function Qe(v,R,E){var C=Dt(v,R);return(C.isNegative?"-":"")+C.value.map(function(b){return Ze(b,E)}).join("")}a.prototype.toArray=function(v){return Dt(this,v)},c.prototype.toArray=function(v){return Dt(this,v)},f.prototype.toArray=function(v){return Dt(this,v)},a.prototype.toString=function(v,R){if(v===t&&(v=10),v!==10)return Qe(this,v,R);for(var E=this.value,C=E.length,b=String(E[--C]),O="0000000",N;--C>=0;)N=String(E[C]),b+=O.slice(N.length)+N;var p=this.sign?"-":"";return p+b},c.prototype.toString=function(v,R){return v===t&&(v=10),v!=10?Qe(this,v,R):String(this.value)},f.prototype.toString=c.prototype.toString,f.prototype.toJSON=a.prototype.toJSON=c.prototype.toJSON=function(){return this.toString()},a.prototype.valueOf=function(){return parseInt(this.toString(),10)},a.prototype.toJSNumber=a.prototype.valueOf,c.prototype.valueOf=function(){return this.value},c.prototype.toJSNumber=c.prototype.valueOf,f.prototype.valueOf=f.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};function nt(v){if(d(+v)){var R=+v;if(R===S(R))return o?new f(BigInt(R)):new c(R);throw new Error("Invalid integer: "+v)}var E=v[0]==="-";E&&(v=v.slice(1));var C=v.split(/e/i);if(C.length>2)throw new Error("Invalid integer: "+C.join("e"));if(C.length===2){var b=C[1];if(b[0]==="+"&&(b=b.slice(1)),b=+b,b!==S(b)||!d(b))throw new Error("Invalid integer: "+b+" is not a valid exponent.");var O=C[0],N=O.indexOf(".");if(N>=0&&(b-=O.length-N-1,O=O.slice(0,N)+O.slice(N+1)),b<0)throw new Error("Cannot include negative exponent part for integers");O+=new Array(b+1).join("0"),v=O}var p=/^([0-9][0-9]*)$/.test(v);if(!p)throw new Error("Invalid integer: "+v);if(o)return new f(BigInt(E?"-"+v:v));for(var g=[],A=v.length,W=r,ee=A-W;A>0;)g.push(+v.slice(ee,A)),ee-=W,ee<0&&(ee=0),A-=W;return y(g),new a(g,E)}function Z(v){if(o)return new f(BigInt(v));if(d(v)){if(v!==S(v))throw new Error(v+" is not an integer.");return new c(v)}return nt(v.toString())}function X(v){return typeof v=="number"?Z(v):typeof v=="string"?nt(v):typeof v=="bigint"?new f(v):v}for(var j=0;j<1e3;j++)u[j]=X(j),j>0&&(u[-j]=X(-j));return u.one=u[1],u.zero=u[0],u.minusOne=u[-1],u.max=Se,u.min=ke,u.gcd=Fe,u.lcm=Je,u.isInstance=function(v){return v instanceof a||v instanceof c||v instanceof f},u.randBetween=rt,u.fromArray=function(v,R,E){return Ce(v.map(X),X(R||10),E)},u}();typeof Bd<"u"&&Bd.hasOwnProperty("exports")&&(Bd.exports=Bt);typeof define=="function"&&define.amd&&define(function(){return Bt})});var dF=L((_Y,fF)=>{var Wi=cF(),Hd=require("stream");(!Hd.Writable||!Hd.Writable.prototype.destroy)&&(Hd=Sn());var Wd;function Y8(){var t=3988292384,e,r,n;for(Wd=[],r=0;r<256;r++){for(e=r,n=0;n<8;n++)e=e&1?t^e>>>1:e=e>>>1;Wd[r]=e>>>0}}function lF(t,e){return Wd||Y8(),t.charCodeAt&&(t=t.charCodeAt(0)),Wi(e).shiftRight(8).and(16777215).xor(Wd[Wi(e).xor(t).and(255)]).value}function ua(){if(!(this instanceof ua))return new ua;this.key0=305419896,this.key1=591751049,this.key2=878082192}ua.prototype.update=function(t){this.key0=lF(t,this.key0),this.key1=Wi(this.key0).and(255).and(4294967295).add(this.key1),this.key1=Wi(this.key1).multiply(134775813).add(1).and(4294967295).value,this.key2=lF(Wi(this.key1).shiftRight(24).and(255),this.key2)};ua.prototype.decryptByte=function(t){var e=Wi(this.key2).or(2);return t=t^Wi(e).multiply(Wi(e^1)).shiftRight(8).and(255),this.update(t),t};ua.prototype.stream=function(){var t=Hd.Transform(),e=this;return t._transform=function(r,n,i){for(var s=0;s<r.length;s++)r[s]=e.decryptByte(r[s]);this.push(r),i()},t};fF.exports=ua});var pF=L((wY,hF)=>{var J8=qi(),Z8=dF(),Q8=Cd(),ec=require("stream"),eG=Iu(),tG=require("zlib"),rG=Rd(),nG=Yo(),iG=Dd();(!ec.Writable||!ec.Writable.prototype.destroy)&&(ec=Sn());hF.exports=function(e,r,n,i){var s=Q8(),o=ec.PassThrough(),u=e.stream(r);return u.pipe(s).on("error",function(a){o.emit("error",a)}),o.vars=s.pull(30).then(function(a){var c=eG.parse(a).word32lu("signature").word16lu("versionsNeededToExtract").word16lu("flags").word16lu("compressionMethod").word16lu("lastModifiedTime").word16lu("lastModifiedDate").word32lu("crc32").word32lu("compressedSize").word32lu("uncompressedSize").word16lu("fileNameLength").word16lu("extraFieldLength").vars;return c.lastModifiedDateTime=iG(c.lastModifiedDate,c.lastModifiedTime),s.pull(c.fileNameLength).then(function(f){return c.fileName=f.toString("utf8"),s.pull(c.extraFieldLength)}).then(function(f){var d;return c.extra=rG(f,c),i&&i.compressedSize&&(c=i),c.flags&1&&(d=s.pull(12).then(function(m){if(!n)throw new Error("MISSING_PASSWORD");var h=Z8();String(n).split("").forEach(function(S){h.update(S)});for(var y=0;y<m.length;y++)m[y]=h.decryptByte(m[y]);c.decrypt=h,c.compressedSize-=12;var _=c.flags&8?c.lastModifiedTime>>8&255:c.crc32>>24&255;if(m[11]!==_)throw new Error("BAD_PASSWORD");return c})),J8.resolve(d).then(function(){return o.emit("vars",c),c})})}),o.vars.then(function(a){var c=!(a.flags&8)||a.compressedSize>0,f,d=a.compressionMethod?tG.createInflateRaw():ec.PassThrough();c?(o.size=a.uncompressedSize,f=a.compressedSize):(f=nG.alloc(4),f.writeUInt32LE(134695760,0));var m=s.stream(f);a.decrypt&&(m=m.pipe(a.decrypt.stream())),m.pipe(d).on("error",function(h){o.emit("error",h)}).pipe(o).on("finish",function(){u.abort?u.abort():u.close?u.close():u.push?u.push():console.log("warning - unable to close stream")})}).catch(function(a){o.emit("error",a)}),o}});var vF=L((EY,gF)=>{var nc=Iu(),rc=Cd(),sG=pF(),tc=qi(),oG=Td(),aG=Rd(),uG=Yo(),cG=require("path"),lG=_w().Writer,fG=Dd(),mF=uG.alloc(4);mF.writeUInt32LE(101010256,0);function dG(t){var e=t.stream(0).pipe(rc());return e.pull(4).then(function(r){var n=r.readUInt32LE(0);if(n===875721283){var i;return e.pull(12).then(function(s){i=nc.parse(s).word32lu("version").word32lu("pubKeyLength").word32lu("signatureLength").vars}).then(function(){return e.pull(i.pubKeyLength+i.signatureLength)}).then(function(s){return i.publicKey=s.slice(0,i.pubKeyLength),i.signature=s.slice(i.pubKeyLength),i.size=16+i.pubKeyLength+i.signatureLength,i})}})}function hG(t,e){var r=nc.parse(e).word32lu("signature").word32lu("diskNumber").word64lu("offsetToStartOfCentralDirectory").word32lu("numberOfDisks").vars;if(r.signature!=117853008)throw new Error("invalid zip64 end of central dir locator signature (0x07064b50): 0x"+r.signature.toString(16));var n=rc();return t.stream(r.offsetToStartOfCentralDirectory).pipe(n),n.pull(56)}function pG(t){var e=nc.parse(t).word32lu("signature").word64lu("sizeOfCentralDirectory").word16lu("version").word16lu("versionsNeededToExtract").word32lu("diskNumber").word32lu("diskStart").word64lu("numberOfRecordsOnDisk").word64lu("numberOfRecords").word64lu("sizeOfCentralDirectory").word64lu("offsetToStartOfCentralDirectory").vars;if(e.signature!=101075792)throw new Error("invalid zip64 end of central dir locator signature (0x06064b50): 0x0"+e.signature.toString(16));return e}gF.exports=function(e,r){var n=rc(),i=rc(),s=r&&r.tailSize||80,o,u,a,c;return r&&r.crx&&(u=dG(e)),e.size().then(function(f){return o=f,e.stream(Math.max(0,f-s)).on("error",function(d){n.emit("error",d)}).pipe(n),n.pull(mF)}).then(function(){return tc.props({directory:n.pull(22),crxHeader:u})}).then(function(f){var d=f.directory;if(a=f.crxHeader&&f.crxHeader.size||0,c=nc.parse(d).word32lu("signature").word16lu("diskNumber").word16lu("diskStart").word16lu("numberOfRecordsOnDisk").word16lu("numberOfRecords").word32lu("sizeOfCentralDirectory").word32lu("offsetToStartOfCentralDirectory").word16lu("commentLength").vars,c.numberOfRecords==65535||c.numberOfRecords==65535||c.offsetToStartOfCentralDirectory==4294967295){let h=o-(s-n.match+20),y=rc();return e.stream(h).pipe(y),y.pull(20).then(function(_){return hG(e,_)}).then(function(_){c=pG(_)})}else c.offsetToStartOfCentralDirectory+=a}).then(function(){return e.stream(c.offsetToStartOfCentralDirectory).pipe(i),c.extract=function(f){if(!f||!f.path)throw new Error("PATH_MISSING");return c.files.then(function(d){return tc.map(d,function(m){if(m.type!="Directory"){var h=cG.join(f.path,m.path);if(h.indexOf(f.path)==0){var y=f.getWriter?f.getWriter({path:h}):lG({path:h});return new tc(function(_,S){m.stream(f.password).on("error",S).pipe(y).on("close",_).on("error",S)})}}},f.concurrency>1?{concurrency:f.concurrency||void 0}:void 0)})},c.files=tc.mapSeries(Array(c.numberOfRecords),function(){return i.pull(46).then(function(f){var d=nc.parse(f).word32lu("signature").word16lu("versionMadeBy").word16lu("versionsNeededToExtract").word16lu("flags").word16lu("compressionMethod").word16lu("lastModifiedTime").word16lu("lastModifiedDate").word32lu("crc32").word32lu("compressedSize").word32lu("uncompressedSize").word16lu("fileNameLength").word16lu("extraFieldLength").word16lu("fileCommentLength").word16lu("diskNumber").word16lu("internalFileAttributes").word32lu("externalFileAttributes").word32lu("offsetToLocalFileHeader").vars;return d.offsetToLocalFileHeader+=a,d.lastModifiedDateTime=fG(d.lastModifiedDate,d.lastModifiedTime),i.pull(d.fileNameLength).then(function(m){return d.pathBuffer=m,d.path=m.toString("utf8"),d.isUnicode=d.flags&17,i.pull(d.extraFieldLength)}).then(function(m){return d.extra=aG(m,d),i.pull(d.fileCommentLength)}).then(function(m){return d.comment=m,d.type=d.uncompressedSize===0&&/[\/\\]$/.test(d.path)?"Directory":"File",d.stream=function(h){return sG(e,d.offsetToLocalFileHeader,h,d)},d.buffer=function(h){return oG(d.stream(h))},d})})}),tc.props(c)})}});var wF=L((bY,_F)=>{var yF=Tn(),$d=qi(),zd=vF(),Gd=require("stream");(!Gd.Writable||!Gd.Writable.prototype.destroy)&&(Gd=Sn());_F.exports={buffer:function(t,e){var r={stream:function(n,i){var s=Gd.PassThrough();return s.end(t.slice(n,i)),s},size:function(){return $d.resolve(t.length)}};return zd(r,e)},file:function(t,e){var r={stream:function(n,i){return yF.createReadStream(t,{start:n,end:i&&n+i})},size:function(){return new $d(function(n,i){yF.stat(t,function(s,o){s?i(s):n(o.size)})})}};return zd(r,e)},url:function(t,e,r){if(typeof e=="string"&&(e={url:e}),!e.url)throw"URL missing";e.headers=e.headers||{};var n={stream:function(i,s){var o=Object.create(e);return o.headers=Object.create(e.headers),o.headers.range="bytes="+i+"-"+(s||""),t(o)},size:function(){return new $d(function(i,s){var o=t(e);o.on("response",function(u){o.abort(),u.headers["content-length"]?i(u.headers["content-length"]):s(new Error("Missing content length header"))}).on("error",s)})}};return zd(n,r)},s3:function(t,e,r){var n={size:function(){return new $d(function(i,s){t.headObject(e,function(o,u){o?s(o):i(u.ContentLength)})})},stream:function(i,s){var o={};for(var u in e)o[u]=e[u];return o.Range="bytes="+i+"-"+(s||""),t.getObject(o).createReadStream()}};return zd(n,r)}}});var EF=L(ic=>{"use strict";tx();sx();ax();ic.Parse=Od();ic.ParseOne=tN();ic.Extract=uF();ic.Open=wF()});var NF=L((BY,bw)=>{"use strict";var IF=require("fs");bw.exports=t=>new Promise(e=>{IF.access(t,r=>{e(!r)})});bw.exports.sync=t=>{try{return IF.accessSync(t),!0}catch{return!1}}});var kF=L((HY,LF)=>{var EG=require("path").join,FF=process.env[process.platform=="win32"?"USERPROFILE":"HOME"];LF.exports=bG;function bG(t){return t&&(t=="~"?FF:t.slice(0,2)!="~/"?t:EG(FF,t.slice(2)))}});var BF=L((WY,UF)=>{UF.exports=qF;qF.sync=CG;var AF=require("path"),Cw,Kd=process.platform==="win32"?";":":",Xd,Cw=require("fs");process.platform=="win32"?Xd=function(){return!0}:Xd=function(e,r,n){var i=e&1||e&8&&process.getgid&&n===process.getgid()||e&8&&process.getuid&&process.getuid()===0||e&64&&process.getuid&&r===process.getuid()||e&64&&process.getuid&&process.getuid()===0;return i};function qF(t,e){if(MF(t))return e(null,t);var r=(process.env.PATH||"").split(Kd),n=[""];process.platform==="win32"&&(r.push(process.cwd()),n=(process.env.PATHEXT||".EXE").split(Kd),t.indexOf(".")!==-1&&n.unshift("")),function i(s,o){if(s===o)return e(new Error("not found: "+t));var u=AF.resolve(r[s],t);(function a(c,f){if(c===f)return i(s+1,o);var d=n[c];Cw.stat(u+d,function(m,h){return!m&&h&&h.isFile()&&Xd(h.mode,h.uid,h.gid)?e(null,u+d):a(c+1,f)})})(0,n.length)}(0,r.length)}function CG(t){if(MF(t))return t;var e=(process.env.PATH||"").split(Kd),r=[""];process.platform==="win32"&&(e.push(process.cwd()),r=(process.env.PATHEXT||".EXE").split(Kd),t.indexOf(".")!==-1&&r.unshift(""));for(var n=0,i=e.length;n<i;n++)for(var s=AF.join(e[n],t),o=0,u=r.length;o<u;o++){var a=s+r[o],c;try{c=Cw.statSync(a)}catch{}if(c&&c.isFile()&&Xd(c.mode,c.uid,c.gid))return a}throw new Error("not found: "+t)}var MF=process.platform==="win32"?SG:jF;function SG(t){if(jF(t))return!0;var e=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?([\\\/])?/,r=e.exec(t),n=r[1]||"",i=n&&n.charAt(1)!==":",s=!!r[2]||i;return s}function jF(t){return t.charAt(0)==="/"||t===""}});var nL=L(($Y,rL)=>{var Sw=require("util"),TG=require("path"),$i=require("child_process").spawn,lr=function(){},Tw="HKLM",HF="HKCU",WF="HKCR",$F="HKU",zF="HKCC",GF=[Tw,HF,WF,$F,zF],VF="REG_SZ",KF="REG_MULTI_SZ",XF="REG_EXPAND_SZ",YF="REG_DWORD",JF="REG_QWORD",ZF="REG_BINARY",QF="REG_NONE",eL=[VF,KF,XF,YF,JF,ZF,QF],RG="",DG=/(\\[a-zA-Z0-9_\s]+)*/,OG=/^(HKEY_LOCAL_MACHINE|HKEY_CURRENT_USER|HKEY_CLASSES_ROOT|HKEY_USERS|HKEY_CURRENT_CONFIG)(.*)$/,tL=/^(.*)\s(REG_SZ|REG_MULTI_SZ|REG_EXPAND_SZ|REG_DWORD|REG_QWORD|REG_BINARY|REG_NONE)\s+([^\s].*)$/;function la(t,e){if(!(this instanceof la))return new la(t,e);Error.captureStackTrace(this,la),this.__defineGetter__("name",function(){return la.name}),this.__defineGetter__("message",function(){return t}),this.__defineGetter__("code",function(){return e})}Sw.inherits(la,Error);function zi(t){var e={stdout:"",stderr:""};return t.stdout.on("data",function(r){e.stdout+=r.toString()}),t.stderr.on("data",function(r){e.stderr+=r.toString()}),e}function Gi(t,e,r){var n=r.stdout.trim(),i=r.stderr.trim(),s=Sw.format(`%s command exited with code %d:
%s
%s`,t,e,n,i);return new la(s,e)}function xG(t){if(t=="x64")return"64";if(t=="x86")return"32";throw new Error("illegal architecture: "+t+" (use x86 or x64)")}function Vi(t,e){e&&t.push("/reg:"+xG(e))}function Ki(){return process.platform==="win32"?TG.join(process.env.windir,"system32","reg.exe"):"REG"}function cc(t,e,r,n,i,s,o){if(!(this instanceof cc))return new cc(t,e,r,n,i,s,o);var u=t,a=e,c=r,f=n,d=i,m=s,h=o;this.__defineGetter__("host",function(){return u}),this.__defineGetter__("hive",function(){return a}),this.__defineGetter__("key",function(){return c}),this.__defineGetter__("name",function(){return f}),this.__defineGetter__("type",function(){return d}),this.__defineGetter__("value",function(){return m}),this.__defineGetter__("arch",function(){return h})}Sw.inherits(cc,Object);function Ge(t){if(!(this instanceof Ge))return new Ge(t);var e=t||{},r=""+(e.host||""),n=""+(e.hive||Tw),i=""+(e.key||""),s=e.arch||null;if(this.__defineGetter__("host",function(){return r}),this.__defineGetter__("hive",function(){return n}),this.__defineGetter__("key",function(){return i}),this.__defineGetter__("path",function(){return(r.length==0?"":"\\\\"+r+"\\")+n+i}),this.__defineGetter__("arch",function(){return s}),this.__defineGetter__("parent",function(){var o=i.lastIndexOf("\\");return new Ge({host:this.host,hive:this.hive,key:o==-1?"":i.substring(0,o),arch:this.arch})}),GF.indexOf(n)==-1)throw new Error("illegal hive specified.");if(!DG.test(i))throw new Error("illegal key specified.");if(s&&s!="x64"&&s!="x86")throw new Error("illegal architecture specified (use x86 or x64)")}Ge.HKLM=Tw;Ge.HKCU=HF;Ge.HKCR=WF;Ge.HKU=$F;Ge.HKCC=zF;Ge.HIVES=GF;Ge.REG_SZ=VF;Ge.REG_MULTI_SZ=KF;Ge.REG_EXPAND_SZ=XF;Ge.REG_DWORD=YF;Ge.REG_QWORD=JF;Ge.REG_BINARY=ZF;Ge.REG_NONE=QF;Ge.REG_TYPES=eL;Ge.DEFAULT_VALUE=RG;Ge.prototype.values=function(e){if(typeof e!="function")throw new TypeError("must specify a callback");var r=["QUERY",this.path];Vi(r,this.arch);var n=$i(Ki(),r,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),i="",s=this,o=null,u=zi(n);return n.on("close",function(a){if(!o)if(a!==0)lr("process exited with code "+a),e(Gi("QUERY",a,u),null);else{for(var c=[],f=[],d=i.split(`
`),m=0,h=0,y=d.length;h<y;h++){var _=d[h].trim();_.length>0&&(lr(_),m!=0&&c.push(_),++m)}for(var h=0,y=c.length;h<y;h++){var S=tL.exec(c[h]),D,w,T;S&&(D=S[1].trim(),w=S[2].trim(),T=S[3],f.push(new cc(s.host,s.hive,s.key,D,w,T,s.arch)))}e(null,f)}}),n.stdout.on("data",function(a){i+=a.toString()}),n.on("error",function(a){o=a,e(a)}),this};Ge.prototype.keys=function(e){if(typeof e!="function")throw new TypeError("must specify a callback");var r=["QUERY",this.path];Vi(r,this.arch);var n=$i(Ki(),r,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),i="",s=this,o=null,u=zi(n);return n.on("close",function(a){o||a!==0&&(lr("process exited with code "+a),e(Gi("QUERY",a,u),null))}),n.stdout.on("data",function(a){i+=a.toString()}),n.stdout.on("end",function(){for(var a=[],c=[],f=i.split(`
`),d=0,m=f.length;d<m;d++){var h=f[d].trim();h.length>0&&(lr(h),a.push(h))}for(var d=0,m=a.length;d<m;d++){var y=OG.exec(a[d]),_,S;y&&(_=y[1],S=y[2],S&&S!==s.key&&c.push(new Ge({host:s.host,hive:s.hive,key:S,arch:s.arch})))}e(null,c)}),n.on("error",function(a){o=a,e(a)}),this};Ge.prototype.get=function(e,r){if(typeof r!="function")throw new TypeError("must specify a callback");var n=["QUERY",this.path];e==""?n.push("/ve"):n=n.concat(["/v",e]),Vi(n,this.arch);var i=$i(Ki(),n,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),s="",o=this,u=null,a=zi(i);return i.on("close",function(c){if(!u)if(c!==0)lr("process exited with code "+c),r(Gi("QUERY",c,a),null);else{for(var f=[],d=null,m=s.split(`
`),h=0,y=0,_=m.length;y<_;y++){var S=m[y].trim();S.length>0&&(lr(S),h!=0&&f.push(S),++h)}var D=f[f.length-1]||"",w=tL.exec(D),T,P,M;w&&(T=w[1].trim(),P=w[2].trim(),M=w[3],d=new cc(o.host,o.hive,o.key,T,P,M,o.arch)),r(null,d)}}),i.stdout.on("data",function(c){s+=c.toString()}),i.on("error",function(c){u=c,r(c)}),this};Ge.prototype.set=function(e,r,n,i){if(typeof i!="function")throw new TypeError("must specify a callback");if(eL.indexOf(r)==-1)throw Error("illegal type specified.");var s=["ADD",this.path];e==""?s.push("/ve"):s=s.concat(["/v",e]),s=s.concat(["/t",r,"/d",n,"/f"]),Vi(s,this.arch);var o=$i(Ki(),s,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),u=null,a=zi(o);return o.on("close",function(c){u||(c!==0?(lr("process exited with code "+c),i(Gi("ADD",c,a,null))):i(null))}),o.stdout.on("data",function(c){lr(""+c)}),o.on("error",function(c){u=c,i(c)}),this};Ge.prototype.remove=function(e,r){if(typeof r!="function")throw new TypeError("must specify a callback");var n=e?["DELETE",this.path,"/f","/v",e]:["DELETE",this.path,"/f","/ve"];Vi(n,this.arch);var i=$i(Ki(),n,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),s=null,o=zi(i);return i.on("close",function(u){s||(u!==0?(lr("process exited with code "+u),r(Gi("DELETE",u,o),null)):r(null))}),i.stdout.on("data",function(u){lr(""+u)}),i.on("error",function(u){s=u,r(u)}),this};Ge.prototype.clear=function(e){if(typeof e!="function")throw new TypeError("must specify a callback");var r=["DELETE",this.path,"/f","/va"];Vi(r,this.arch);var n=$i(Ki(),r,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),i=null,s=zi(n);return n.on("close",function(o){i||(o!==0?(lr("process exited with code "+o),e(Gi("DELETE",o,s),null)):e(null))}),n.stdout.on("data",function(o){lr(""+o)}),n.on("error",function(o){i=o,e(o)}),this};Ge.prototype.erase=Ge.prototype.clear;Ge.prototype.destroy=function(e){if(typeof e!="function")throw new TypeError("must specify a callback");var r=["DELETE",this.path,"/f"];Vi(r,this.arch);var n=$i(Ki(),r,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),i=null,s=zi(n);return n.on("close",function(o){i||(o!==0?(lr("process exited with code "+o),e(Gi("DELETE",o,s),null)):e(null))}),n.stdout.on("data",function(o){lr(""+o)}),n.on("error",function(o){i=o,e(o)}),this};Ge.prototype.create=function(e){if(typeof e!="function")throw new TypeError("must specify a callback");var r=["ADD",this.path,"/f"];Vi(r,this.arch);var n=$i(Ki(),r,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),i=null,s=zi(n);return n.on("close",function(o){i||(o!==0?(lr("process exited with code "+o),e(Gi("ADD",o,s),null)):e(null))}),n.stdout.on("data",function(o){lr(""+o)}),n.on("error",function(o){i=o,e(o)}),this};Ge.prototype.keyExists=function(e){return this.values(function(r,n){if(r)return r.code==1?e(null,!1):e(r);e(null,!0)}),this};Ge.prototype.valueExists=function(e,r){return this.get(e,function(n,i){if(n)return n.code==1?r(null,!1):r(n);r(null,!0)}),this};rL.exports=Ge});var fL=L((oi,lL)=>{"use strict";var Rw=oi&&oi.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,s){function o(c){try{a(n.next(c))}catch(f){s(f)}}function u(c){try{a(n.throw(c))}catch(f){s(f)}}function a(c){c.done?i(c.value):new r(function(f){f(c.value)}).then(o,u)}a((n=n.apply(t,e||[])).next())})},Dw=oi&&oi.__generator||function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(c){return function(f){return a([c,f])}}function a(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(f){c=[6,f],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Ow=oi&&oi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e},aL=oi&&oi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},lc=Ow(require("fs")),Yd=Ow(require("path")),PG=Ow(require("child_process")),IG=require("child_process"),NG=aL(BF()),iL=aL(nL()),sL=process.platform.indexOf("win")===0,oL=["\\SOFTWARE\\JavaSoft\\JDK","\\SOFTWARE\\JavaSoft\\Java Development Kit"],FG=["\\SOFTWARE\\JavaSoft\\Java Runtime Environment"];function uL(t,e){return Rw(this,void 0,void 0,function(){var r,n,i,s,o;return Dw(this,function(u){switch(u.label){case 0:e?(n=t,r=e):(r=t,n=void 0),i=void 0,s=null,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,cL(n)];case 2:return i=u.sent(),[3,4];case 3:return o=u.sent(),s=o,[3,4];case 4:return r(s,i),[2]}})})}uL.promise=cL();function cL(t){return Rw(this,void 0,void 0,function(){var e,r,n,i,s;return Dw(this,function(o){switch(o.label){case 0:return e=!!(t&&t.allowJre),r=(e?"java":"javac")+(sL?".exe":""),n=t&&t.registry?[t.registry]:["x64","x86"],process.env.JAVA_HOME&&MG(process.env.JAVA_HOME,r)?[2,process.env.JAVA_HOME]:sL?(i=e?oL.concat(FG):oL,[4,kG(i,n)]):[3,2];case 1:if(s=o.sent(),s)return[2,s];o.label=2;case 2:return[4,LG(r)];case 3:return[2,o.sent()]}})})}function LG(t){return new Promise(function(e){NG.default(t,function(r,n){if(r||!n)return e(null);if(/\.jenv\/shims/.test(n))try{n=IG.execSync("jenv which "+t).toString().trim()}catch(u){console.error(u)}n=lc.realpathSync(n),n=Yd.dirname(n);var i=Yd.resolve(n,"java_home");if(lc.existsSync(i)){var s=void 0;try{s=PG.execSync(i,{cwd:n});var o=""+s.toString().replace(/\n$/,"");return e(o)}catch{return e(null)}}e(Yd.dirname(n))})})}function kG(t,e){return Rw(this,void 0,void 0,function(){var r,n,i,s,o,u,a,c,f,d,m,h,y,_;return Dw(this,function(S){switch(S.label){case 0:if(!t.length)return[2,null];for(r=[],n=0,i=e;n<i.length;n++)for(s=i[n],o=0,u=t;o<u.length;o++)a=u[o],r.push(AG(a,s));return[4,Promise.all(r)];case 1:if(c=S.sent(),f=Array.prototype.concat.apply([],c),!f.length)return[2,null];d=f.sort(function(D,w){var T=parseFloat(D.key),P=parseFloat(w.key);return P-T}),m=0,h=d,S.label=2;case 2:return m<h.length?(y=h[m],[4,qG(y)]):[3,5];case 3:if(_=S.sent(),_)return[2,_];S.label=4;case 4:return m++,[3,2];case 5:return[2,null]}})})}function AG(t,e){return new Promise(function(r){var n=new iL.default({hive:iL.default.HKLM,key:t,arch:e});n.keys(function(i,s){if(i)return r([]);r(s)})})}function qG(t){return new Promise(function(e){t.get("JavaHome",function(r,n){if(r||!n)return e(null);e(n.value)})})}function MG(t,e){return lc.existsSync(""+t)&&lc.statSync(t).isDirectory()&&lc.existsSync(Yd.resolve(t,"bin",e))}lL.exports=uL});var IL=L(Qd=>{(function(t){t.parser=function(F,I){return new r(F,I)},t.SAXParser=r,t.SAXStream=c,t.createStream=a,t.MAX_BUFFER_LENGTH=64*1024;var e=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function r(F,I){if(!(this instanceof r))return new r(F,I);var Q=this;i(Q),Q.q=Q.c="",Q.bufferCheckPosition=t.MAX_BUFFER_LENGTH,Q.opt=I||{},Q.opt.lowercase=Q.opt.lowercase||Q.opt.lowercasetags,Q.looseCase=Q.opt.lowercase?"toLowerCase":"toUpperCase",Q.tags=[],Q.closed=Q.closedRoot=Q.sawRoot=!1,Q.tag=Q.error=null,Q.strict=!!F,Q.noscript=!!(F||Q.opt.noscript),Q.state=k.BEGIN,Q.strictEntities=Q.opt.strictEntities,Q.ENTITIES=Q.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),Q.attribList=[],Q.opt.xmlns&&(Q.ns=Object.create(y)),Q.trackPosition=Q.opt.position!==!1,Q.trackPosition&&(Q.position=Q.line=Q.column=0),ie(Q,"onready")}Object.create||(Object.create=function(F){function I(){}I.prototype=F;var Q=new I;return Q}),Object.keys||(Object.keys=function(F){var I=[];for(var Q in F)F.hasOwnProperty(Q)&&I.push(Q);return I});function n(F){for(var I=Math.max(t.MAX_BUFFER_LENGTH,10),Q=0,V=0,Se=e.length;V<Se;V++){var ke=F[e[V]].length;if(ke>I)switch(e[V]){case"textNode":G(F);break;case"cdata":ne(F,"oncdata",F.cdata),F.cdata="";break;case"script":ne(F,"onscript",F.script),F.script="";break;default:se(F,"Max buffer length exceeded: "+e[V])}Q=Math.max(Q,ke)}var Fe=t.MAX_BUFFER_LENGTH-Q;F.bufferCheckPosition=Fe+F.position}function i(F){for(var I=0,Q=e.length;I<Q;I++)F[e[I]]=""}function s(F){G(F),F.cdata!==""&&(ne(F,"oncdata",F.cdata),F.cdata=""),F.script!==""&&(ne(F,"onscript",F.script),F.script="")}r.prototype={end:function(){le(this)},write:Ue,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){s(this)}};var o;try{o=require("stream").Stream}catch{o=function(){}}var u=t.EVENTS.filter(function(F){return F!=="error"&&F!=="end"});function a(F,I){return new c(F,I)}function c(F,I){if(!(this instanceof c))return new c(F,I);o.apply(this),this._parser=new r(F,I),this.writable=!0,this.readable=!0;var Q=this;this._parser.onend=function(){Q.emit("end")},this._parser.onerror=function(V){Q.emit("error",V),Q._parser.error=null},this._decoder=null,u.forEach(function(V){Object.defineProperty(Q,"on"+V,{get:function(){return Q._parser["on"+V]},set:function(Se){if(!Se)return Q.removeAllListeners(V),Q._parser["on"+V]=Se,Se;Q.on(V,Se)},enumerable:!0,configurable:!1})})}c.prototype=Object.create(o.prototype,{constructor:{value:c}}),c.prototype.write=function(F){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(F)){if(!this._decoder){var I=require("string_decoder").StringDecoder;this._decoder=new I("utf8")}F=this._decoder.write(F)}return this._parser.write(F.toString()),this.emit("data",F),!0},c.prototype.end=function(F){return F&&F.length&&this.write(F),this._parser.end(),!0},c.prototype.on=function(F,I){var Q=this;return!Q._parser["on"+F]&&u.indexOf(F)!==-1&&(Q._parser["on"+F]=function(){var V=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);V.splice(0,0,F),Q.emit.apply(Q,V)}),o.prototype.on.call(Q,F,I)};var f="[CDATA[",d="DOCTYPE",m="http://www.w3.org/XML/1998/namespace",h="http://www.w3.org/2000/xmlns/",y={xml:m,xmlns:h},_=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,S=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,D=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,w=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function T(F){return F===" "||F===`
`||F==="\r"||F==="	"}function P(F){return F==='"'||F==="'"}function M(F){return F===">"||T(F)}function U(F,I){return F.test(I)}function $(F,I){return!U(F,I)}var k=0;t.STATE={BEGIN:k++,BEGIN_WHITESPACE:k++,TEXT:k++,TEXT_ENTITY:k++,OPEN_WAKA:k++,SGML_DECL:k++,SGML_DECL_QUOTED:k++,DOCTYPE:k++,DOCTYPE_QUOTED:k++,DOCTYPE_DTD:k++,DOCTYPE_DTD_QUOTED:k++,COMMENT_STARTING:k++,COMMENT:k++,COMMENT_ENDING:k++,COMMENT_ENDED:k++,CDATA:k++,CDATA_ENDING:k++,CDATA_ENDING_2:k++,PROC_INST:k++,PROC_INST_BODY:k++,PROC_INST_ENDING:k++,OPEN_TAG:k++,OPEN_TAG_SLASH:k++,ATTRIB:k++,ATTRIB_NAME:k++,ATTRIB_NAME_SAW_WHITE:k++,ATTRIB_VALUE:k++,ATTRIB_VALUE_QUOTED:k++,ATTRIB_VALUE_CLOSED:k++,ATTRIB_VALUE_UNQUOTED:k++,ATTRIB_VALUE_ENTITY_Q:k++,ATTRIB_VALUE_ENTITY_U:k++,CLOSE_TAG:k++,CLOSE_TAG_SAW_WHITE:k++,SCRIPT:k++,SCRIPT_ENDING:k++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(F){var I=t.ENTITIES[F],Q=typeof I=="number"?String.fromCharCode(I):I;t.ENTITIES[F]=Q});for(var K in t.STATE)t.STATE[t.STATE[K]]=K;k=t.STATE;function ie(F,I,Q){F[I]&&F[I](Q)}function ne(F,I,Q){F.textNode&&G(F),ie(F,I,Q)}function G(F){F.textNode=te(F.opt,F.textNode),F.textNode&&ie(F,"ontext",F.textNode),F.textNode=""}function te(F,I){return F.trim&&(I=I.trim()),F.normalize&&(I=I.replace(/\s+/g," ")),I}function se(F,I){return G(F),F.trackPosition&&(I+=`
Line: `+F.line+`
Column: `+F.column+`
Char: `+F.c),I=new Error(I),F.error=I,ie(F,"onerror",I),F}function le(F){return F.sawRoot&&!F.closedRoot&&q(F,"Unclosed root tag"),F.state!==k.BEGIN&&F.state!==k.BEGIN_WHITESPACE&&F.state!==k.TEXT&&se(F,"Unexpected end"),G(F),F.c="",F.closed=!0,ie(F,"onend"),r.call(F,F.strict,F.opt),F}function q(F,I){if(typeof F!="object"||!(F instanceof r))throw new Error("bad call to strictFail");F.strict&&se(F,I)}function z(F){F.strict||(F.tagName=F.tagName[F.looseCase]());var I=F.tags[F.tags.length-1]||F,Q=F.tag={name:F.tagName,attributes:{}};F.opt.xmlns&&(Q.ns=I.ns),F.attribList.length=0,ne(F,"onopentagstart",Q)}function Y(F,I){var Q=F.indexOf(":"),V=Q<0?["",F]:F.split(":"),Se=V[0],ke=V[1];return I&&F==="xmlns"&&(Se="xmlns",ke=""),{prefix:Se,local:ke}}function J(F){if(F.strict||(F.attribName=F.attribName[F.looseCase]()),F.attribList.indexOf(F.attribName)!==-1||F.tag.attributes.hasOwnProperty(F.attribName)){F.attribName=F.attribValue="";return}if(F.opt.xmlns){var I=Y(F.attribName,!0),Q=I.prefix,V=I.local;if(Q==="xmlns")if(V==="xml"&&F.attribValue!==m)q(F,"xml: prefix must be bound to "+m+`
Actual: `+F.attribValue);else if(V==="xmlns"&&F.attribValue!==h)q(F,"xmlns: prefix must be bound to "+h+`
Actual: `+F.attribValue);else{var Se=F.tag,ke=F.tags[F.tags.length-1]||F;Se.ns===ke.ns&&(Se.ns=Object.create(ke.ns)),Se.ns[V]=F.attribValue}F.attribList.push([F.attribName,F.attribValue])}else F.tag.attributes[F.attribName]=F.attribValue,ne(F,"onattribute",{name:F.attribName,value:F.attribValue});F.attribName=F.attribValue=""}function oe(F,I){if(F.opt.xmlns){var Q=F.tag,V=Y(F.tagName);Q.prefix=V.prefix,Q.local=V.local,Q.uri=Q.ns[V.prefix]||"",Q.prefix&&!Q.uri&&(q(F,"Unbound namespace prefix: "+JSON.stringify(F.tagName)),Q.uri=V.prefix);var Se=F.tags[F.tags.length-1]||F;Q.ns&&Se.ns!==Q.ns&&Object.keys(Q.ns).forEach(function(Z){ne(F,"onopennamespace",{prefix:Z,uri:Q.ns[Z]})});for(var ke=0,Fe=F.attribList.length;ke<Fe;ke++){var Je=F.attribList[ke],rt=Je[0],Rt=Je[1],Ce=Y(rt,!0),Ze=Ce.prefix,Dt=Ce.local,Qe=Ze===""?"":Q.ns[Ze]||"",nt={name:rt,value:Rt,prefix:Ze,local:Dt,uri:Qe};Ze&&Ze!=="xmlns"&&!Qe&&(q(F,"Unbound namespace prefix: "+JSON.stringify(Ze)),nt.uri=Ze),F.tag.attributes[rt]=nt,ne(F,"onattribute",nt)}F.attribList.length=0}F.tag.isSelfClosing=!!I,F.sawRoot=!0,F.tags.push(F.tag),ne(F,"onopentag",F.tag),I||(!F.noscript&&F.tagName.toLowerCase()==="script"?F.state=k.SCRIPT:F.state=k.TEXT,F.tag=null,F.tagName=""),F.attribName=F.attribValue="",F.attribList.length=0}function ue(F){if(!F.tagName){q(F,"Weird empty close tag."),F.textNode+="</>",F.state=k.TEXT;return}if(F.script){if(F.tagName!=="script"){F.script+="</"+F.tagName+">",F.tagName="",F.state=k.SCRIPT;return}ne(F,"onscript",F.script),F.script=""}var I=F.tags.length,Q=F.tagName;F.strict||(Q=Q[F.looseCase]());for(var V=Q;I--;){var Se=F.tags[I];if(Se.name!==V)q(F,"Unexpected close tag");else break}if(I<0){q(F,"Unmatched closing tag: "+F.tagName),F.textNode+="</"+F.tagName+">",F.state=k.TEXT;return}F.tagName=Q;for(var ke=F.tags.length;ke-- >I;){var Fe=F.tag=F.tags.pop();F.tagName=F.tag.name,ne(F,"onclosetag",F.tagName);var Je={};for(var rt in Fe.ns)Je[rt]=Fe.ns[rt];var Rt=F.tags[F.tags.length-1]||F;F.opt.xmlns&&Fe.ns!==Rt.ns&&Object.keys(Fe.ns).forEach(function(Ce){var Ze=Fe.ns[Ce];ne(F,"onclosenamespace",{prefix:Ce,uri:Ze})})}I===0&&(F.closedRoot=!0),F.tagName=F.attribValue=F.attribName="",F.attribList.length=0,F.state=k.TEXT}function we(F){var I=F.entity,Q=I.toLowerCase(),V,Se="";return F.ENTITIES[I]?F.ENTITIES[I]:F.ENTITIES[Q]?F.ENTITIES[Q]:(I=Q,I.charAt(0)==="#"&&(I.charAt(1)==="x"?(I=I.slice(2),V=parseInt(I,16),Se=V.toString(16)):(I=I.slice(1),V=parseInt(I,10),Se=V.toString(10))),I=I.replace(/^0+/,""),isNaN(V)||Se.toLowerCase()!==I?(q(F,"Invalid character entity"),"&"+F.entity+";"):String.fromCodePoint(V))}function _e(F,I){I==="<"?(F.state=k.OPEN_WAKA,F.startTagPosition=F.position):T(I)||(q(F,"Non-whitespace before first tag."),F.textNode=I,F.state=k.TEXT)}function Re(F,I){var Q="";return I<F.length&&(Q=F.charAt(I)),Q}function Ue(F){var I=this;if(this.error)throw this.error;if(I.closed)return se(I,"Cannot write after close. Assign an onready handler.");if(F===null)return le(I);typeof F=="object"&&(F=F.toString());for(var Q=0,V="";V=Re(F,Q++),I.c=V,!!V;)switch(I.trackPosition&&(I.position++,V===`
`?(I.line++,I.column=0):I.column++),I.state){case k.BEGIN:if(I.state=k.BEGIN_WHITESPACE,V==="\uFEFF")continue;_e(I,V);continue;case k.BEGIN_WHITESPACE:_e(I,V);continue;case k.TEXT:if(I.sawRoot&&!I.closedRoot){for(var Se=Q-1;V&&V!=="<"&&V!=="&";)V=Re(F,Q++),V&&I.trackPosition&&(I.position++,V===`
`?(I.line++,I.column=0):I.column++);I.textNode+=F.substring(Se,Q-1)}V==="<"&&!(I.sawRoot&&I.closedRoot&&!I.strict)?(I.state=k.OPEN_WAKA,I.startTagPosition=I.position):(!T(V)&&(!I.sawRoot||I.closedRoot)&&q(I,"Text data outside of root node."),V==="&"?I.state=k.TEXT_ENTITY:I.textNode+=V);continue;case k.SCRIPT:V==="<"?I.state=k.SCRIPT_ENDING:I.script+=V;continue;case k.SCRIPT_ENDING:V==="/"?I.state=k.CLOSE_TAG:(I.script+="<"+V,I.state=k.SCRIPT);continue;case k.OPEN_WAKA:if(V==="!")I.state=k.SGML_DECL,I.sgmlDecl="";else if(!T(V))if(U(_,V))I.state=k.OPEN_TAG,I.tagName=V;else if(V==="/")I.state=k.CLOSE_TAG,I.tagName="";else if(V==="?")I.state=k.PROC_INST,I.procInstName=I.procInstBody="";else{if(q(I,"Unencoded <"),I.startTagPosition+1<I.position){var ke=I.position-I.startTagPosition;V=new Array(ke).join(" ")+V}I.textNode+="<"+V,I.state=k.TEXT}continue;case k.SGML_DECL:(I.sgmlDecl+V).toUpperCase()===f?(ne(I,"onopencdata"),I.state=k.CDATA,I.sgmlDecl="",I.cdata=""):I.sgmlDecl+V==="--"?(I.state=k.COMMENT,I.comment="",I.sgmlDecl=""):(I.sgmlDecl+V).toUpperCase()===d?(I.state=k.DOCTYPE,(I.doctype||I.sawRoot)&&q(I,"Inappropriately located doctype declaration"),I.doctype="",I.sgmlDecl=""):V===">"?(ne(I,"onsgmldeclaration",I.sgmlDecl),I.sgmlDecl="",I.state=k.TEXT):(P(V)&&(I.state=k.SGML_DECL_QUOTED),I.sgmlDecl+=V);continue;case k.SGML_DECL_QUOTED:V===I.q&&(I.state=k.SGML_DECL,I.q=""),I.sgmlDecl+=V;continue;case k.DOCTYPE:V===">"?(I.state=k.TEXT,ne(I,"ondoctype",I.doctype),I.doctype=!0):(I.doctype+=V,V==="["?I.state=k.DOCTYPE_DTD:P(V)&&(I.state=k.DOCTYPE_QUOTED,I.q=V));continue;case k.DOCTYPE_QUOTED:I.doctype+=V,V===I.q&&(I.q="",I.state=k.DOCTYPE);continue;case k.DOCTYPE_DTD:I.doctype+=V,V==="]"?I.state=k.DOCTYPE:P(V)&&(I.state=k.DOCTYPE_DTD_QUOTED,I.q=V);continue;case k.DOCTYPE_DTD_QUOTED:I.doctype+=V,V===I.q&&(I.state=k.DOCTYPE_DTD,I.q="");continue;case k.COMMENT:V==="-"?I.state=k.COMMENT_ENDING:I.comment+=V;continue;case k.COMMENT_ENDING:V==="-"?(I.state=k.COMMENT_ENDED,I.comment=te(I.opt,I.comment),I.comment&&ne(I,"oncomment",I.comment),I.comment=""):(I.comment+="-"+V,I.state=k.COMMENT);continue;case k.COMMENT_ENDED:V!==">"?(q(I,"Malformed comment"),I.comment+="--"+V,I.state=k.COMMENT):I.state=k.TEXT;continue;case k.CDATA:V==="]"?I.state=k.CDATA_ENDING:I.cdata+=V;continue;case k.CDATA_ENDING:V==="]"?I.state=k.CDATA_ENDING_2:(I.cdata+="]"+V,I.state=k.CDATA);continue;case k.CDATA_ENDING_2:V===">"?(I.cdata&&ne(I,"oncdata",I.cdata),ne(I,"onclosecdata"),I.cdata="",I.state=k.TEXT):V==="]"?I.cdata+="]":(I.cdata+="]]"+V,I.state=k.CDATA);continue;case k.PROC_INST:V==="?"?I.state=k.PROC_INST_ENDING:T(V)?I.state=k.PROC_INST_BODY:I.procInstName+=V;continue;case k.PROC_INST_BODY:if(!I.procInstBody&&T(V))continue;V==="?"?I.state=k.PROC_INST_ENDING:I.procInstBody+=V;continue;case k.PROC_INST_ENDING:V===">"?(ne(I,"onprocessinginstruction",{name:I.procInstName,body:I.procInstBody}),I.procInstName=I.procInstBody="",I.state=k.TEXT):(I.procInstBody+="?"+V,I.state=k.PROC_INST_BODY);continue;case k.OPEN_TAG:U(S,V)?I.tagName+=V:(z(I),V===">"?oe(I):V==="/"?I.state=k.OPEN_TAG_SLASH:(T(V)||q(I,"Invalid character in tag name"),I.state=k.ATTRIB));continue;case k.OPEN_TAG_SLASH:V===">"?(oe(I,!0),ue(I)):(q(I,"Forward-slash in opening tag not followed by >"),I.state=k.ATTRIB);continue;case k.ATTRIB:if(T(V))continue;V===">"?oe(I):V==="/"?I.state=k.OPEN_TAG_SLASH:U(_,V)?(I.attribName=V,I.attribValue="",I.state=k.ATTRIB_NAME):q(I,"Invalid attribute name");continue;case k.ATTRIB_NAME:V==="="?I.state=k.ATTRIB_VALUE:V===">"?(q(I,"Attribute without value"),I.attribValue=I.attribName,J(I),oe(I)):T(V)?I.state=k.ATTRIB_NAME_SAW_WHITE:U(S,V)?I.attribName+=V:q(I,"Invalid attribute name");continue;case k.ATTRIB_NAME_SAW_WHITE:if(V==="=")I.state=k.ATTRIB_VALUE;else{if(T(V))continue;q(I,"Attribute without value"),I.tag.attributes[I.attribName]="",I.attribValue="",ne(I,"onattribute",{name:I.attribName,value:""}),I.attribName="",V===">"?oe(I):U(_,V)?(I.attribName=V,I.state=k.ATTRIB_NAME):(q(I,"Invalid attribute name"),I.state=k.ATTRIB)}continue;case k.ATTRIB_VALUE:if(T(V))continue;P(V)?(I.q=V,I.state=k.ATTRIB_VALUE_QUOTED):(q(I,"Unquoted attribute value"),I.state=k.ATTRIB_VALUE_UNQUOTED,I.attribValue=V);continue;case k.ATTRIB_VALUE_QUOTED:if(V!==I.q){V==="&"?I.state=k.ATTRIB_VALUE_ENTITY_Q:I.attribValue+=V;continue}J(I),I.q="",I.state=k.ATTRIB_VALUE_CLOSED;continue;case k.ATTRIB_VALUE_CLOSED:T(V)?I.state=k.ATTRIB:V===">"?oe(I):V==="/"?I.state=k.OPEN_TAG_SLASH:U(_,V)?(q(I,"No whitespace between attributes"),I.attribName=V,I.attribValue="",I.state=k.ATTRIB_NAME):q(I,"Invalid attribute name");continue;case k.ATTRIB_VALUE_UNQUOTED:if(!M(V)){V==="&"?I.state=k.ATTRIB_VALUE_ENTITY_U:I.attribValue+=V;continue}J(I),V===">"?oe(I):I.state=k.ATTRIB;continue;case k.CLOSE_TAG:if(I.tagName)V===">"?ue(I):U(S,V)?I.tagName+=V:I.script?(I.script+="</"+I.tagName,I.tagName="",I.state=k.SCRIPT):(T(V)||q(I,"Invalid tagname in closing tag"),I.state=k.CLOSE_TAG_SAW_WHITE);else{if(T(V))continue;$(_,V)?I.script?(I.script+="</"+V,I.state=k.SCRIPT):q(I,"Invalid tagname in closing tag."):I.tagName=V}continue;case k.CLOSE_TAG_SAW_WHITE:if(T(V))continue;V===">"?ue(I):q(I,"Invalid characters in closing tag");continue;case k.TEXT_ENTITY:case k.ATTRIB_VALUE_ENTITY_Q:case k.ATTRIB_VALUE_ENTITY_U:var Fe,Je;switch(I.state){case k.TEXT_ENTITY:Fe=k.TEXT,Je="textNode";break;case k.ATTRIB_VALUE_ENTITY_Q:Fe=k.ATTRIB_VALUE_QUOTED,Je="attribValue";break;case k.ATTRIB_VALUE_ENTITY_U:Fe=k.ATTRIB_VALUE_UNQUOTED,Je="attribValue";break}V===";"?(I[Je]+=we(I),I.entity="",I.state=Fe):U(I.entity.length?w:D,V)?I.entity+=V:(q(I,"Invalid character in entity name"),I[Je]+="&"+I.entity+V,I.entity="",I.state=Fe);continue;default:throw new Error(I,"Unknown state: "+I.state)}return I.position>=I.bufferCheckPosition&&n(I),I}String.fromCodePoint||function(){var F=String.fromCharCode,I=Math.floor,Q=function(){var V=16384,Se=[],ke,Fe,Je=-1,rt=arguments.length;if(!rt)return"";for(var Rt="";++Je<rt;){var Ce=Number(arguments[Je]);if(!isFinite(Ce)||Ce<0||Ce>1114111||I(Ce)!==Ce)throw RangeError("Invalid code point: "+Ce);Ce<=65535?Se.push(Ce):(Ce-=65536,ke=(Ce>>10)+55296,Fe=Ce%1024+56320,Se.push(ke,Fe)),(Je+1===rt||Se.length>V)&&(Rt+=F.apply(null,Se),Se.length=0)}return Rt};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:Q,configurable:!0,writable:!0}):String.fromCodePoint=Q}()})(typeof Qd>"u"?Qd.sax={}:Qd)});var Dn=L((NL,kr)=>{(function(){var t,e,r,n,i,s,o,u,a,c,f,d,m=[].slice,h={}.hasOwnProperty;t=function(){var y,_,S,D,w,T;if(T=arguments[0],w=2<=arguments.length?m.call(arguments,1):[],s(Object.assign))Object.assign.apply(null,arguments);else for(y=0,S=w.length;y<S;y++)if(D=w[y],D!=null)for(_ in D)h.call(D,_)&&(T[_]=D[_]);return T},s=function(y){return!!y&&Object.prototype.toString.call(y)==="[object Function]"},o=function(y){var _;return!!y&&((_=typeof y)=="function"||_==="object")},n=function(y){return s(Array.isArray)?Array.isArray(y):Object.prototype.toString.call(y)==="[object Array]"},i=function(y){var _;if(n(y))return!y.length;for(_ in y)if(h.call(y,_))return!1;return!0},u=function(y){var _,S;return o(y)&&(S=Object.getPrototypeOf(y))&&(_=S.constructor)&&typeof _=="function"&&_ instanceof _&&Function.prototype.toString.call(_)===Function.prototype.toString.call(Object)},d=function(y){return(y.split(/[-_\s]+|(?=[A-Z][a-z])/)||[]).filter(function(_){return!!_})},e=function(y){var _,S,D,w,T,P;for(w="",T=d(y),S=_=0,D=T.length;_<D;S=++_)P=T[S],w+=S?r(P.toLowerCase()):P.toLowerCase();return w},f=function(y){var _,S,D,w,T,P;for(w="",T=d(y),S=_=0,D=T.length;_<D;S=++_)P=T[S],w+=r(P.toLowerCase());return w},a=function(y){var _,S,D,w,T,P;for(w="",T=d(y),S=_=0,D=T.length;_<D;S=++_)P=T[S],w+=(S?"-":"")+P.toLowerCase();return w},c=function(y){var _,S,D,w,T,P;for(w="",T=d(y),S=_=0,D=T.length;_<D;S=++_)P=T[S],w+=(S?"_":"")+P.toLowerCase();return w},r=function(y){return y.charAt(0).toUpperCase()+y.slice(1)},kr.exports.assign=t,kr.exports.isFunction=s,kr.exports.isObject=o,kr.exports.isArray=n,kr.exports.isEmpty=i,kr.exports.isPlainObject=u,kr.exports.camelCase=e,kr.exports.titleCase=f,kr.exports.kebabCase=a,kr.exports.snakeCase=c,kr.exports.capitalize=r,kr.exports.words=d}).call(NL)});var Gw=L((FL,LL)=>{(function(){var t;LL.exports=t=function(){function e(r,n,i){if(this.options=r.options,this.stringify=r.stringify,n==null)throw new Error("Missing attribute name of element "+r.name);if(i==null)throw new Error("Missing attribute value for attribute "+n+" of element "+r.name);this.name=this.stringify.attName(n),this.value=this.stringify.attValue(i)}return e.prototype.clone=function(){return Object.create(this)},e.prototype.toString=function(r){return this.options.writer.set(r).attribute(this)},e}()}).call(FL)});var hc=L((kL,AL)=>{(function(){var t,e,r,n,i,s,o=function(a,c){for(var f in c)u.call(c,f)&&(a[f]=c[f]);function d(){this.constructor=a}return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a},u={}.hasOwnProperty;s=Dn(),i=s.isObject,n=s.isFunction,r=Dr(),t=Gw(),AL.exports=e=function(a){o(c,a);function c(f,d,m){if(c.__super__.constructor.call(this,f),d==null)throw new Error("Missing element name");this.name=this.stringify.eleName(d),this.attributes={},m!=null&&this.attribute(m),f.isDocument&&(this.isRoot=!0,this.documentObject=f,f.rootObject=this)}return c.prototype.clone=function(){var f,d,m,h;m=Object.create(this),m.isRoot&&(m.documentObject=null),m.attributes={},h=this.attributes;for(d in h)u.call(h,d)&&(f=h[d],m.attributes[d]=f.clone());return m.children=[],this.children.forEach(function(y){var _;return _=y.clone(),_.parent=m,m.children.push(_)}),m},c.prototype.attribute=function(f,d){var m,h;if(f!=null&&(f=f.valueOf()),i(f))for(m in f)u.call(f,m)&&(h=f[m],this.attribute(m,h));else n(d)&&(d=d.apply()),(!this.options.skipNullAttributes||d!=null)&&(this.attributes[f]=new t(this,f,d));return this},c.prototype.removeAttribute=function(f){var d,m,h;if(f==null)throw new Error("Missing attribute name");if(f=f.valueOf(),Array.isArray(f))for(m=0,h=f.length;m<h;m++)d=f[m],delete this.attributes[d];else delete this.attributes[f];return this},c.prototype.toString=function(f){return this.options.writer.set(f).element(this)},c.prototype.att=function(f,d){return this.attribute(f,d)},c.prototype.a=function(f,d){return this.attribute(f,d)},c}(r)}).call(kL)});var pc=L((qL,ML)=>{(function(){var t,e,r=function(i,s){for(var o in s)n.call(s,o)&&(i[o]=s[o]);function u(){this.constructor=i}return u.prototype=s.prototype,i.prototype=new u,i.__super__=s.prototype,i},n={}.hasOwnProperty;e=Dr(),ML.exports=t=function(i){r(s,i);function s(o,u){if(s.__super__.constructor.call(this,o),u==null)throw new Error("Missing CDATA text");this.text=this.stringify.cdata(u)}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(o){return this.options.writer.set(o).cdata(this)},s}(e)}).call(qL)});var mc=L((jL,UL)=>{(function(){var t,e,r=function(i,s){for(var o in s)n.call(s,o)&&(i[o]=s[o]);function u(){this.constructor=i}return u.prototype=s.prototype,i.prototype=new u,i.__super__=s.prototype,i},n={}.hasOwnProperty;e=Dr(),UL.exports=t=function(i){r(s,i);function s(o,u){if(s.__super__.constructor.call(this,o),u==null)throw new Error("Missing comment text");this.text=this.stringify.comment(u)}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(o){return this.options.writer.set(o).comment(this)},s}(e)}).call(jL)});var gc=L((BL,HL)=>{(function(){var t,e,r,n=function(s,o){for(var u in o)i.call(o,u)&&(s[u]=o[u]);function a(){this.constructor=s}return a.prototype=o.prototype,s.prototype=new a,s.__super__=o.prototype,s},i={}.hasOwnProperty;r=Dn().isObject,e=Dr(),HL.exports=t=function(s){n(o,s);function o(u,a,c,f){var d;o.__super__.constructor.call(this,u),r(a)&&(d=a,a=d.version,c=d.encoding,f=d.standalone),a||(a="1.0"),this.version=this.stringify.xmlVersion(a),c!=null&&(this.encoding=this.stringify.xmlEncoding(c)),f!=null&&(this.standalone=this.stringify.xmlStandalone(f))}return o.prototype.toString=function(u){return this.options.writer.set(u).declaration(this)},o}(e)}).call(BL)});var vc=L((WL,$L)=>{(function(){var t,e,r=function(i,s){for(var o in s)n.call(s,o)&&(i[o]=s[o]);function u(){this.constructor=i}return u.prototype=s.prototype,i.prototype=new u,i.__super__=s.prototype,i},n={}.hasOwnProperty;e=Dr(),$L.exports=t=function(i){r(s,i);function s(o,u,a,c,f,d){if(s.__super__.constructor.call(this,o),u==null)throw new Error("Missing DTD element name");if(a==null)throw new Error("Missing DTD attribute name");if(!c)throw new Error("Missing DTD attribute type");if(!f)throw new Error("Missing DTD attribute default");if(f.indexOf("#")!==0&&(f="#"+f),!f.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT");if(d&&!f.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT");this.elementName=this.stringify.eleName(u),this.attributeName=this.stringify.attName(a),this.attributeType=this.stringify.dtdAttType(c),this.defaultValue=this.stringify.dtdAttDefault(d),this.defaultValueType=f}return s.prototype.toString=function(o){return this.options.writer.set(o).dtdAttList(this)},s}(e)}).call(WL)});var yc=L((zL,GL)=>{(function(){var t,e,r,n=function(s,o){for(var u in o)i.call(o,u)&&(s[u]=o[u]);function a(){this.constructor=s}return a.prototype=o.prototype,s.prototype=new a,s.__super__=o.prototype,s},i={}.hasOwnProperty;r=Dn().isObject,e=Dr(),GL.exports=t=function(s){n(o,s);function o(u,a,c,f){if(o.__super__.constructor.call(this,u),c==null)throw new Error("Missing entity name");if(f==null)throw new Error("Missing entity value");if(this.pe=!!a,this.name=this.stringify.eleName(c),!r(f))this.value=this.stringify.dtdEntityValue(f);else{if(!f.pubID&&!f.sysID)throw new Error("Public and/or system identifiers are required for an external entity");if(f.pubID&&!f.sysID)throw new Error("System identifier is required for a public external entity");if(f.pubID!=null&&(this.pubID=this.stringify.dtdPubID(f.pubID)),f.sysID!=null&&(this.sysID=this.stringify.dtdSysID(f.sysID)),f.nData!=null&&(this.nData=this.stringify.dtdNData(f.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity")}}return o.prototype.toString=function(u){return this.options.writer.set(u).dtdEntity(this)},o}(e)}).call(zL)});var _c=L((VL,KL)=>{(function(){var t,e,r=function(i,s){for(var o in s)n.call(s,o)&&(i[o]=s[o]);function u(){this.constructor=i}return u.prototype=s.prototype,i.prototype=new u,i.__super__=s.prototype,i},n={}.hasOwnProperty;e=Dr(),KL.exports=t=function(i){r(s,i);function s(o,u,a){if(s.__super__.constructor.call(this,o),u==null)throw new Error("Missing DTD element name");a||(a="(#PCDATA)"),Array.isArray(a)&&(a="("+a.join(",")+")"),this.name=this.stringify.eleName(u),this.value=this.stringify.dtdElementValue(a)}return s.prototype.toString=function(o){return this.options.writer.set(o).dtdElement(this)},s}(e)}).call(VL)});var wc=L((XL,YL)=>{(function(){var t,e,r=function(i,s){for(var o in s)n.call(s,o)&&(i[o]=s[o]);function u(){this.constructor=i}return u.prototype=s.prototype,i.prototype=new u,i.__super__=s.prototype,i},n={}.hasOwnProperty;e=Dr(),YL.exports=t=function(i){r(s,i);function s(o,u,a){if(s.__super__.constructor.call(this,o),u==null)throw new Error("Missing notation name");if(!a.pubID&&!a.sysID)throw new Error("Public or system identifiers are required for an external entity");this.name=this.stringify.eleName(u),a.pubID!=null&&(this.pubID=this.stringify.dtdPubID(a.pubID)),a.sysID!=null&&(this.sysID=this.stringify.dtdSysID(a.sysID))}return s.prototype.toString=function(o){return this.options.writer.set(o).dtdNotation(this)},s}(e)}).call(XL)});var Ec=L((JL,ZL)=>{(function(){var t,e,r,n,i,s,o,u=function(c,f){for(var d in f)a.call(f,d)&&(c[d]=f[d]);function m(){this.constructor=c}return m.prototype=f.prototype,c.prototype=new m,c.__super__=f.prototype,c},a={}.hasOwnProperty;o=Dn().isObject,s=Dr(),t=vc(),r=yc(),e=_c(),n=wc(),ZL.exports=i=function(c){u(f,c);function f(d,m,h){var y,_;f.__super__.constructor.call(this,d),this.documentObject=d,o(m)&&(y=m,m=y.pubID,h=y.sysID),h==null&&(_=[m,h],h=_[0],m=_[1]),m!=null&&(this.pubID=this.stringify.dtdPubID(m)),h!=null&&(this.sysID=this.stringify.dtdSysID(h))}return f.prototype.element=function(d,m){var h;return h=new e(this,d,m),this.children.push(h),this},f.prototype.attList=function(d,m,h,y,_){var S;return S=new t(this,d,m,h,y,_),this.children.push(S),this},f.prototype.entity=function(d,m){var h;return h=new r(this,!1,d,m),this.children.push(h),this},f.prototype.pEntity=function(d,m){var h;return h=new r(this,!0,d,m),this.children.push(h),this},f.prototype.notation=function(d,m){var h;return h=new n(this,d,m),this.children.push(h),this},f.prototype.toString=function(d){return this.options.writer.set(d).docType(this)},f.prototype.ele=function(d,m){return this.element(d,m)},f.prototype.att=function(d,m,h,y,_){return this.attList(d,m,h,y,_)},f.prototype.ent=function(d,m){return this.entity(d,m)},f.prototype.pent=function(d,m){return this.pEntity(d,m)},f.prototype.not=function(d,m){return this.notation(d,m)},f.prototype.up=function(){return this.root()||this.documentObject},f}(s)}).call(JL)});var bc=L((QL,e1)=>{(function(){var t,e,r=function(i,s){for(var o in s)n.call(s,o)&&(i[o]=s[o]);function u(){this.constructor=i}return u.prototype=s.prototype,i.prototype=new u,i.__super__=s.prototype,i},n={}.hasOwnProperty;t=Dr(),e1.exports=e=function(i){r(s,i);function s(o,u){if(s.__super__.constructor.call(this,o),u==null)throw new Error("Missing raw text");this.value=this.stringify.raw(u)}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(o){return this.options.writer.set(o).raw(this)},s}(t)}).call(QL)});var Cc=L((t1,r1)=>{(function(){var t,e,r=function(i,s){for(var o in s)n.call(s,o)&&(i[o]=s[o]);function u(){this.constructor=i}return u.prototype=s.prototype,i.prototype=new u,i.__super__=s.prototype,i},n={}.hasOwnProperty;t=Dr(),r1.exports=e=function(i){r(s,i);function s(o,u){if(s.__super__.constructor.call(this,o),u==null)throw new Error("Missing element text");this.value=this.stringify.eleText(u)}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(o){return this.options.writer.set(o).text(this)},s}(t)}).call(t1)});var Sc=L((n1,i1)=>{(function(){var t,e,r=function(i,s){for(var o in s)n.call(s,o)&&(i[o]=s[o]);function u(){this.constructor=i}return u.prototype=s.prototype,i.prototype=new u,i.__super__=s.prototype,i},n={}.hasOwnProperty;t=Dr(),i1.exports=e=function(i){r(s,i);function s(o,u,a){if(s.__super__.constructor.call(this,o),u==null)throw new Error("Missing instruction target");this.target=this.stringify.insTarget(u),a&&(this.value=this.stringify.insValue(a))}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(o){return this.options.writer.set(o).processingInstruction(this)},s}(t)}).call(n1)});var Dr=L((s1,o1)=>{(function(){var t,e,r,n,i,s,o,u,a,c,f,d,m,h={}.hasOwnProperty;m=Dn(),d=m.isObject,f=m.isFunction,c=m.isEmpty,i=null,t=null,e=null,r=null,n=null,u=null,a=null,o=null,o1.exports=s=function(){function y(_){this.parent=_,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],i||(i=hc(),t=pc(),e=mc(),r=gc(),n=Ec(),u=bc(),a=Cc(),o=Sc())}return y.prototype.element=function(_,S,D){var w,T,P,M,U,$,k,K,ie,ne;if($=null,S==null&&(S={}),S=S.valueOf(),d(S)||(ie=[S,D],D=ie[0],S=ie[1]),_!=null&&(_=_.valueOf()),Array.isArray(_))for(P=0,k=_.length;P<k;P++)T=_[P],$=this.element(T);else if(f(_))$=this.element(_.apply());else if(d(_)){for(U in _)if(h.call(_,U))if(ne=_[U],f(ne)&&(ne=ne.apply()),d(ne)&&c(ne)&&(ne=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&U.indexOf(this.stringify.convertAttKey)===0)$=this.attribute(U.substr(this.stringify.convertAttKey.length),ne);else if(!this.options.separateArrayItems&&Array.isArray(ne))for(M=0,K=ne.length;M<K;M++)T=ne[M],w={},w[U]=T,$=this.element(w);else d(ne)?($=this.element(U),$.element(ne)):$=this.element(U,ne)}else!this.options.ignoreDecorators&&this.stringify.convertTextKey&&_.indexOf(this.stringify.convertTextKey)===0?$=this.text(D):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&_.indexOf(this.stringify.convertCDataKey)===0?$=this.cdata(D):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&_.indexOf(this.stringify.convertCommentKey)===0?$=this.comment(D):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&_.indexOf(this.stringify.convertRawKey)===0?$=this.raw(D):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&_.indexOf(this.stringify.convertPIKey)===0?$=this.instruction(_.substr(this.stringify.convertPIKey.length),D):$=this.node(_,S,D);if($==null)throw new Error("Could not create any elements with: "+_);return $},y.prototype.insertBefore=function(_,S,D){var w,T,P;if(this.isRoot)throw new Error("Cannot insert elements at root level");return T=this.parent.children.indexOf(this),P=this.parent.children.splice(T),w=this.parent.element(_,S,D),Array.prototype.push.apply(this.parent.children,P),w},y.prototype.insertAfter=function(_,S,D){var w,T,P;if(this.isRoot)throw new Error("Cannot insert elements at root level");return T=this.parent.children.indexOf(this),P=this.parent.children.splice(T+1),w=this.parent.element(_,S,D),Array.prototype.push.apply(this.parent.children,P),w},y.prototype.remove=function(){var _,S;if(this.isRoot)throw new Error("Cannot remove the root element");return _=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[_,_-_+1].concat(S=[])),this.parent},y.prototype.node=function(_,S,D){var w,T;return _!=null&&(_=_.valueOf()),S||(S={}),S=S.valueOf(),d(S)||(T=[S,D],D=T[0],S=T[1]),w=new i(this,_,S),D!=null&&w.text(D),this.children.push(w),w},y.prototype.text=function(_){var S;return S=new a(this,_),this.children.push(S),this},y.prototype.cdata=function(_){var S;return S=new t(this,_),this.children.push(S),this},y.prototype.comment=function(_){var S;return S=new e(this,_),this.children.push(S),this},y.prototype.commentBefore=function(_){var S,D,w;return D=this.parent.children.indexOf(this),w=this.parent.children.splice(D),S=this.parent.comment(_),Array.prototype.push.apply(this.parent.children,w),this},y.prototype.commentAfter=function(_){var S,D,w;return D=this.parent.children.indexOf(this),w=this.parent.children.splice(D+1),S=this.parent.comment(_),Array.prototype.push.apply(this.parent.children,w),this},y.prototype.raw=function(_){var S;return S=new u(this,_),this.children.push(S),this},y.prototype.instruction=function(_,S){var D,w,T,P,M;if(_!=null&&(_=_.valueOf()),S!=null&&(S=S.valueOf()),Array.isArray(_))for(P=0,M=_.length;P<M;P++)D=_[P],this.instruction(D);else if(d(_))for(D in _)h.call(_,D)&&(w=_[D],this.instruction(D,w));else f(S)&&(S=S.apply()),T=new o(this,_,S),this.children.push(T);return this},y.prototype.instructionBefore=function(_,S){var D,w,T;return w=this.parent.children.indexOf(this),T=this.parent.children.splice(w),D=this.parent.instruction(_,S),Array.prototype.push.apply(this.parent.children,T),this},y.prototype.instructionAfter=function(_,S){var D,w,T;return w=this.parent.children.indexOf(this),T=this.parent.children.splice(w+1),D=this.parent.instruction(_,S),Array.prototype.push.apply(this.parent.children,T),this},y.prototype.declaration=function(_,S,D){var w,T;return w=this.document(),T=new r(w,_,S,D),w.children[0]instanceof r?w.children[0]=T:w.children.unshift(T),w.root()||w},y.prototype.doctype=function(_,S){var D,w,T,P,M,U,$,k,K,ie;for(w=this.document(),T=new n(w,_,S),K=w.children,P=M=0,$=K.length;M<$;P=++M)if(D=K[P],D instanceof n)return w.children[P]=T,T;for(ie=w.children,P=U=0,k=ie.length;U<k;P=++U)if(D=ie[P],D.isRoot)return w.children.splice(P,0,T),T;return w.children.push(T),T},y.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},y.prototype.root=function(){var _;for(_=this;_;){if(_.isDocument)return _.rootObject;if(_.isRoot)return _;_=_.parent}},y.prototype.document=function(){var _;for(_=this;_;){if(_.isDocument)return _;_=_.parent}},y.prototype.end=function(_){return this.document().end(_)},y.prototype.prev=function(){var _;if(_=this.parent.children.indexOf(this),_<1)throw new Error("Already at the first node");return this.parent.children[_-1]},y.prototype.next=function(){var _;if(_=this.parent.children.indexOf(this),_===-1||_===this.parent.children.length-1)throw new Error("Already at the last node");return this.parent.children[_+1]},y.prototype.importDocument=function(_){var S;return S=_.root().clone(),S.parent=this,S.isRoot=!1,this.children.push(S),this},y.prototype.ele=function(_,S,D){return this.element(_,S,D)},y.prototype.nod=function(_,S,D){return this.node(_,S,D)},y.prototype.txt=function(_){return this.text(_)},y.prototype.dat=function(_){return this.cdata(_)},y.prototype.com=function(_){return this.comment(_)},y.prototype.ins=function(_,S){return this.instruction(_,S)},y.prototype.doc=function(){return this.document()},y.prototype.dec=function(_,S,D){return this.declaration(_,S,D)},y.prototype.dtd=function(_,S){return this.doctype(_,S)},y.prototype.e=function(_,S,D){return this.element(_,S,D)},y.prototype.n=function(_,S,D){return this.node(_,S,D)},y.prototype.t=function(_){return this.text(_)},y.prototype.d=function(_){return this.cdata(_)},y.prototype.c=function(_){return this.comment(_)},y.prototype.r=function(_){return this.raw(_)},y.prototype.i=function(_,S){return this.instruction(_,S)},y.prototype.u=function(){return this.up()},y.prototype.importXMLBuilder=function(_){return this.importDocument(_)},y}()}).call(s1)});var Vw=L((a1,u1)=>{(function(){var t,e,r,n,i,s,o=function(a,c){return function(){return a.apply(c,arguments)}},u={}.hasOwnProperty;n=Dn(),e=n.camelCase,s=n.titleCase,r=n.kebabCase,i=n.snakeCase,u1.exports=t=function(){function a(c){this.assertLegalChar=o(this.assertLegalChar,this);var f,d,m;c||(c={}),this.allowSurrogateChars=c.allowSurrogateChars,this.noDoubleEncoding=c.noDoubleEncoding,this.textCase=c.textCase,d=c.stringify||{};for(f in d)u.call(d,f)&&(m=d[f],this[f]=m)}return a.prototype.eleName=function(c){return c=""+c||"",c=this.applyCase(c),this.assertLegalChar(c)},a.prototype.eleText=function(c){return c=""+c||"",this.assertLegalChar(this.elEscape(c))},a.prototype.cdata=function(c){return c=""+c||"",c=c.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(c)},a.prototype.comment=function(c){if(c=""+c||"",c.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+c);return this.assertLegalChar(c)},a.prototype.raw=function(c){return""+c||""},a.prototype.attName=function(c){return c=""+c||"",c=this.applyCase(c)},a.prototype.attValue=function(c){return c=""+c||"",this.attEscape(c)},a.prototype.insTarget=function(c){return""+c||""},a.prototype.insValue=function(c){if(c=""+c||"",c.match(/\?>/))throw new Error("Invalid processing instruction value: "+c);return c},a.prototype.xmlVersion=function(c){if(c=""+c||"",!c.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+c);return c},a.prototype.xmlEncoding=function(c){if(c=""+c||"",!c.match(/^[A-Za-z](?:[A-Za-z0-9._-]|-)*$/))throw new Error("Invalid encoding: "+c);return c},a.prototype.xmlStandalone=function(c){return c?"yes":"no"},a.prototype.dtdPubID=function(c){return""+c||""},a.prototype.dtdSysID=function(c){return""+c||""},a.prototype.dtdElementValue=function(c){return""+c||""},a.prototype.dtdAttType=function(c){return""+c||""},a.prototype.dtdAttDefault=function(c){return c!=null?""+c||"":c},a.prototype.dtdEntityValue=function(c){return""+c||""},a.prototype.dtdNData=function(c){return""+c||""},a.prototype.convertAttKey="@",a.prototype.convertPIKey="?",a.prototype.convertTextKey="#text",a.prototype.convertCDataKey="#cdata",a.prototype.convertCommentKey="#comment",a.prototype.convertRawKey="#raw",a.prototype.assertLegalChar=function(c){var f,d;if(this.allowSurrogateChars?f=/[\u0000-\u0008\u000B-\u000C\u000E-\u001F\uFFFE-\uFFFF]/:f=/[\u0000-\u0008\u000B-\u000C\u000E-\u001F\uD800-\uDFFF\uFFFE-\uFFFF]/,d=c.match(f),d)throw new Error("Invalid character ("+d+") in string: "+c+" at index "+d.index);return c},a.prototype.applyCase=function(c){switch(this.textCase){case"camel":return e(c);case"title":return s(c);case"kebab":case"lower":return r(c);case"snake":return i(c);case"upper":return r(c).toUpperCase();default:return c}},a.prototype.elEscape=function(c){var f;return f=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,c.replace(f,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},a.prototype.attEscape=function(c){var f;return f=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,c.replace(f,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},a}()}).call(a1)});var Kw=L((c1,l1)=>{(function(){var t,e={}.hasOwnProperty;l1.exports=t=function(){function r(n){var i,s,o,u,a,c,f;n||(n={}),this.pretty=n.pretty||!1,this.allowEmpty=(s=n.allowEmpty)!=null?s:!1,this.pretty?(this.indent=(o=n.indent)!=null?o:"  ",this.newline=(u=n.newline)!=null?u:`
`,this.offset=(a=n.offset)!=null?a:0):(this.indent="",this.newline="",this.offset=0),c=n.writer||{};for(i in c)e.call(c,i)&&(f=c[i],this[i]=f)}return r.prototype.set=function(n){var i,s,o;n||(n={}),"pretty"in n&&(this.pretty=n.pretty),"allowEmpty"in n&&(this.allowEmpty=n.allowEmpty),this.pretty?(this.indent="indent"in n?n.indent:"  ",this.newline="newline"in n?n.newline:`
`,this.offset="offset"in n?n.offset:0):(this.indent="",this.newline="",this.offset=0),s=n.writer||{};for(i in s)e.call(s,i)&&(o=s[i],this[i]=o);return this},r.prototype.space=function(n){return this.pretty?new Array((n||0)+this.offset+1).join(this.indent):""},r}()}).call(c1)});var th=L((f1,d1)=>{(function(){var t,e,r,n,i,s,o,u,a,c,f,d,m,h,y=function(S,D){for(var w in D)_.call(D,w)&&(S[w]=D[w]);function T(){this.constructor=S}return T.prototype=D.prototype,S.prototype=new T,S.__super__=D.prototype,S},_={}.hasOwnProperty;o=gc(),u=Ec(),t=pc(),e=mc(),a=hc(),f=bc(),m=Cc(),c=Sc(),r=vc(),n=_c(),i=yc(),s=wc(),h=Kw(),d1.exports=d=function(S){y(D,S);function D(w){D.__super__.constructor.call(this,w)}return D.prototype.document=function(w){var T,P,M,U,$;for(U="",$=w.children,P=0,M=$.length;P<M;P++)T=$[P],U+=function(){switch(!1){case!(T instanceof o):return this.declaration(T);case!(T instanceof u):return this.docType(T);case!(T instanceof e):return this.comment(T);case!(T instanceof c):return this.processingInstruction(T);default:return this.element(T,0)}}.call(this);return this.pretty&&U.slice(-this.newline.length)===this.newline&&(U=U.slice(0,-this.newline.length)),U},D.prototype.attribute=function(w){return" "+w.name+'="'+w.value+'"'},D.prototype.cdata=function(w,T){return this.space(T)+"<![CDATA["+w.text+"]]>"+this.newline},D.prototype.comment=function(w,T){return this.space(T)+"<!-- "+w.text+" -->"+this.newline},D.prototype.declaration=function(w,T){var P;return P=this.space(T),P+='<?xml version="'+w.version+'"',w.encoding!=null&&(P+=' encoding="'+w.encoding+'"'),w.standalone!=null&&(P+=' standalone="'+w.standalone+'"'),P+="?>",P+=this.newline,P},D.prototype.docType=function(w,T){var P,M,U,$,k;if(T||(T=0),$=this.space(T),$+="<!DOCTYPE "+w.root().name,w.pubID&&w.sysID?$+=' PUBLIC "'+w.pubID+'" "'+w.sysID+'"':w.sysID&&($+=' SYSTEM "'+w.sysID+'"'),w.children.length>0){for($+=" [",$+=this.newline,k=w.children,M=0,U=k.length;M<U;M++)P=k[M],$+=function(){switch(!1){case!(P instanceof r):return this.dtdAttList(P,T+1);case!(P instanceof n):return this.dtdElement(P,T+1);case!(P instanceof i):return this.dtdEntity(P,T+1);case!(P instanceof s):return this.dtdNotation(P,T+1);case!(P instanceof t):return this.cdata(P,T+1);case!(P instanceof e):return this.comment(P,T+1);case!(P instanceof c):return this.processingInstruction(P,T+1);default:throw new Error("Unknown DTD node type: "+P.constructor.name)}}.call(this);$+="]"}return $+=">",$+=this.newline,$},D.prototype.element=function(w,T){var P,M,U,$,k,K,ie,ne,G;T||(T=0),G=this.space(T),K="",K+=G+"<"+w.name,ie=w.attributes;for(k in ie)_.call(ie,k)&&(P=ie[k],K+=this.attribute(P));if(w.children.length===0||w.children.every(function(te){return te.value===""}))this.allowEmpty?K+="></"+w.name+">"+this.newline:K+="/>"+this.newline;else if(this.pretty&&w.children.length===1&&w.children[0].value!=null)K+=">",K+=w.children[0].value,K+="</"+w.name+">"+this.newline;else{for(K+=">"+this.newline,ne=w.children,U=0,$=ne.length;U<$;U++)M=ne[U],K+=function(){switch(!1){case!(M instanceof t):return this.cdata(M,T+1);case!(M instanceof e):return this.comment(M,T+1);case!(M instanceof a):return this.element(M,T+1);case!(M instanceof f):return this.raw(M,T+1);case!(M instanceof m):return this.text(M,T+1);case!(M instanceof c):return this.processingInstruction(M,T+1);default:throw new Error("Unknown XML node type: "+M.constructor.name)}}.call(this);K+=G+"</"+w.name+">"+this.newline}return K},D.prototype.processingInstruction=function(w,T){var P;return P=this.space(T)+"<?"+w.target,w.value&&(P+=" "+w.value),P+="?>"+this.newline,P},D.prototype.raw=function(w,T){return this.space(T)+w.value+this.newline},D.prototype.text=function(w,T){return this.space(T)+w.value+this.newline},D.prototype.dtdAttList=function(w,T){var P;return P=this.space(T)+"<!ATTLIST "+w.elementName+" "+w.attributeName+" "+w.attributeType,w.defaultValueType!=="#DEFAULT"&&(P+=" "+w.defaultValueType),w.defaultValue&&(P+=' "'+w.defaultValue+'"'),P+=">"+this.newline,P},D.prototype.dtdElement=function(w,T){return this.space(T)+"<!ELEMENT "+w.name+" "+w.value+">"+this.newline},D.prototype.dtdEntity=function(w,T){var P;return P=this.space(T)+"<!ENTITY",w.pe&&(P+=" %"),P+=" "+w.name,w.value?P+=' "'+w.value+'"':(w.pubID&&w.sysID?P+=' PUBLIC "'+w.pubID+'" "'+w.sysID+'"':w.sysID&&(P+=' SYSTEM "'+w.sysID+'"'),w.nData&&(P+=" NDATA "+w.nData)),P+=">"+this.newline,P},D.prototype.dtdNotation=function(w,T){var P;return P=this.space(T)+"<!NOTATION "+w.name,w.pubID&&w.sysID?P+=' PUBLIC "'+w.pubID+'" "'+w.sysID+'"':w.pubID?P+=' PUBLIC "'+w.pubID+'"':w.sysID&&(P+=' SYSTEM "'+w.sysID+'"'),P+=">"+this.newline,P},D.prototype.openNode=function(w,T){var P,M,U,$;if(T||(T=0),w instanceof a){U=this.space(T)+"<"+w.name,$=w.attributes;for(M in $)_.call($,M)&&(P=$[M],U+=this.attribute(P));return U+=(w.children?">":"/>")+this.newline,U}else return U=this.space(T)+"<!DOCTYPE "+w.rootNodeName,w.pubID&&w.sysID?U+=' PUBLIC "'+w.pubID+'" "'+w.sysID+'"':w.sysID&&(U+=' SYSTEM "'+w.sysID+'"'),U+=(w.children?" [":">")+this.newline,U},D.prototype.closeNode=function(w,T){switch(T||(T=0),!1){case!(w instanceof a):return this.space(T)+"</"+w.name+">"+this.newline;case!(w instanceof u):return this.space(T)+"]>"+this.newline}},D}(h)}).call(f1)});var m1=L((h1,p1)=>{(function(){var t,e,r,n,i,s=function(u,a){for(var c in a)o.call(a,c)&&(u[c]=a[c]);function f(){this.constructor=u}return f.prototype=a.prototype,u.prototype=new f,u.__super__=a.prototype,u},o={}.hasOwnProperty;i=Dn().isPlainObject,e=Dr(),n=Vw(),r=th(),p1.exports=t=function(u){s(a,u);function a(c){a.__super__.constructor.call(this,null),c||(c={}),c.writer||(c.writer=new r),this.options=c,this.stringify=new n(c),this.isDocument=!0}return a.prototype.end=function(c){var f;return c?i(c)&&(f=c,c=this.options.writer.set(f)):c=this.options.writer,c.document(this)},a.prototype.toString=function(c){return this.options.writer.set(c).document(this)},a}(e)}).call(h1)});var y1=L((g1,v1)=>{(function(){var t,e,r,n,i,s,o,u,a,c,f,d,m,h,y,_,S,D,w,T,P={}.hasOwnProperty;T=Dn(),D=T.isObject,S=T.isFunction,w=T.isPlainObject,f=hc(),e=pc(),r=mc(),m=bc(),_=Cc(),d=Sc(),u=gc(),a=Ec(),n=vc(),s=yc(),i=_c(),o=wc(),t=Gw(),y=Vw(),h=th(),v1.exports=c=function(){function M(U,$,k){var K;U||(U={}),U.writer?w(U.writer)&&(K=U.writer,U.writer=new h(K)):U.writer=new h(U),this.options=U,this.writer=U.writer,this.stringify=new y(U),this.onDataCallback=$||function(){},this.onEndCallback=k||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return M.prototype.node=function(U,$,k){var K;if(U==null)throw new Error("Missing node name");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node");return this.openCurrent(),U=U.valueOf(),$==null&&($={}),$=$.valueOf(),D($)||(K=[$,k],k=K[0],$=K[1]),this.currentNode=new f(this,U,$),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,k!=null&&this.text(k),this},M.prototype.element=function(U,$,k){return this.currentNode&&this.currentNode instanceof a?this.dtdElement.apply(this,arguments):this.node(U,$,k)},M.prototype.attribute=function(U,$){var k,K;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode");if(U!=null&&(U=U.valueOf()),D(U))for(k in U)P.call(U,k)&&(K=U[k],this.attribute(k,K));else S($)&&($=$.apply()),(!this.options.skipNullAttributes||$!=null)&&(this.currentNode.attributes[U]=new t(this,U,$));return this},M.prototype.text=function(U){var $;return this.openCurrent(),$=new _(this,U),this.onData(this.writer.text($,this.currentLevel+1)),this},M.prototype.cdata=function(U){var $;return this.openCurrent(),$=new e(this,U),this.onData(this.writer.cdata($,this.currentLevel+1)),this},M.prototype.comment=function(U){var $;return this.openCurrent(),$=new r(this,U),this.onData(this.writer.comment($,this.currentLevel+1)),this},M.prototype.raw=function(U){var $;return this.openCurrent(),$=new m(this,U),this.onData(this.writer.raw($,this.currentLevel+1)),this},M.prototype.instruction=function(U,$){var k,K,ie,ne,G;if(this.openCurrent(),U!=null&&(U=U.valueOf()),$!=null&&($=$.valueOf()),Array.isArray(U))for(k=0,ne=U.length;k<ne;k++)K=U[k],this.instruction(K);else if(D(U))for(K in U)P.call(U,K)&&(ie=U[K],this.instruction(K,ie));else S($)&&($=$.apply()),G=new d(this,U,$),this.onData(this.writer.processingInstruction(G,this.currentLevel+1));return this},M.prototype.declaration=function(U,$,k){var K;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node");return K=new u(this,U,$,k),this.onData(this.writer.declaration(K,this.currentLevel+1)),this},M.prototype.doctype=function(U,$,k){if(this.openCurrent(),U==null)throw new Error("Missing root node name");if(this.root)throw new Error("dtd() must come before the root node");return this.currentNode=new a(this,$,k),this.currentNode.rootNodeName=U,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},M.prototype.dtdElement=function(U,$){var k;return this.openCurrent(),k=new i(this,U,$),this.onData(this.writer.dtdElement(k,this.currentLevel+1)),this},M.prototype.attList=function(U,$,k,K,ie){var ne;return this.openCurrent(),ne=new n(this,U,$,k,K,ie),this.onData(this.writer.dtdAttList(ne,this.currentLevel+1)),this},M.prototype.entity=function(U,$){var k;return this.openCurrent(),k=new s(this,!1,U,$),this.onData(this.writer.dtdEntity(k,this.currentLevel+1)),this},M.prototype.pEntity=function(U,$){var k;return this.openCurrent(),k=new s(this,!0,U,$),this.onData(this.writer.dtdEntity(k,this.currentLevel+1)),this},M.prototype.notation=function(U,$){var k;return this.openCurrent(),k=new o(this,U,$),this.onData(this.writer.dtdNotation(k,this.currentLevel+1)),this},M.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},M.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},M.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},M.prototype.openNode=function(U){if(!U.isOpen)return!this.root&&this.currentLevel===0&&U instanceof f&&(this.root=U),this.onData(this.writer.openNode(U,this.currentLevel)),U.isOpen=!0},M.prototype.closeNode=function(U){if(!U.isClosed)return this.onData(this.writer.closeNode(U,this.currentLevel)),U.isClosed=!0},M.prototype.onData=function(U){return this.documentStarted=!0,this.onDataCallback(U)},M.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},M.prototype.ele=function(){return this.element.apply(this,arguments)},M.prototype.nod=function(U,$,k){return this.node(U,$,k)},M.prototype.txt=function(U){return this.text(U)},M.prototype.dat=function(U){return this.cdata(U)},M.prototype.com=function(U){return this.comment(U)},M.prototype.ins=function(U,$){return this.instruction(U,$)},M.prototype.dec=function(U,$,k){return this.declaration(U,$,k)},M.prototype.dtd=function(U,$,k){return this.doctype(U,$,k)},M.prototype.e=function(U,$,k){return this.element(U,$,k)},M.prototype.n=function(U,$,k){return this.node(U,$,k)},M.prototype.t=function(U){return this.text(U)},M.prototype.d=function(U){return this.cdata(U)},M.prototype.c=function(U){return this.comment(U)},M.prototype.r=function(U){return this.raw(U)},M.prototype.i=function(U,$){return this.instruction(U,$)},M.prototype.att=function(){return this.currentNode&&this.currentNode instanceof a?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},M.prototype.a=function(){return this.currentNode&&this.currentNode instanceof a?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},M.prototype.ent=function(U,$){return this.entity(U,$)},M.prototype.pent=function(U,$){return this.pEntity(U,$)},M.prototype.not=function(U,$){return this.notation(U,$)},M}()}).call(g1)});var E1=L((_1,w1)=>{(function(){var t,e,r,n,i,s,o,u,a,c,f,d,m,h,y=function(S,D){for(var w in D)_.call(D,w)&&(S[w]=D[w]);function T(){this.constructor=S}return T.prototype=D.prototype,S.prototype=new T,S.__super__=D.prototype,S},_={}.hasOwnProperty;o=gc(),u=Ec(),t=pc(),e=mc(),a=hc(),f=bc(),m=Cc(),c=Sc(),r=vc(),n=_c(),i=yc(),s=wc(),h=Kw(),w1.exports=d=function(S){y(D,S);function D(w,T){this.stream=w,D.__super__.constructor.call(this,T)}return D.prototype.document=function(w){var T,P,M,U,$,k,K,ie;for(k=w.children,P=0,U=k.length;P<U;P++)T=k[P],T.isLastRootNode=!1;for(w.children[w.children.length-1].isLastRootNode=!0,K=w.children,ie=[],M=0,$=K.length;M<$;M++)switch(T=K[M],!1){case!(T instanceof o):ie.push(this.declaration(T));break;case!(T instanceof u):ie.push(this.docType(T));break;case!(T instanceof e):ie.push(this.comment(T));break;case!(T instanceof c):ie.push(this.processingInstruction(T));break;default:ie.push(this.element(T))}return ie},D.prototype.attribute=function(w){return this.stream.write(" "+w.name+'="'+w.value+'"')},D.prototype.cdata=function(w,T){return this.stream.write(this.space(T)+"<![CDATA["+w.text+"]]>"+this.endline(w))},D.prototype.comment=function(w,T){return this.stream.write(this.space(T)+"<!-- "+w.text+" -->"+this.endline(w))},D.prototype.declaration=function(w,T){return this.stream.write(this.space(T)),this.stream.write('<?xml version="'+w.version+'"'),w.encoding!=null&&this.stream.write(' encoding="'+w.encoding+'"'),w.standalone!=null&&this.stream.write(' standalone="'+w.standalone+'"'),this.stream.write("?>"),this.stream.write(this.endline(w))},D.prototype.docType=function(w,T){var P,M,U,$;if(T||(T=0),this.stream.write(this.space(T)),this.stream.write("<!DOCTYPE "+w.root().name),w.pubID&&w.sysID?this.stream.write(' PUBLIC "'+w.pubID+'" "'+w.sysID+'"'):w.sysID&&this.stream.write(' SYSTEM "'+w.sysID+'"'),w.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(w)),$=w.children,M=0,U=$.length;M<U;M++)switch(P=$[M],!1){case!(P instanceof r):this.dtdAttList(P,T+1);break;case!(P instanceof n):this.dtdElement(P,T+1);break;case!(P instanceof i):this.dtdEntity(P,T+1);break;case!(P instanceof s):this.dtdNotation(P,T+1);break;case!(P instanceof t):this.cdata(P,T+1);break;case!(P instanceof e):this.comment(P,T+1);break;case!(P instanceof c):this.processingInstruction(P,T+1);break;default:throw new Error("Unknown DTD node type: "+P.constructor.name)}this.stream.write("]")}return this.stream.write(">"),this.stream.write(this.endline(w))},D.prototype.element=function(w,T){var P,M,U,$,k,K,ie,ne;T||(T=0),ne=this.space(T),this.stream.write(ne+"<"+w.name),K=w.attributes;for(k in K)_.call(K,k)&&(P=K[k],this.attribute(P));if(w.children.length===0||w.children.every(function(G){return G.value===""}))this.allowEmpty?this.stream.write("></"+w.name+">"):this.stream.write("/>");else if(this.pretty&&w.children.length===1&&w.children[0].value!=null)this.stream.write(">"),this.stream.write(w.children[0].value),this.stream.write("</"+w.name+">");else{for(this.stream.write(">"+this.newline),ie=w.children,U=0,$=ie.length;U<$;U++)switch(M=ie[U],!1){case!(M instanceof t):this.cdata(M,T+1);break;case!(M instanceof e):this.comment(M,T+1);break;case!(M instanceof a):this.element(M,T+1);break;case!(M instanceof f):this.raw(M,T+1);break;case!(M instanceof m):this.text(M,T+1);break;case!(M instanceof c):this.processingInstruction(M,T+1);break;default:throw new Error("Unknown XML node type: "+M.constructor.name)}this.stream.write(ne+"</"+w.name+">")}return this.stream.write(this.endline(w))},D.prototype.processingInstruction=function(w,T){return this.stream.write(this.space(T)+"<?"+w.target),w.value&&this.stream.write(" "+w.value),this.stream.write("?>"+this.endline(w))},D.prototype.raw=function(w,T){return this.stream.write(this.space(T)+w.value+this.endline(w))},D.prototype.text=function(w,T){return this.stream.write(this.space(T)+w.value+this.endline(w))},D.prototype.dtdAttList=function(w,T){return this.stream.write(this.space(T)+"<!ATTLIST "+w.elementName+" "+w.attributeName+" "+w.attributeType),w.defaultValueType!=="#DEFAULT"&&this.stream.write(" "+w.defaultValueType),w.defaultValue&&this.stream.write(' "'+w.defaultValue+'"'),this.stream.write(">"+this.endline(w))},D.prototype.dtdElement=function(w,T){return this.stream.write(this.space(T)+"<!ELEMENT "+w.name+" "+w.value+">"+this.endline(w))},D.prototype.dtdEntity=function(w,T){return this.stream.write(this.space(T)+"<!ENTITY"),w.pe&&this.stream.write(" %"),this.stream.write(" "+w.name),w.value?this.stream.write(' "'+w.value+'"'):(w.pubID&&w.sysID?this.stream.write(' PUBLIC "'+w.pubID+'" "'+w.sysID+'"'):w.sysID&&this.stream.write(' SYSTEM "'+w.sysID+'"'),w.nData&&this.stream.write(" NDATA "+w.nData)),this.stream.write(">"+this.endline(w))},D.prototype.dtdNotation=function(w,T){return this.stream.write(this.space(T)+"<!NOTATION "+w.name),w.pubID&&w.sysID?this.stream.write(' PUBLIC "'+w.pubID+'" "'+w.sysID+'"'):w.pubID?this.stream.write(' PUBLIC "'+w.pubID+'"'):w.sysID&&this.stream.write(' SYSTEM "'+w.sysID+'"'),this.stream.write(">"+this.endline(w))},D.prototype.endline=function(w){return w.isLastRootNode?"":this.newline},D}(h)}).call(_1)});var C1=L((b1,Tc)=>{(function(){var t,e,r,n,i,s,o;o=Dn(),i=o.assign,s=o.isFunction,t=m1(),e=y1(),n=th(),r=E1(),Tc.exports.create=function(u,a,c,f){var d,m;if(u==null)throw new Error("Root element needs a name");return f=i({},a,c,f),d=new t(f),m=d.element(u),f.headless||(d.declaration(f),(f.pubID!=null||f.sysID!=null)&&d.doctype(f)),m},Tc.exports.begin=function(u,a,c){var f;return s(u)&&(f=[u,a],a=f[0],c=f[1],u={}),a?new e(u,a,c):new t(u)},Tc.exports.stringWriter=function(u){return new n(u)},Tc.exports.streamWriter=function(u,a){return new r(u,a)}}).call(b1)});var MV={};ak(MV,{activate:()=>OV,globalProjectInfos:()=>va,languageClient:()=>ht});module.exports=uk(MV);var zs=gt(require("path")),de=require("vscode");var Pc=require("vscode"),xc=class{promise;resolve;progress;level=0;start(){this.level+=1,this.level==1&&Pc.window.withProgress({location:Pc.ProgressLocation.Window},e=>(this.progress=e,this.promise=new Promise((r,n)=>{this.resolve=r}),this.promise))}message(e){this.progress&&this.progress.report({message:"PyDev: "+e})}end(){this.level-=1,this.level==0&&this.resolve&&(this.resolve(),this.resolve=void 0,this.promise=void 0,this.progress=void 0)}};var dh=gt(Ya()),Y1=gt(SS());var tu=gt(require("path")),tT=gt(require("net"));var xl=require("vscode"),RS="PyDev (vscode client)",fe=xl.window.createOutputChannel(RS);function qe(t,e){fe.appendLine(t);let r="    ";if(e.message&&fe.appendLine(r+e.message),e.stack){let n=""+e.stack;fe.appendLine(n.replace(/^/gm,r))}}var TS=new Map,DS=t=>{let e=TS.get(t);return e!==void 0||(e=xl.window.createOutputChannel(t),TS.set(t,e)),e};async function OS(t){t+=" See OUTPUT > "+RS+" for more information.";let e="Open OUTPUT";await xl.window.showErrorMessage(t,e)===e&&fe.show()}var kB=Ll(),AB=typeof v8debug=="object"||MB();function rT(t,e,r){let n=Object.create(null),i=Object.create(null);return i.env=process.env,n.options=i,n.command=tu.resolve(t.java_executable),n.args=qB(t,r,e),n}function nT(t){let e=parseInt(t);return new Promise((r,n)=>{let i=tT.createServer(s=>{i.close(),fe.appendLine("PyDev LS connection established on port "+e),r({reader:s,writer:s})});return i.on("error",n),i.listen(e,()=>{i.removeListener("error",n),fe.appendLine("Awaiting PyDev LS connection on port "+e)}),i})}function qB(t,e,r){let n=[];t.java_version>8&&(n.push("--add-modules=ALL-SYSTEM"),n.push("--add-opens"),n.push("java.base/java.util=ALL-UNNAMED"),n.push("--add-opens"),n.push("java.base/java.lang=ALL-UNNAMED")),n.push("-Declipse.application=org.python.pydev.pydev_lsp.application"),n.push("-Dosgi.bundles.defaultStartLevel=4"),n.push("-Declipse.product=org.python.pydev.pydev_lsp.product"),AB&&(n.push("-Dlog.protocol=true"),n.push("-Dlog.level=ALL"));let i=process.env.SERVER_HOME_EXPORTED,s=e.get("ls.vmargs","");jB(n,s);let o;i?o=i:o=tu.resolve(__dirname,"../server");let u=kB.sync("**/plugins/org.eclipse.equinox.launcher_*.jar",{cwd:o});if(u.length)n.push("-jar"),n.push(tu.resolve(o,u[0]));else return fe.appendLine("Unable to find equinox launcher under: "+o),null;let a;return process.platform==="darwin"?process.arch==="x64"?a="config_mac_x86_64":a="config_mac_aarch64":process.platform==="linux"?a="config_linux":a="config_win",n.push("-configuration"),n.push(tu.resolve(o,a)),n.push("-data"),n.push(r),n}function MB(){let t=process.execArgv;return t?t.some(e=>/^--debug=?/.test(e)||/^--debug-brk=?/.test(e)||/^--inspect-brk=?/.test(e)):!1}function jB(t,e){if(!e)return;let r=e.match(/(?:[^\s"]+|"[^"]*")+/g);r!==null&&r.forEach(n=>{n=n.replace(/(\\)?"/g,function(i,s){return s?i:""}),n=n.replace(/(\\)"/g,'"'),t.indexOf(n)<0&&t.push(n)})}var fc=require("vscode"),$s=gt(require("path"));var iT=require("vscode");function sn(){return iT.workspace.getConfiguration("python.pydev")}function on(t){return sn().get(t)}var ru="java.home",sT="ls.vmargs",go="pythonExecutable",Kg="askInstallDebugger";var Xg="tests.runner",Yg="tests.runner.pytest.args",Jg="tests.runner.pydev-unittest.args",Zg="tests.runner.nose.args";var ql="decorations.pySourceFolderContents.enabled";var ca=require("vscode");var Yl=require("url"),Jl=gt(dT()),rW=require("https"),nW=require("http"),iW=jT(),sW=JT(),ZT=require("zlib");if(process.env.VSCODE_NLS_CONFIG){let t=process.env.VSCODE_NLS_CONFIG;Jl.config(JSON.parse(t))}var mv=Jl.loadMessageBundle(),QT=null,gv=!0;function eR(t,e){QT=t,gv=e}function yv(t){let e=aW(t.url,{proxyUrl:QT,strictSSL:gv});t=vv({},t),t=vv(t,{agent:e,strictSSL:gv}),typeof t.followRedirects!="number"&&(t.followRedirects=5);let r=0;return tR(t).then(n=>new Promise((i,s)=>{let o=n.res,u=o,a=o.headers&&o.headers["content-encoding"],c=o.headers["content-length"],f=!1;if(a==="gzip"){let m=ZT.createGunzip();o.pipe(m),u=m}else if(a==="deflate"){let m=ZT.createInflate();o.pipe(m),u=m}let d=[];u.on("data",m=>{d.push(m),t.onProgress&&(r+=m.length,t.onProgress(r,c))}),u.on("end",()=>{if(f)return;if(f=!0,t.followRedirects>0&&(o.statusCode>=300&&o.statusCode<=303||o.statusCode===307)){let h=o.headers.location;if(h){let y={type:t.type,url:h,user:t.user,password:t.password,responseType:t.responseType,headers:t.headers,timeout:t.timeout,followRedirects:t.followRedirects-1,data:t.data};yv(y).then(i,s);return}}let m={responseData:d,responseText:"",status:o.statusCode,headers:o.headers||{}};o.statusCode>=200&&o.statusCode<300||o.statusCode===1223?i(m):s(m)}),u.on("error",m=>{let h={responseText:mv("error","Unable to access {0}. Error: {1}",t.url,m.message),status:500,headers:void 0};f=!0,s(h)})}),n=>{let i;return e?i=mv("error.cannot.connect.proxy","Unable to connect to {0} through a proxy . Error: {1}",t.url,n.message):i=mv("error.cannot.connect","Unable to connect to {0}. Error: {1}",t.url,n.message),Promise.reject({responseText:i,status:404})})}function vv(t,...e){return e.forEach(r=>Object.keys(r).forEach(n=>t[n]=r[n])),t}function tR(t){let e;return new Promise((r,n)=>{let i=(0,Yl.parse)(t.url),s={hostname:i.hostname,port:i.port?parseInt(i.port):i.protocol==="https:"?443:80,path:i.path,method:t.type||"GET",headers:t.headers,agent:t.agent,rejectUnauthorized:typeof t.strictSSL=="boolean"?t.strictSSL:!0};t.user&&t.password&&(s.auth=t.user+":"+t.password);let o=u=>{u.statusCode>=300&&u.statusCode<400&&t.followRedirects&&t.followRedirects>0&&u.headers.location?r(tR(vv({},t,{url:u.headers.location,followRedirects:t.followRedirects-1}))):r({req:e,res:u})};i.protocol==="https:"?e=rW.request(s,o):e=nW.request(s,o),e.on("error",n),t.timeout&&e.setTimeout(t.timeout),t.data&&e.write(t.data),e.end()})}function oW(t){return t.protocol==="http:"?process.env.HTTP_PROXY||process.env.http_proxy||null:t.protocol==="https:"&&(process.env.HTTPS_PROXY||process.env.https_proxy||process.env.HTTP_PROXY||process.env.http_proxy)||null}function aW(t,e={}){let r=(0,Yl.parse)(t),n=e.proxyUrl||oW(r);if(!n)return null;let i=(0,Yl.parse)(n);if(!/^https?:$/.test(i.protocol))return null;let s={host:i.hostname,port:Number(i.port),auth:i.auth,rejectUnauthorized:typeof e.strictSSL=="boolean"?e.strictSSL:!0};return r.protocol==="http:"?new iW(s):new sW(s)}var Ql=t=>new Promise(e=>setTimeout(e,t));function _v(){return new Date().getTime()}var Zl=class{initialTime;currentTime;constructor(){this.initialTime=_v(),this.currentTime=this.initialTime}elapsedFromLastMeasurement(e){let r=_v();return r-this.currentTime>e?(this.currentTime=r,!0):!1}getTotalElapsedAsStr(){return((_v()-this.initialTime)/1e3).toFixed(1)+"s"}};var ac=gt(require("fs")),si=gt(require("path")),TF=gt(QO()),RF=gt(EF()),DF=require("os");var bF=gt(require("path")),sc=gt(require("fs")),Ew=require("vscode");function CF(t,e=!0){let r=bF.resolve(__dirname,t);if(!(e&&!mG(r)))return r}function mG(t,e=!0){if(!sc.existsSync(t)){let r="Error. Expected: "+t+" to exist.";return e&&Ew.window.showWarningMessage(r),fe.appendLine(r),!1}return!0}async function Rr(t){try{return await sc.promises.stat(t),!0}catch{return!1}}async function SF(t){await sc.promises.mkdir(t,{recursive:!0})}async function gG(t,e,r,n){let s=new Zl;fe.appendLine("Downloading from: "+t);for(let o=0;o<3;o++){let u=function(a,c){if(s.elapsedFromLastMeasurement(300)||a==c){a/=1024*1024,c/=1024*1024;let f=a/c*100,d="Downloaded: "+a.toFixed(1)+"MB of "+c.toFixed(1)+"MB ("+f.toFixed(1)+"%)";o>0&&(d="Attempt: "+(o+1)+" - "+d),e.report({message:d}),fe.appendLine(d)}};try{let a=await yv({url:t,onProgress:u});if(a.status==200){fe.appendLine("Finished downloading in: "+s.getTotalElapsedAsStr()),fe.appendLine("Writing to: "+n),e.report({message:"Finished downloading (writing to file)."});let c=ac.createWriteStream(n,{encoding:"binary",mode:484});try{a.responseData.forEach(f=>{c.write(f)})}finally{c.close()}return await Ql(200),n}else throw Error("Unable to download from "+t+". Response status: "+a.status+"Response message: "+a.responseText)}catch(a){if(fe.appendLine("Error downloading ("+o+" of "+3+"). Error: "+a.message),o==3-1)return}}}function oc(){return si.join((0,DF.homedir)(),".pydev_vscode","java19")}async function Vd(){switch(process.platform){case"win32":return si.join(oc(),"jdk-19.0.2+7-jre","bin","java.exe");case"darwin":return process.arch==="x64"?si.join(oc(),"jdk-19.0.2+7-jre","Contents","Home","bin","java"):si.join(oc(),"jdk-19.0.2+7-jre","Contents","Home","bin","java");case"linux":return si.join(oc(),"jdk-19.0.2+7-jre","bin","java");default:throw new Error(`Unsupported platform: ${process.platform}`)}}async function OF(){let t=await Vd(),e=await Rr(t),r;if(e)try{r=await uc(t)}catch(n){qe("Error checking java version",n),e=!1}return e?{java_executable:t,java_version:r}:await ca.window.withProgress({location:ca.ProgressLocation.Notification,title:"Download java.",cancellable:!1},vG)}async function vG(t,e){let r=process.platform,n;switch(r){case"win32":n="https://github.com/adoptium/temurin19-binaries/releases/download/jdk-19.0.2%2B7/OpenJDK19U-jre_x64_windows_hotspot_19.0.2_7.zip";break;case"darwin":process.arch==="x64"?n="https://github.com/adoptium/temurin19-binaries/releases/download/jdk-19.0.2%2B7/OpenJDK19U-jre_aarch64_mac_hotspot_19.0.2_7.tar.gz":n="https://github.com/adoptium/temurin19-binaries/releases/download/jdk-19.0.2%2B7/OpenJDK19U-jre_x64_mac_hotspot_19.0.2_7.tar.gz";break;case"linux":n="https://github.com/adoptium/temurin19-binaries/releases/download/jdk-19.0.2%2B7/OpenJDK19U-jre_x64_linux_hotspot_19.0.2_7.tar.gz";break;default:throw new Error(`Unsupported platform: ${r}`)}let i=ca.workspace.getConfiguration("http");eR(i.get("proxy"),i.get("proxyStrictSSL"));let s=si.basename(n),o=oc();await SF(o);let u=si.join(o,s);if(!await gG(n,t,e,u))throw new Error("It was not possible to download java. See the OUTPUT view > PyDev for details.");t.report({message:"Expanding contents of download."}),await yG(u,o);let c=await Vd();return t.report({message:"Verifying downloaded java executable."}),{java_executable:c,java_version:await uc(c)}}async function yG(t,e){let r;if(t.endsWith(".tar.gz"))r=ac.createReadStream(t).pipe(TF.x({cwd:e}));else if(t.endsWith(".zip"))r=ac.createReadStream(t).pipe(RF.Extract({path:e}));else throw new Error(`Unsupported archive format: ${t}`);await new Promise((n,i)=>{r.on("finish",()=>{fe.appendLine(`Extracted ${t} to ${e}`),n()}),r.on("error",s=>{qe(`Error extracting: ${t} to ${e}`,s),i(s)})})}var xF=require("child_process");async function _G(t,e,r,n){return new Promise((i,s)=>{let o=(0,xF.execFile)(t,e,r,(u,a,c)=>{if(u){s({error:u,stdout:a,stderr:c});return}i({stdout:a,stderr:c})});n&&n(o)})}function wG(){return"."}async function PF(t,e,r,n){let i=!1,s,o=!1;if(n!==void 0&&(i=n.hideCommandLine,s=n.configChildProcess,o=n.showOutputInteractively,o)){if(s!==void 0)throw new Error("Error: if showOutputInteractively == true, configChildProcess must be undefined.");s=function(u){u.stderr.on("data",function(a){fe.append(a)}),u.stdout.on("data",function(a){fe.append(a)})}}i||fe.appendLine("Executing: "+t+" "+e.join(" "));try{return r.cwd||(r.cwd=wG()),await _G(t,e,r,s)}catch(u){let a=u,c=a.error;throw fe.appendLine("Error executing: "+t+" "+e.join(" ")),c!==void 0&&(fe.appendLine("Error: "+c),c?.message&&fe.appendLine("Error message: "+c.message),c?.code&&fe.appendLine("Error code: "+c.code),c?.name&&fe.appendLine("Error name: "+c.name)),o||(a.stderr&&fe.appendLine("Stderr: "+a.stderr),a.stdout&&fe.appendLine("Stdout: "+a.stdout)),u}}var jG=NF(),dL=kF(),UG=fL();async function hL(){let t,e="Specify JAVA_HOME location manually",r="Automatically download java";for(;;)try{if(t==e){let s=await fc.window.showOpenDialog({canSelectFolders:!0,canSelectFiles:!1,canSelectMany:!1,title:"Please select the JAVA_HOME (dir containing /bin/java) to start PyDev.",openLabel:"Select JAVA_HOME (dir containing /bin/java)."});if(s&&s.length===1){let o=s[0].fsPath,u=xw(o);if(!await Rr(u))throw new Error(`Directory specified does not seem to be a JAVA_HOME (/bin/java not found in: ${o}).`);sn().update(ru,o,fc.ConfigurationTarget.Global);let a=await uc(u);return{java_executable:u,java_version:a}}else throw new Error("User cancelled.")}else if(t==r)return await OF();let n=await BG(),i=await uc(n);return{java_executable:n,java_version:i}}catch(n){let i="Unable to find java to start PyDev extension. ",s;if(n.message&&(s=`Details: ${n.message}.`),qe(i,n),s+=`
Note: if cancelled the extension will not be started.`,i+="How do you want to proceed?",t=await fc.window.showErrorMessage(i,{modal:!0,detail:s},r,e),fe.appendLine(t),!t)throw new Error("PyDev extension will not be started (java not found nor provided by user).")}}function xw(t){return process.platform=="win32"?$s.join(t,"bin","java.exe"):$s.join(t,"bin","java")}async function BG(){let t,e=HG();if(e)if(e=dL(e),await Rr(e)){let i=xw(e);if(await Rr(i))return i;fe.appendLine(`The ${i} (based on the python.pydev.java.home variable defined in VS Code settings) does not exist.`)}else fe.appendLine("The python.pydev.java.home variable defined in VS Code settings points to a folder which does not exist.");let r=await Vd();if(await Rr(r))return r;fe.appendLine(`Could not detect a java executable in: ${r}.`);let n=process.env.JDK_HOME;if(n?t="The JDK_HOME environment variable":(n=process.env.JAVA_HOME,n&&(t="The JAVA_HOME environment variable")),n)if(n=dL(n),await Rr(n)){let i=xw(n);if(await Rr(jG))return i;fe.appendLine(`${i} does not exist (based on ${t}).`)}else fe.appendLine(t+" points to a missing folder");if(process.platform=="win32"){let i=$s.join($s.join("C:","ProgramData","Oracle","Java","javapath","java.exe"));if(await Rr(i))return i}try{let i=await UG({allowJre:!0}),s;if(process.platform=="win32"?s=$s.join(i,"bin","java.exe"):s=$s.join(i,"bin","java"),await Rr(s))return s;throw new Error("Unable to find java executable")}catch{throw new Error("Java runtime could not be located")}}function HG(){return sn().get(ru,null)}async function uc(t){let e;e=await PF(t,["-version"],{},{showOutputInteractively:!0});let r=WG(e.stderr);if(r<11)throw new Error(`Java 11 or more recent is required to run. Found: ${r}`);return r}function WG(t){let e=/version "(.*)"/g,r=e.exec(t);if(!r)return 0;let n=r[1];n.startsWith("1.")&&(n=n.substring(2)),e=/\d+/g,r=e.exec(n);let i=0;return r&&(i=parseInt(r[0])),i}var dc;(n=>(n.OPEN_BROWSER="vscode.open",n.SHOW_REFERENCES="editor.action.showReferences",n.RELOAD_WINDOW="workbench.action.reloadWindow"))(dc||={});var fa=gt(Ya());var Pw;(e=>e.type=new fa.NotificationType("language/status"))(Pw||={});var Iw;(e=>e.type=new fa.NotificationType("language/actionableNotification"))(Iw||={});var Nw;(e=>e.type=new fa.NotificationType("language/lintMessage"))(Nw||={});var Fw;(e=>e.type=new fa.NotificationType("language/openFile"))(Fw||={});var Lw;(e=>e.type=new fa.NotificationType("language/changeSelection"))(Lw||={});var Dc=gt(require("fs"));var kw="pydev.open.serverLog",Aw="pydev.open.output",qw="pydev.config.clickPyDevStatusitem",Mw="pydev.show.config",pL="pydev.enter.license",mL="pydev.enter.license.internal",gL="pydev.validate.license",vL="pydev.validate.license.internal",yL="pydev.verify.license",_L="pydev.verify.license.internal",jw="pydev.editor.nextMethodOrClass",Uw="pydev.editor.prevMethodOrClass",wL="pydev.config.interpreter",Bw="pydev.listTests";var EL="pydev.getRunfilesPy";var bL="pydev.applySnippet",Hw="pydev.forceCodeAnalysis.internal",CL="pydev.forceCodeAnalysis",SL="pydev.getPyInterpreterInfo",TL="pydev.clearCaches",RL="pydev.unittest.pinTest",DL="pydev.unittest.unpinTest";var Yr=gt(require("vscode"));var yr=gt(require("vscode")),Ww=require("vscode");var OL=require("util");var xL=t=>{let e=new da(t),r={webviewOptions:{retainContextWhenHidden:!0}};t.subscriptions.push(yr.window.registerWebviewViewProvider(da.viewType,e,r)),t.subscriptions.push(Ww.commands.registerCommand(RL,()=>{e.pinTest()})),t.subscriptions.push(Ww.commands.registerCommand(DL,()=>{e.unpinTest()}))};async function GG(t,e){e-=1;let r=new yr.Position(e,0),n={selection:new yr.Selection(r,r)},i=await yr.window.showTextDocument(yr.Uri.file(t),n)}async function VG(t){return yr.Uri.file(CF("../html",!0))}var $w=class{_pinned=!1;unpinTest(){this.updatePinned(!1)}pinTest(){this.updatePinned(!0)}updatePinned(e){this._pinned!==e&&(this._pinned=e,yr.commands.executeCommand("setContext",$w.pinnedContext,e))}storageUri;extensionUri;view;localHtmlRoot;constructor(e){this.extensionUri=e.extensionUri,this.storageUri=e.storageUri}resolveWebviewView(e,r,n){this.view=e,e.webview.onDidReceiveMessage(async i=>{if(i.type=="event"&&i.event=="onClickReference"){let s=i.data;if(s){let o=s.source,u=s.lineno;o&&u&&u>0&&GG(o,u)}}}),e.onDidDispose(()=>{this.view=void 0}),this.updateHTML(n)}async updateHTML(e){this.localHtmlRoot||(this.localHtmlRoot=await VG(this.extensionUri));let r=[];if(this.localHtmlRoot&&r.push(this.localHtmlRoot),e?.isCancellationRequested)return;let n=this.view;n.webview.options={enableScripts:!0,localResourceRoots:r};let i;try{let s=yr.Uri.joinPath(this.localHtmlRoot,"unittest.html"),o=await yr.workspace.fs.readFile(s);if(e?.isCancellationRequested)return;i=new OL.TextDecoder("utf-8").decode(o)}catch(s){i="Error loading HTML: "+s}n.webview.html=i}},da=$w;hh(da,"pinnedContext","pydev.view.unittest.isTestPinned"),hh(da,"viewType","pydev.view.unittest");var We=require("vscode"),j1=gt(Ya());var zw=require("vscode");function ha(t){let e=zw.workspace.getWorkspaceFolder(t);if(e===void 0){let r=[];for(let n of zw.workspace.workspaceFolders)r.push(n.uri.toString());fe.appendLine(`${t} is not found as being inside any workspace folder (${r.join(", ")}).`)}return e}var st=gt(require("vscode"));var Jd=class{map=new Map;get(e){let r=this.map.get(e);if(r!==void 0)return r.deref()}set(e,r){let n=new WeakRef(r);this.map.set(e,n)}delete(e){this.map.delete(e)}clear(){this.map.clear()}};function PL(t){let e="";for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);n<128?e+=t.charAt(r):e+="\\u"+("000"+n.toString(16)).slice(-4)}return e}var eE=gt(require("path"));var R1=require("events"),D1=gt(require("http"));var Ve=function(t){this.opts={},this.setOpts(t)};Ve.DEFAULT_OPTIONS={colons:!0,hyphens:!1,local:!0,ms:!1,offset:!1};Ve.ISO8601=new RegExp("([0-9]{4})([-]?([0-9]{2}))([-]?([0-9]{2}))(T([0-9]{2})(((:?([0-9]{2}))?((:?([0-9]{2}))?(.([0-9]+))?))?)(Z|([+-]([0-9]{2}(:?([0-9]{2}))?)))?)?");Ve.prototype.setOpts=function(t){t||(t=Ve.DEFAULT_OPTIONS);var e=this;Object.keys(Ve.DEFAULT_OPTIONS).forEach(function(r){e.opts[r]=t.hasOwnProperty(r)?t[r]:Ve.DEFAULT_OPTIONS[r]})};Ve.prototype.decodeIso8601=function(t){var e=t.toString().match(Ve.ISO8601);if(!e)throw new Error("Expected a ISO8601 datetime but got '"+t+"'");var r=[[e[1],e[3]||"01",e[5]||"01"].join("-"),"T",[e[7]||"00",e[11]||"00",e[14]||"00"].join(":"),".",e[16]||"000"].join("");return r+=e[17]!==void 0?e[17]+(e[19]&&e[20]===void 0?"00":""):Ve.formatCurrentOffset(new Date(r)),new Date(r)};Ve.prototype.encodeIso8601=function(t){var e=this.opts.local?Ve.getLocalDateParts(t):Ve.getUTCDateParts(t);return[[e[0],e[1],e[2]].join(this.opts.hyphens?"-":""),"T",[e[3],e[4],e[5]].join(this.opts.colons?":":""),this.opts.ms?"."+e[6]:"",this.opts.local?this.opts.offset?Ve.formatCurrentOffset(t):"":"Z"].join("")};Ve.getUTCDateParts=function(t){return[t.getUTCFullYear(),Ve.zeroPad(t.getUTCMonth()+1,2),Ve.zeroPad(t.getUTCDate(),2),Ve.zeroPad(t.getUTCHours(),2),Ve.zeroPad(t.getUTCMinutes(),2),Ve.zeroPad(t.getUTCSeconds(),2),Ve.zeroPad(t.getUTCMilliseconds(),3)]};Ve.getLocalDateParts=function(t){return[t.getFullYear(),Ve.zeroPad(t.getMonth()+1,2),Ve.zeroPad(t.getDate(),2),Ve.zeroPad(t.getHours(),2),Ve.zeroPad(t.getMinutes(),2),Ve.zeroPad(t.getSeconds(),2),Ve.zeroPad(t.getMilliseconds(),3)]};Ve.zeroPad=function(t,e){for(var r=""+t;r.length<e;)r="0"+r;return r};Ve.formatCurrentOffset=function(t){var e=(t||new Date).getTimezoneOffset();return e===0?"Z":[e<0?"+":"-",Ve.zeroPad(Math.abs(Math.floor(e/60)),2),":",Ve.zeroPad(Math.abs(e%60),2)].join("")};var Zd=new Ve;var KG=IL(),ft=function(t){this.type=null,this.responseType=null,this.stack=[],this.marks=[],this.data=[],this.methodname=null,this.encoding=t||"utf8",this.value=!1,this.callback=null,this.error=null,this.parser=KG.createStream(),this.parser.on("opentag",this.onOpentag.bind(this)),this.parser.on("closetag",this.onClosetag.bind(this)),this.parser.on("text",this.onText.bind(this)),this.parser.on("cdata",this.onCDATA.bind(this)),this.parser.on("end",this.onDone.bind(this)),this.parser.on("error",this.onError.bind(this))};ft.prototype.deserializeMethodResponse=function(t,e){var r=this;this.callback=function(n,i){n?e(n):i.length>1?e(new Error("Response has more than one param")):r.type!=="methodresponse"?e(new Error("Not a method response")):r.responseType?e(null,i[0]):e(new Error("Invalid method response"))},t.setEncoding(this.encoding),t.on("error",this.onError.bind(this)),t.pipe(this.parser)};ft.prototype.deserializeMethodCall=function(t,e){var r=this;this.callback=function(n,i){n?e(n):r.type!=="methodcall"?e(new Error("Not a method call")):r.methodname?e(null,r.methodname,i):e(new Error("Method call did not contain a method name"))},t.setEncoding(this.encoding),t.on("error",this.onError.bind(this)),t.pipe(this.parser)};ft.prototype.onDone=function(){var t=this;if(!this.error)if(this.type===null||this.marks.length)this.callback(new Error("Invalid XML-RPC message"));else if(this.responseType==="fault"){var e=function(r){var n=new Error("XML-RPC fault"+(r.faultString?": "+r.faultString:""));return n.code=r.faultCode,n.faultCode=r.faultCode,n.faultString=r.faultString,n};this.callback(e(this.stack[0]))}else this.callback(void 0,this.stack)};ft.prototype.onError=function(t){this.error||(typeof t=="string"?this.error=new Error(t):this.error=t,this.callback(this.error))};ft.prototype.push=function(t){this.stack.push(t)};ft.prototype.onOpentag=function(t){(t.name==="ARRAY"||t.name==="STRUCT")&&this.marks.push(this.stack.length),this.data=[],this.value=t.name==="VALUE"};ft.prototype.onText=function(t){this.data.push(t)};ft.prototype.onCDATA=function(t){this.data.push(t)};ft.prototype.onClosetag=function(t){var e=this.data.join("");try{switch(t){case"BOOLEAN":this.endBoolean(e);break;case"INT":case"I4":this.endInt(e);break;case"I8":this.endI8(e);break;case"DOUBLE":this.endDouble(e);break;case"STRING":case"NAME":this.endString(e);break;case"ARRAY":this.endArray(e);break;case"STRUCT":this.endStruct(e);break;case"BASE64":this.endBase64(e);break;case"DATETIME.ISO8601":this.endDateTime(e);break;case"VALUE":this.endValue(e);break;case"PARAMS":this.endParams(e);break;case"FAULT":this.endFault(e);break;case"METHODRESPONSE":this.endMethodResponse(e);break;case"METHODNAME":this.endMethodName(e);break;case"METHODCALL":this.endMethodCall(e);break;case"NIL":this.endNil(e);break;case"DATA":case"PARAM":case"MEMBER":break;default:this.onError("Unknown XML-RPC tag '"+t+"'");break}}catch(r){this.onError(r)}};ft.prototype.endNil=function(t){this.push(null),this.value=!1};ft.prototype.endBoolean=function(t){if(t==="1")this.push(!0);else if(t==="0")this.push(!1);else throw new Error("Illegal boolean value '"+t+"'");this.value=!1};ft.prototype.endInt=function(t){var e=parseInt(t,10);if(isNaN(e))throw new Error("Expected an integer but got '"+t+"'");this.push(e),this.value=!1};ft.prototype.endDouble=function(t){var e=parseFloat(t);if(isNaN(e))throw new Error("Expected a double but got '"+t+"'");this.push(e),this.value=!1};ft.prototype.endString=function(t){this.push(t),this.value=!1};ft.prototype.endArray=function(t){var e=this.marks.pop();this.stack.splice(e,this.stack.length-e,this.stack.slice(e)),this.value=!1};ft.prototype.endStruct=function(t){for(var e=this.marks.pop(),r={},n=this.stack.slice(e),i=0;i<n.length;i+=2)r[n[i]]=n[i+1];this.stack.splice(e,this.stack.length-e,r),this.value=!1};ft.prototype.endBase64=function(t){var e=new Buffer(t,"base64");this.push(e),this.value=!1};ft.prototype.endDateTime=function(t){var e=Zd.decodeIso8601(t);this.push(e),this.value=!1};var XG=/^-?\d+$/;ft.prototype.endI8=function(t){if(XG.test(t))this.endString(t);else throw new Error("Expected integer (I8) value but got '"+t+"'")};ft.prototype.endValue=function(t){this.value&&this.endString(t)};ft.prototype.endParams=function(t){this.responseType="params"};ft.prototype.endFault=function(t){this.responseType="fault"};ft.prototype.endMethodResponse=function(t){this.type="methodresponse"};ft.prototype.endMethodName=function(t){this.methodname=t};ft.prototype.endMethodCall=function(t){this.type="methodcall"};var eh=function(t){this.raw=t};eh.prototype.serialize=function(t){return t.ele(this.tagName).txt(this.raw)};eh.prototype.tagName="customType";var Xw=C1(),YG=function(t,n,r){var n=n||[],i={version:"1.0",allowSurrogateChars:!0};r&&(i.encoding=r);var s=Xw.create("methodCall",i).ele("methodName").txt(t).up().ele("params");return n.forEach(function(o){Yw(o,s.ele("param"))}),s.doc().toString()},JG=function(t){var e=Xw.create("methodResponse",{version:"1.0",allowSurrogateChars:!0}).ele("params").ele("param");return Yw(t,e),e.doc().toString()},ZG=function(t){var e=Xw.create("methodResponse",{version:"1.0",allowSurrogateChars:!0}).ele("fault");return Yw(t,e),e.doc().toString()};function Yw(t,e){for(var r=[{value:t,xml:e}],n=null,i=null,s=null;r.length>0;)if(n=r[r.length-1],n.index!==void 0)s=S1(n),s?r.push(s):r.pop();else switch(i=n.xml.ele("value"),typeof n.value){case"boolean":QG(n.value,i),r.pop();break;case"string":tV(n.value,i),r.pop();break;case"number":rV(n.value,i),r.pop();break;case"object":n.value===null?(i.ele("nil"),r.pop()):n.value instanceof Date?(nV(n.value,i),r.pop()):Buffer.isBuffer(n.value)?(iV(n.value,i),r.pop()):n.value instanceof eh?(n.value.serialize(i),r.pop()):(Array.isArray(n.value)?n.xml=i.ele("array").ele("data"):(n.xml=i.ele("struct"),n.keys=Object.keys(n.value)),n.index=0,s=S1(n),s?r.push(s):r.pop());break;default:r.pop();break}}function S1(t){var e=null;if(t.keys){if(t.index<t.keys.length){var r=t.keys[t.index++],n=t.xml.ele("member").ele("name").text(r).up();e={value:t.value[r],xml:n}}}else t.index<t.value.length&&(e={value:t.value[t.index],xml:t.xml},t.index++);return e}function QG(t,e){e.ele("boolean").txt(t?1:0)}var eV=/^(?![^<&]*]]>[^<&]*)[^<&]*$/;function tV(t,e){t.length===0?e.ele("string"):eV.test(t)?e.ele("string").txt(t):e.ele("string").d(t)}function rV(t,e){t%1==0?e.ele("int").txt(t):e.ele("double").txt(t)}function nV(t,e){e.ele("dateTime.iso8601").txt(Zd.encodeIso8601(t))}function iV(t,e){e.ele("base64").txt(t.toString("base64"))}var T1={serializeMethodCall:YG,serializeMethodResponse:JG,serializeFault:ZG};var rh=class extends R1.EventEmitter{httpServer;constructor(e,r){super(),r=r||function(){};let n=this,i=D1.createServer(function(o,u){try{var a=new ft("latin1");a.deserializeMethodCall(o,function(c,f,d){if(f==="notifyCommands"){let m=d[0];for(let h of m){let y=h[0],_=h[1];try{n.emit(y,_)}catch(S){qe("Error handling notifyCommands in submethod: "+y,S)}}}else try{n.emit(f,d)}catch(m){qe("Error handling: "+f,m)}})}catch(c){qe("error handling xml-rpc call",c)}u.writeHead(200,{"Content-Type":"text/xml"}),u.end(T1.serializeMethodResponse("OK"))});this.httpServer=i,i.listen(e.port,e.host,r)}getPort(){return this.httpServer.address().port}close(e){e!==void 0&&this.httpServer.once("close",e),this.httpServer.close()}};var O1=require("util"),On=t=>t instanceof Buffer?new O1.TextDecoder("latin1",{fatal:!1}).decode(t):t;async function x1(t){return new Promise((e,r)=>{try{let i=()=>{let s=n.httpServer;fe.appendLine(`Listening for PyDev Tests Output connections on: ${JSON.stringify(s.address())}`),e(n)};var n=new rh({host:"localhost",port:0},i);n.on("notifyTest",function(s){let o=On(s[0]),u=On(s[1]),a=On(s[2]),c=On(s[3]),f=On(s[4]),d=On(s[5]);for(let m of t)try{m.onTestFinished(o,u,a,c,f,d)}catch(h){qe("Error in notifyTest",h)}}),n.on("notifyStartTest",function(s){let o=On(s[0]),u=On(s[1]);for(let a of t)try{a.onTestStarted(u,o)}catch(c){qe("Error in notifyStartTest",c)}}),n.on("notifyTestsCollected",function(s){let o=On(s[0]);for(let u of t)try{u.onTestsCollected(o)}catch(a){qe("Error in notifyTestsCollected",a)}}),n.on("notifyConnected",function(s){}),n.on("notifyTestRunFinished",function(s){let o=On(s[0]);for(let u of t)try{u.onTestsRunFinished(o)}catch(a){qe("Error in notifyTestRunFinished",a)}})}catch(i){qe("Error creating socket for listening for test cases.",i),r(i)}})}var sV=eE.posix||eE,ai=st.tests.createTestController("pydev.testController","PyDev"),oV=ai?.createRunProfile("Run",st.TestRunProfileKind.Run,(t,e)=>{k1(!1,t,e)}),aV=ai?.createRunProfile("Debug",st.TestRunProfileKind.Debug,(t,e)=>{k1(!0,t,e)});var N1=oV,F1=aV;var sh=new WeakMap,P1=0;function uV(){return P1+=1,`Run: ${P1}`}var tE=new Map,pa=new Map,ih=new Map,L1=new Map,oh=new Jd;function ma(t){if(t.startsWith("id:"))throw new Error("It seems that this uri is actually a test id already.");return"id:"+t}function cV(t,e){return t=ma(t),`${t} [${e.name}]`}function rE(t,e){return t=ma(t),`${t} [${e}]`}function Jw(t){let e=sh.get(t);if(e)return e.type}function lV(t){for(;;){let e=ma(t.toString()),r=ga(e);if(!r)return;oh.delete(e);let n=r.parent;if(n)if(n.children.get(e)!==void 0)if(n.children.delete(e),n.children.size==0)t=n.uri;else return;else return;else{ai.items.get(e)!==void 0&&ai.items.delete(e);return}}}function fV(t,e){let r=t.uri.path,n=e.path,s=sV.relative(r,n).split("/"),o=t.uri.path,u,a;for(let c of s){let f=`${o}/${c}`,d=e.with({path:f}),m=ma(d.toString());a=ga(m),a||(a=ai.createTestItem(m,c,d),oh.set(m,a),sh.set(a,{type:0,testInfo:void 0}),u===void 0?ai.items.add(a):u.children.add(a)),u=a,o=f}return a}async function ah(t){let e=st.Uri.parse(t.uri),r=ha(e);if(r===void 0){fe.appendLine(`Unable to find workspace folder for uri: ${e} (when collecting tests)`);return}if(!t?.testInfo?.length){lV(e);return}let n=fV(r,e);if(n===void 0){fe.appendLine(`Unable to add collected tests for:
  - workspaceFolder:
`+JSON.stringify(r)+`
  - uri: `+e);return}let i=e.toString(),s=[],o=new Set;for(let u of t.testInfo){let a=cV(i,u);if(o.has(a))continue;o.add(a);let c=ai.createTestItem(a,u.name,e);oh.set(a,c);let f=new st.Position(u.range.start.line,u.range.start.character),d=new st.Position(u.range.end.line,u.range.end.character);c.range=new st.Range(f,d),sh.set(c,{type:1,testInfo:u}),s.push(c)}n.children.replace(s)}function ga(t){if(!t.startsWith("id:"))throw new Error("Expected testId to start with 'id:'. Found: "+t);return oh.get(t)}function dV(t){if(t.size===0)return null;let e=t.values().next().value;if(t.size===1)return e;let r="/";process.platform==="win32"&&(r=e.includes("\\")?"\\":"/");let n=Array.from(t).map(s=>s.split(r)),i=Math.min(...n.map(s=>s.length));for(let s=0;s<i;s++){let o=n[0][s];if(!n.every(u=>u[s]===o))return n[0].slice(0,s).join(r)}return n[0].join(r)}async function k1(t,e,r){let n=[];e.include?e.include.forEach(f=>n.push(f)):ai.items.forEach(f=>n.push(f));let i=[],s=[],o=new Set;for(;n.length>0&&!r.isCancellationRequested;){let f=n.pop(),d=f.uri,m=ha(d);m?o.add(m):fe.appendLine("Could not find workspace folder for uri: "+d),i.push(f)}if(e.exclude)for(let f of e.exclude)s.push(f);if(r.isCancellationRequested)return;if(o.size>1)fe.appendLine("Note: tests span more than 1 workspace folder. Launch templates will only take the first one into account.");else if(o.size==0){st.window.showErrorMessage("Unable to launch because workspace folder is not available.");return}let u=[];for(let f of o)u.push(f);let a=ai.createTestRun(e),c=hV(a);i.length>0&&tE.set(c,i[0]);try{await pV(u,c,i,s,t)}catch(f){qe("Error launching",f),OS("Unable to launch.")}}function hV(t){let e=uV();return pa.set(e,t),e}function A1(t){if(L1.delete(t),pa.has(t)){let e=pa.get(t);pa.delete(t),e.end()}if(tE.delete(t),ih.has(t)){let e=ih.get(t);ih.delete(t);try{e.close()}catch(r){qe("Error closing XMLRPCServer",r)}}}async function pV(t,e,r,n,i){let s,o;s=t[0].uri.fsPath,o=await M1(t[0]);let u=[],a=new Set,c;function f(M){let U=[];for(let $ of M)if(a.add($.uri.fsPath),Jw($)===1){let k=sh.get($);if(!k){fe.appendLine("Unable to find test data for: "+$.id);continue}U.push([$.uri.fsPath,k.testInfo.name])}else U.push([$.uri.fsPath,"*"]);return U}let d=dV(a);if(d)u.push(d);else for(let M of a)u.push(M);function m(M,U,$){M.forEach(k=>{Jw(k)===1?$.has(k.id)||($.add(k.id),U.push(k)):m(k.children,U,$)})}function h(M,U){let $=[];for(let k of M)Jw(k)===1?U.has(k.id)||(U.add(k.id),$.push(k)):m(k.children,$,U);return $}let y=new Set,_=h(n,y),S=h(r,y);c=PL(JSON.stringify({include:f(S),exclude:f(_)}));try{let M=[new Qw(e)],U=await x1(M);ih.set(e,U),u.push("--port="+U.getPort())}catch{st.window.showErrorMessage("Error when creating server to collect test-run information.")}let D=on(Xg);if(D==="pytest"){u.push("--py-test-params");let M=on(Yg);if(M)if(M instanceof Array)u=u.concat(M);else{let U=`Invalid test runner args configured in the ${Yg} setting. Expected args. Found: ${JSON.stringify(M)}`;st.window.showErrorMessage(U);return}}else if(D==="nose"){u.push("--nose-params");let M=on(Zg);if(M)if(M instanceof Array)u=u.concat(M);else{let U=`Invalid test runner args configured in the ${Zg} setting. Expected args. Found: ${JSON.stringify(M)}`;st.window.showErrorMessage(U);return}}else if(D==="pydev-unittest"){let M=on(Jg);if(M)if(M instanceof Array)u=u.concat(M);else{let U=`Invalid test runner args configured in the ${Jg} setting. Expected args. Found: ${JSON.stringify(M)}`;st.window.showErrorMessage(U);return}}else{let M=`Invalid test runner configured in the ${Xg} setting: ${D}`;return st.window.showErrorMessage(M),!1}let w={type:"pydevd",runId:e,name:"PyDev Test: Launch "+e,request:"launch",cwd:s,console:"integratedTerminal",env:{},args:u};if(o&&(w=await nE(w,o)),S.length>0){let M=S[0].uri;await iE(w,M)}else fe.appendLine(`Expected 'expandedIncludeTests' to have at least one item. Found: ${JSON.stringify(S)}`);try{if(w.program=await st.commands.executeCommand("pydevd.getRunfilesPy"),!w.program)throw Error("Not available")}catch{fe.appendLine("Unable to get runfiles from vscode-pydevd-debugger. Using from vscode-pydev instead. "),w.program=await st.commands.executeCommand(EL)}w.env?w.env.PYDEV_RUNFILES_FILTER_TESTS=c:w.env={PYDEV_RUNFILES_FILTER_TESTS:c};let T={noDebug:!i};return await mV(e,t[0],w,T)}async function mV(t,e,r,n){r.runId=t;let i=await st.debug.startDebugging(e,r,n);return i||A1(t),i}async function q1(){function t(e){return e.configuration.type==="pydevd"&&e.configuration.runId!==void 0}st.debug.onDidStartDebugSession(e=>{t(e)&&pa.has(e.configuration.runId)&&L1.set(e.configuration.runId,e)}),st.debug.onDidTerminateDebugSession(e=>{t(e)&&A1(e.configuration.runId)})}var Zw="\x1B[31m",gV="\x1B[32m",vV="\x1B[33m",nh="\x1B[34m";var Rc="\x1B[0m",Qw=class{runId;constructor(e){this.runId=e}getTestRun(){let e=pa.get(this.runId);if(e)return e;fe.appendLine("Did not find testRun for run id: "+this.runId)}getTestItem(e,r){let n=st.Uri.file(e).toString(),i=rE(n,r),s=ga(i);if(s)return s;fe.appendLine("Did not find test item: "+i)}onTestsRunFinished(e){let r=this.getTestRun();r.appendOutput(e),r.end()}onTestsCollected(e){}onTestStarted(e,r){let n=this.getTestItem(r,e);if(n){let i=this.getTestRun();i&&(i.enqueued(n),i.started(n),i.appendOutput(` ${nh}===  Started: ${e}${Rc}  ${nh}=== ${Rc}\r
`,void 0,n))}}onTestFinished(e,r,n,i,s,o){let u=this.getTestItem(i,s),a=this.getTestRun();if(a){u||(u=tE.get(this.runId));let c;try{c=parseFloat(o)*1e3}catch(h){qe("Error parsing as float to get duration: "+o,h)}let f=r||n?`\r
`:"";r&&(r=I1(r),a.appendOutput(r,void 0,u)),n&&(n=I1(n),a.appendOutput(n,void 0,u));let d=new st.TestMessage(n),m=gV;e==="ok"?a.passed(u,c):e==="fail"?(m=Zw,a.failed(u,d,c)):e==="error"?(m=Zw,a.errored(u,d,c)):e==="skip"?(m=vV,a.skipped(u)):(m=Zw,a.errored(u,d,c)),a.appendOutput(`${f} ${nh}--- Finished: ${s}${Rc}: ${m}${e}${Rc} (time: ${o})  ${nh}---${Rc}\r
`,void 0,u)}}};function I1(t){try{return t.split(/(?:\r\n|\r|\n)/g).join(`\r
`)}catch(e){return qe("Error handling log message: "+JSON.stringify(t)+" ("+typeof t+")",e),t}}var sE=require("path");async function yV(t){try{await oE(t,!0)}catch(e){qe("Error running test with pydev.",e)}}async function _V(t){try{await oE(t,!1)}catch(e){qe("Error debugging test with pydev.",e)}}async function wV(t){await B1(t,!0)}async function EV(t){await B1(t,!1)}async function M1(t){return U1(t,"test-template")}async function bV(t){return U1(t,"run-file-template")}async function nE(t,e){let r={...e};r.name=t.name,r.request=t.request,r.type=t.type;for(var n of Object.keys(t)){let i=t[n];if(i!==void 0)if(n==="args")try{r.args=i.concat(r.args)}catch(s){qe("Unable to concatenate: "+i+" to: "+r.args,s)}else if(n==="env")try{r.env={...r.env,...i}}catch(s){qe("Unable to merge: "+i+" to: "+r.env,s)}else r[n]=i}return r}async function CV(t,e){let n=We.workspace.getConfiguration("launch",t).inspect("configurations"),i=[];if(n){let s=[["Default Language Value",n.defaultLanguageValue],["Default Value",n.defaultValue],["Workspace Folder Language Value",n.workspaceFolderLanguageValue],["Workspace Folder Value",n.workspaceFolderValue],["Workspace Language Value",n.workspaceLanguageValue],["Workspace Value",n.workspaceValue],["Global Language Value",n.globalLanguageValue],["Global Value",n.globalValue]];for(let o of s){let u=o[1];if(u){for(let a of u)if(a.type=="pydevd"&&a.request==e){fe.appendLine(`Found ${o[0]} configuration: ${a.type} - ${a.name}.`);let c="-- will be used";i.length>0&&(c="-- will NOT be used -- not first match"),fe.appendLine(`${c} -- ${JSON.stringify(a,null,2)}`),i.push([o[0],a])}}}}else fe.appendLine(`Did not find any pydevd launch configuration with "request: ${e}".`);return i}async function U1(t,e){let r=await CV(t,e);r.length>1&&fe.appendLine("Found multiple templates for the request: "+e+` (using the first one):
`+JSON.stringify(r));let n;return r.length>0&&(n=r[0][1]),n}async function B1(t,e){try{if(!t){let r=We.window.activeTextEditor;if(!r){We.window.showErrorMessage("Can only run a test suite if the related file is currently opened.");return}t=r.document.uri}await oE({uri:t.toString(),path:t.fsPath,name:"*",range:void 0},e)}catch(r){qe("Error debugging suite.",r)}}async function SV(t,e,r){let n,i=new Map;for(let o of r){let u=i.get(o.uri);u||(u=[],i.set(o.uri.toString(),u)),u.push(o)}for(let[o,u]of i.entries())await ah({uri:o,testInfo:u});if(e==="*"?n=ma(t.toString()):n=rE(t.toString(),e),!ga(n)){let o="Unable to obtain test item from: "+t+" - "+e;fe.appendLine(o);for(let u of r)fe.appendLine(`Collected: ${JSON.stringify(u)}`);We.window.showErrorMessage(o)}return ga(n)}async function oE(t,e){if(We.workspace.workspaceFolders===void 0){We.window.showErrorMessage("Unable to launch. Please open the folder containing the file in VSCode.");return}let r,n,i;if(t){if(r=We.Uri.file(t.path),n=t.name,i=await We.commands.executeCommand(Bw,{uri:r.toString()}),!i){We.window.showErrorMessage("No tests found given the uri: "+r.toString());return}}else{let a=We.window.activeTextEditor;if(!a){We.window.showErrorMessage("Can only run a test if the related file is currently opened.");return}let c=a.document.uri;if(i=await We.commands.executeCommand(Bw,{uri:c.toString()}),!i){We.window.showErrorMessage("No tests found in the currently opened editor.");return}if(r=c,i.length==1)n=i[0].name;else{let f=[];for(let m of i)f.push(m.name);let d=await We.window.showQuickPick(f,{canPickMany:!1,placeHolder:"Please select Test to run.",ignoreFocusOut:!0});if(!d)return;n=d}}if(ha(r)===void 0){We.window.showErrorMessage("Unable to launch because the target file is not inside an opened folder in VSCode.");return}let o=[],u=await SV(r,n,i);if(u){o.push(u);let a=new We.TestRunRequest(o),c=new j1.CancellationTokenSource;e?N1.runHandler(a,c.token):F1.runHandler(a,c.token)}else fe.appendLine("Could not find test item from: "+r+" - "+n)}async function H1(t){t.subscriptions.push(We.commands.registerCommand("pydev.runTest",yV)),t.subscriptions.push(We.commands.registerCommand("pydev.debugTest",_V)),t.subscriptions.push(We.commands.registerCommand("pydev.runSuite",wV)),t.subscriptions.push(We.commands.registerCommand("pydev.debugSuite",EV)),t.subscriptions.push(We.commands.registerCommand("pydev.runCurrentFile",W1)),t.subscriptions.push(We.commands.registerCommand("pydev.debugCurrentFile",TV))}async function iE(t,e){try{let r=await We.commands.executeCommand(SL,{targetUri:e.toString()});if(r){t.pythonExecutable=r.pythonInterpreter;let n=t.env,i={};if(n&&r.environ?i={...n,...r.environ}:n?i={...n}:r.environ&&(i={...r.environ}),r.sourceFolders&&r.sourceFolders.length>0){let s=r.sourceFolders.join(sE.delimiter);i.PYTHONPATH&&i.PYTHONPATH.length>0?i.PYTHONPATH=s+sE.delimiter+i.PYTHONPATH:i.PYTHONPATH=s}t.env=i}}catch(r){qe("Error updating debug configuration from interpreter info.",r)}}async function W1(t=!1){let e=We.window.activeTextEditor;if(!e){We.window.showErrorMessage("Can only run/debug current file if there is an active editor.");return}let r=e.document.uri,n=ha(r),i;n?i=n.uri.fsPath:(i=sE.dirname(r.fsPath),fe.appendLine(`Running file not in workspace folder: ${r.fsPath} -- cwd: ${i}`));let s={type:"pydevd",name:"PyDev Run Current File",request:"launch",cwd:i,console:"integratedTerminal",env:{},args:[],program:r.fsPath};i=We.workspace.workspaceFolders[0].uri.fsPath;let o=await bV(n||null),u={noDebug:!t};o&&(s=await nE(s,o)),await iE(s,r),We.debug.startDebugging(n,s,u)}async function TV(){return await W1(!0)}var xn=require("vscode");var $1=async t=>{try{if(t){let r=t.globalState.get("pydevPersistedInterpreters");if(r){let i=JSON.parse(r).interpreters;if(i)return i}}}catch(e){qe("Error getting persisted interpreters",e)}return[]};async function aE(t,e){try{if(!e||!await Rr(e))return;let r=await $1(t),n=r.indexOf(e);if(n==-1||n>0){for(n>0&&r.splice(n,1),r.unshift(e);r.length>8;)r.pop();t.globalState.update("pydevPersistedInterpreters",JSON.stringify({interpreters:r}))}}catch(r){qe("Error adding interpreter to last interpreters",r)}}var z1=async t=>{try{if(t){let e=on(go);aE(t,e)}}catch(e){qe("Error getting persisted interpreters",e)}},G1=async t=>{let e=await $1(t),r=[];for(let o of e)r.push(o);let n="Browse for python executable ...";r.push(n);let i="Choose from conda ...";r.push(i);let s=await xn.window.showQuickPick(r,{canPickMany:!1});if(s)if(s===i){let o=await ht.sendRequest("listCondaEnvironments");if(o.success){let u=o.result;if(!u||u.length==0){xn.window.showErrorMessage("Found no environments in conda!");return}let a=[];for(let f of u){let d={label:f.name,description:f.executable};a.push(d)}let c=await xn.window.showQuickPick(a,{canPickMany:!1});return c?xn.Uri.file(c.description):void 0}else{xn.window.showErrorMessage(o.message);return}}else if(s===n){let o=e,u;if(o&&o.length>0)try{await Rr(o[0])&&(u=xn.Uri.file(o[0]))}catch(c){qe(`Error parsing ${o[0]} as Uri.`,c)}let a=await xn.window.showOpenDialog({openLabel:"Select interpreter to be used for PyDev",canSelectMany:!1,canSelectFiles:!0,canSelectFolders:!1,defaultUri:u});if(a&&a.length===1)return a[0]}else return xn.Uri.file(s)};var Xi=gt(require("vscode"));async function uE(t){let e=new Xi.WorkspaceEdit;for(let r of t.entries()){let[n,i]=r,s=i.map(o=>new Xi.SnippetTextEdit(o.range,new Xi.SnippetString(o.newText)));e.set(n,s)}await Xi.workspace.applyEdit(e)}var V1=gt(require("vscode")),K1=gt(require("fs"));var uZ=require("path"),uh=new V1.EventEmitter,X1={onDidChangeFileDecorations:uh.event,provideFileDecoration(t){if(!on(ql))return;let r=t.fsPath;if(r.endsWith(".py")||r.endsWith(".pyi")){for(let n of va)if(n.isInSourceFolder(r))return{badge:"\u1D56\u02B8",tooltip:"File in a PyDev Source Folder"}}else if(K1.statSync(r).isDirectory()){for(let n of va)if(n.isInSourceFolder(r))return{badge:"PY",tooltip:"Directory in a PyDev Source Folder"}}}};var cE=gt(require("fs")),ch=require("path"),lh=class{dirPath;sourceFolders;constructor(e){this.dirPath=e.dirPath,this.sourceFolders=e.sourceFolders}isInSourceFolder(e){let r=this.sourceFolders.map(i=>{try{return cE.statSync(ch.resolve(i))}catch{return null}}).filter(i=>i!==null),n=ch.resolve(e);for(;n;){let i=null;try{i=cE.statSync(n)}catch{return!1}for(let o of r)try{if(i.ino===o.ino&&i.dev===o.dev)return!0}catch{continue}let s=ch.dirname(n);if(!s||s===n)break;n=ch.resolve(s)}return!1}};var RV=require("os"),fh,ht,lE=!1,fE=class{context;registerErrorStubs=!1;useErrorStubs=!1;errorMessage=void 0;constructor(e){this.context=e}registerWithoutStub(e,r,n){this.context.subscriptions.push(de.commands.registerCommand(e,r))}register(e,r,n){async function i(){if(!lE)for(fe.appendLine(e+" called, but Language server is still not ready (waiting for it to be ready).");!lE;)await Ql(200);return await r.apply(n,arguments)}this.context.subscriptions.push(de.commands.registerCommand(e,i))}},ya,va=[],DV=t=>{ht.onNotification("language/testsCollected",r=>{ah(r)}),ht.onNotification("language/projectInfosUpdated",r=>{va=JSON.parse(r).map(n=>new lh(n)),fe.appendLine(`=== Project infos updated ===
`+JSON.stringify(va,null,2)),uh.fire(void 0)}),ht.onNotification(Fw.type,r=>{if(r&&r.file&&Dc.existsSync(r.file))return de.workspace.openTextDocument(r.file).then(n=>n?de.window.showTextDocument(n,de.window.activeTextEditor?de.window.activeTextEditor.viewColumn:void 0).then(i=>!!i):!1,()=>!1).then(n=>(n||de.window.showWarningMessage("Could not open file: "+r.file),n))}),ht.onNotification(Lw.type,r=>{let n=de.window.activeTextEditor;if(!n){fe.appendLine("This action requires an active text editor.");return}if(n.document.uri.toString()==r.uri){let i=new Yr.Selection(r.startLine,r.startCol,r.endLine,r.endCol);n.selection=i,n.revealRange(i)}else fe.appendLine("Text editor changed in the meanwhile: "+n.document.uri.toString()+" != "+r.uri)});let e=new xc;ht.onNotification(Nw.type,r=>{DS(`PyDev (${r.kind})`).append(r.message)}),ht.onNotification(Pw.type,r=>{switch(r.type){case"START_PROGRESS":e.start(),e.message(r.message);break;case"PROGRESS":e.message(r.message);break;case"END_PROGRESS":e.end();break}t.tooltip=r.message,dE(de.window.activeTextEditor,t)}),ht.onNotification(Iw.type,r=>{let n=null;switch(r.severity){case 4:n=NV;break;case 3:n=de.window.showInformationMessage;break;case 2:n=de.window.showWarningMessage;break;case 1:n=de.window.showErrorMessage;break}if(!n)return;let i=r.commands.map(s=>s.title);n(r.message,...i).then(s=>{for(let o of r.commands)if(o.title===s){let u=o.arguments?o.arguments:[];de.commands.executeCommand(o.command,...u);break}})})};async function OV(t){try{fe.appendLine("Activating vscode-pydev..."),Yr.workspace.onDidChangeConfiguration(async r=>{r.affectsConfiguration(`python.pydev.${go}`)&&await z1(t)}),aE(t,on(go));let e=await hL();return de.window.withProgress({location:de.ProgressLocation.Window},r=>new Promise((n,i)=>{let s=t.storageUri.fsPath;s||(s=kV());let o=zs.resolve(s+"/pydev_ws");fe.appendLine("Internal workspace location at: "+o);let u={documentSelector:["python"],synchronize:{configurationSection:"python",fileEvents:[de.workspace.createFileSystemWatcher("**/*.py"),de.workspace.createFileSystemWatcher("**/.project"),de.workspace.createFileSystemWatcher("**/.pydevproject")]},initializationOptions:{bundles:[],workspaceFolders:de.workspace.workspaceFolders?de.workspace.workspaceFolders.map(h=>h.uri.toString()):null},revealOutputChannelOn:dh.RevealOutputChannelOn.Never},a=de.window.createStatusBarItem(de.StatusBarAlignment.Right,Number.MIN_VALUE);a.text="PyDev",a.tooltip="Click for common PyDev configuration actions",a.command=qw,fh=sn();let c,f=process.env.SERVER_PORT,d=null;f?c=nT.bind(null,f):(c=rT(e,o,sn()),d=c.args,fe.appendLine(`Starting language server with: ${e.java_executable} ${d.join(" ")}`)),ht=new Y1.LanguageClient("python","PyDev (java server)",c,u),t.subscriptions.push(ht.onDidChangeState(h=>{if(h.newState==dh.State.Running){fe.appendLine("LanguageClient state: java process started");try{DV(a)}catch(y){qe("Error registering notifications",y)}}})),ht.registerProposedFeatures(),ht.onReady().then(()=>{fe.appendLine("LanguageClient ready!"),lE=!0,ht.outputChannel.appendLine("Workspace: "+o),ht.outputChannel.appendLine("Arguments: "+d),t.subscriptions.push(ht.onRequest("$/applySnippetWorkspaceEdit",async h=>{let y=ht.protocol2CodeConverter.asWorkspaceEdit(h.edit);return await uE(y),!0})),t.subscriptions.push(ht.onRequest("$/executeWorkspaceCommand",async h=>{fe.appendLine(h.command+" - "+JSON.stringify(h.arguments));let y;try{y=await de.commands.executeCommand(h.command,...h.arguments)}catch(_){_.message&&_.message.endsWith("not found")||qe("Error executing workspace command.",_)}return y}))});let m=ht.start();de.commands.registerCommand(kw,()=>qV(o)),de.commands.registerCommand(Aw,()=>{ht.outputChannel.show(!1)}),de.commands.registerCommand(Uw,()=>{PV()}),de.commands.registerCommand(jw,()=>{IV()}),de.commands.registerCommand(bL,async h=>{let y=ht.protocol2CodeConverter.asWorkspaceEdit(h.edit);await uE(y);let _=h.forceAnalysisUri;_&&(fe.appendLine("Forcing analysis of: "+_),await de.commands.executeCommand(Hw,{uri:_}));let S=h.focusEditorUri;if(S){let D=await de.workspace.openTextDocument(Yr.Uri.parse(S));D&&de.window.showTextDocument(D,de.window.activeTextEditor?de.window.activeTextEditor.viewColumn:void 0,!1)}return!0}),de.commands.registerCommand(qw,async()=>{let h="Show Python interpreter and PYTHONPATH information (global)",y="Show Python interpreter and PYTHONPATH information (active file)",_="Open PyDev .log file",S="Open output for PyDev (java server) in VSCode client",D="Open output for PyDev (vscode client) in VSCode client",w=de.window.activeTextEditor,T=[h];w&&w.document.languageId==="python"&&(y=`Show Python interpreter and PYTHONPATH information (active file: ${zs.basename(w.document.uri.fsPath)})`,T.push(y)),T.push(_),T.push(S),T.push(D);let P=await de.window.showQuickPick(T);P===h?de.commands.executeCommand(Mw):P===y?de.commands.executeCommand(Mw,{uri:w.document.uri.toString()}):P===_?de.commands.executeCommand(kw):P===S?de.commands.executeCommand(Aw):P===D&&fe.show()}),de.commands.registerCommand(wL,async()=>{let h=await G1(t);h&&sn().update(go,h.fsPath,Yr.ConfigurationTarget.Global)}),ya=new fE(t),ya.register(yL,async()=>await de.commands.executeCommand(_L)),ya.register(gL,async()=>await de.commands.executeCommand(vL)),ya.register(pL,async()=>await de.commands.executeCommand(mL)),ya.register(TL,async()=>{fe.appendLine("Clearing caches / Restarting LanguageClient");let h=await ht.sendRequest("clearCaches"),y=!1;try{fe.appendLine("Cleared caches, stopping LanguageClient"),await ht.stop(),fe.appendLine("LanguageClient stopped");try{for(let _ of h)fe.appendLine(`Deleting directory: ${_}`),Dc.rmdirSync(_,{recursive:!0,maxRetries:10,retryDelay:100})}catch(_){qe("Error deleting directories after stopping LanguageClient",_)}fe.appendLine("Starting LanguageClient"),await ht.start(),fe.appendLine("LanguageClient started")}catch(_){qe("Error clearing caches / restarting LanguageClient",_);let S="There was an error clearing caches / restarting LanguageClient, please restart VS Code.",D="Restart Now",w=dc.RELOAD_WINDOW;de.window.showWarningMessage(S,D).then(T=>{D===T&&de.commands.executeCommand(w)}),y=!0}y||de.window.showInformationMessage("PyDev: Caches cleared / LanguageClient restarted")}),ya.register(CL,async()=>{let h=de.window.activeTextEditor;if(!h||!h.document)de.window.showErrorMessage("Unable to run code analysis because there is no current editor.");else if(h.document.languageId!=="python")de.window.showErrorMessage(`Unable to run code analysis because the current language is not python. Found: ${h.document.languageId}`);else return await de.commands.executeCommand(Hw,{uri:h.document.uri.toString()})}),q1(),H1(t),xL(t),t.subscriptions.push(Yr.window.registerFileDecorationProvider(X1)),de.window.onDidChangeActiveTextEditor(h=>{dE(h,a),h&&h.document&&h.document.languageId==="python"&&ht.sendNotification("changeActivePythonTextEditor",h.document.uri.toString())}),t.subscriptions.push(m),t.subscriptions.push(FV()),dE(de.window.activeTextEditor,a),xV(),n(void 0)}))}catch(e){throw de.window.showErrorMessage(e.message,e.label).then(r=>{e.label&&e.label===r&&e.openUrl&&de.commands.executeCommand(dc.OPEN_BROWSER,e.openUrl)}),e}}async function xV(){let t="fabioz.vscode-pydev-python-debugger";if(!sn().get(Kg))return;let e=!0;try{Yr.extensions.getExtension(t)||(e=!1)}catch{e=!1}if(!e){let r="Install",n="Don't ask again",i=await de.window.showWarningMessage("It's recommended that the `Python Debugger (PyDev)` extension is installed to run python programs. Do you want to install now?",r,n);i==r?await de.commands.executeCommand("workbench.extensions.search",t):i==n&&sn().update(Kg,!1,!0)}}function J1(t){let e=de.window.activeTextEditor;if(!e){fe.appendLine("This action requires an active text editor.");return}let r=e.selection;if(!r){fe.appendLine("This action requires an active selection.");return}de.commands.executeCommand(t+".internal",{uri:e.document.uri.toString(),startLine:r.start.line,startCol:r.start.character,endLine:r.end.line,endCol:r.end.character})}function PV(){J1(Uw)}function IV(){J1(jw)}function NV(t,...e){return new Promise((r,n)=>{fe.appendLine(t)})}function dE(t,e){t&&t.document&&t.document.languageId==="python"?e.show():e.hide()}function FV(){return de.workspace.onDidChangeConfiguration(t=>{let e=sn();if(LV(fh,e)){let r="PyDev Language Server configuration changed, please restart VS Code.",n="Restart Now",i=dc.RELOAD_WINDOW;fh=e,de.window.showWarningMessage(r,n).then(s=>{n===s&&de.commands.executeCommand(i)})}else hE(ql,fh,e)&&uh.fire(void 0)})}function LV(t,e){return hE(ru,t,e)||hE(sT,t,e)}function hE(t,e,r){return e.get(t)!==r.get(t)}function kV(){return zs.resolve(RV.tmpdir(),"vscode_pydev_ws_"+AV(5))}function AV(t){let e=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],r="";for(let n=0;n<t;n++){let i=Math.floor(e.length*Math.random());r+=e[i]}return r}function qV(t){let e=zs.join(t,".metadata",".log");return Dc.existsSync(e)?de.workspace.openTextDocument(e).then(r=>r?de.window.showTextDocument(r,de.window.activeTextEditor?de.window.activeTextEditor.viewColumn:void 0).then(n=>!!n):!1,()=>!1).then(r=>(r||de.window.showWarningMessage("Could not open PyDev Language Server log file"),r)):de.window.showWarningMessage("PyDev Language Server has not started logging.").then(()=>!1)}0&&(module.exports={activate,globalProjectInfos,languageClient});
/*! Bundled license information:

es6-promise/dist/es6-promise.js:
  (*!
   * @overview es6-promise - a tiny implementation of Promises/A+.
   * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
   * @license   Licensed under MIT license
   *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
   * @version   v4.2.8+1e68dce6
   *)

sax/lib/sax.js:
  (*! http://mths.be/fromcodepoint v0.1.0 by @mathias *)
*/
